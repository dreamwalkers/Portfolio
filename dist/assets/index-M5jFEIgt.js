var Mr=Object.defineProperty;var ur=i=>{throw TypeError(i)};var Fr=(i,s,o)=>s in i?Mr(i,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[s]=o;var pn=(i,s,o)=>Fr(i,typeof s!="symbol"?s+"":s,o),Vn=(i,s,o)=>s.has(i)||ur("Cannot "+o);var At=(i,s,o)=>(Vn(i,s,"read from private field"),o?o.call(i):s.get(i)),Kt=(i,s,o)=>s.has(i)?ur("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,o),Qt=(i,s,o,a)=>(Vn(i,s,"write to private field"),a?a.call(i,o):s.set(i,o),o),Yt=(i,s,o)=>(Vn(i,s,"access private method"),o);var Xn=(i,s,o,a)=>({set _(c){Qt(i,s,c,o)},get _(){return At(i,s,a)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var s=i.default;if(typeof s=="function"){var o=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};o.prototype=s.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var c=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(o,a,c.get?c:{enumerable:!0,get:function(){return i[a]}})}),o}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),p$1=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,s){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,s,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,s,o){this.props=i,this.context=s,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,s,o){var a,c={},d=null,f=null;if(s!=null)for(a in s.ref!==void 0&&(f=s.ref),s.key!==void 0&&(d=""+s.key),s)J.call(s,a)&&!L$1.hasOwnProperty(a)&&(c[a]=s[a]);var st=arguments.length-2;if(st===1)c.children=o;else if(1<st){for(var nt=Array(st),_e=0;_e<st;_e++)nt[_e]=arguments[_e+2];c.children=nt}if(i&&i.defaultProps)for(a in st=i.defaultProps,st)c[a]===void 0&&(c[a]=st[a]);return{$$typeof:l,type:i,key:d,ref:f,props:c,_owner:K$1.current}}function N$1(i,s){return{$$typeof:l,type:i.type,key:s,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l}function escape$1(i){var s={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(o){return s[o]})}var P$1=/\/+/g;function Q$1(i,s){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):s.toString(36)}function R$1(i,s,o,a,c){var d=typeof i;(d==="undefined"||d==="boolean")&&(i=null);var f=!1;if(i===null)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(i.$$typeof){case l:case n:f=!0}}if(f)return f=i,c=c(f),i=a===""?"."+Q$1(f,0):a,I$1(c)?(o="",i!=null&&(o=i.replace(P$1,"$&/")+"/"),R$1(c,s,o,"",function(_e){return _e})):c!=null&&(O$1(c)&&(c=N$1(c,o+(!c.key||f&&f.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+i)),s.push(c)),1;if(f=0,a=a===""?".":a+":",I$1(i))for(var st=0;st<i.length;st++){d=i[st];var nt=a+Q$1(d,st);f+=R$1(d,s,o,nt,c)}else if(nt=A$1(i),typeof nt=="function")for(i=nt.call(i),st=0;!(d=i.next()).done;)d=d.value,nt=a+Q$1(d,st++),f+=R$1(d,s,o,nt,c);else if(d==="object")throw s=String(i),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return f}function S$1(i,s,o){if(i==null)return i;var a=[],c=0;return R$1(i,a,"","",function(d){return s.call(o,d,c++)}),a}function T$1(i){if(i._status===-1){var s=i._result;s=s(),s.then(function(o){(i._status===0||i._status===-1)&&(i._status=1,i._result=o)},function(o){(i._status===0||i._status===-1)&&(i._status=2,i._result=o)}),i._status===-1&&(i._status=0,i._result=s)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,s,o){S$1(i,function(){s.apply(this,arguments)},o)},count:function(i){var s=0;return S$1(i,function(){s++}),s},toArray:function(i){return S$1(i,function(s){return s})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$1;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,s,o){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var a=C$1({},i.props),c=i.key,d=i.ref,f=i._owner;if(s!=null){if(s.ref!==void 0&&(d=s.ref,f=K$1.current),s.key!==void 0&&(c=""+s.key),i.type&&i.type.defaultProps)var st=i.type.defaultProps;for(nt in s)J.call(s,nt)&&!L$1.hasOwnProperty(nt)&&(a[nt]=s[nt]===void 0&&st!==void 0?st[nt]:s[nt])}var nt=arguments.length-2;if(nt===1)a.children=o;else if(1<nt){st=Array(nt);for(var _e=0;_e<nt;_e++)st[_e]=arguments[_e+2];a.children=st}return{$$typeof:l,type:i.type,key:c,ref:d,props:a,_owner:f}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var s=M$1.bind(null,i);return s.type=i,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,s){return{$$typeof:x,type:i,compare:s===void 0?null:s}};react_production_min.startTransition=function(i){var s=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=s}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,s){return U$1.current.useCallback(i,s)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,s){return U$1.current.useEffect(i,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,s,o){return U$1.current.useImperativeHandle(i,s,o)};react_production_min.useInsertionEffect=function(i,s){return U$1.current.useInsertionEffect(i,s)};react_production_min.useLayoutEffect=function(i,s){return U$1.current.useLayoutEffect(i,s)};react_production_min.useMemo=function(i,s){return U$1.current.useMemo(i,s)};react_production_min.useReducer=function(i,s,o){return U$1.current.useReducer(i,s,o)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,s,o){return U$1.current.useSyncExternalStore(i,s,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function s(Rt,It){var zt=Rt.length;Rt.push(It);e:for(;0<zt;){var Vt=zt-1>>>1,wt=Rt[Vt];if(0<c(wt,It))Rt[Vt]=It,Rt[zt]=wt,zt=Vt;else break e}}function o(Rt){return Rt.length===0?null:Rt[0]}function a(Rt){if(Rt.length===0)return null;var It=Rt[0],zt=Rt.pop();if(zt!==It){Rt[0]=zt;e:for(var Vt=0,wt=Rt.length,dt=wt>>>1;Vt<dt;){var ot=2*(Vt+1)-1,bt=Rt[ot],Pt=ot+1,Tt=Rt[Pt];if(0>c(bt,zt))Pt<wt&&0>c(Tt,bt)?(Rt[Vt]=Tt,Rt[Pt]=zt,Vt=Pt):(Rt[Vt]=bt,Rt[ot]=zt,Vt=ot);else if(Pt<wt&&0>c(Tt,zt))Rt[Vt]=Tt,Rt[Pt]=zt,Vt=Pt;else break e}}return It}function c(Rt,It){var zt=Rt.sortIndex-It.sortIndex;return zt!==0?zt:Rt.id-It.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,st=f.now();i.unstable_now=function(){return f.now()-st}}var nt=[],_e=[],ht=1,ft=null,it=3,at=!1,et=!1,h=!1,rt=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Rt){for(var It=o(_e);It!==null;){if(It.callback===null)a(_e);else if(It.startTime<=Rt)a(_e),It.sortIndex=It.expirationTime,s(nt,It);else break;It=o(_e)}}function j(Rt){if(h=!1,_(Rt),!et)if(o(nt)!==null)et=!0,Nt(ut);else{var It=o(_e);It!==null&&Lt(j,It.startTime-Rt)}}function ut(Rt,It){et=!1,h&&(h=!1,g($),$=-1),at=!0;var zt=it;try{for(_(It),ft=o(nt);ft!==null&&(!(ft.expirationTime>It)||Rt&&!Et());){var Vt=ft.callback;if(typeof Vt=="function"){ft.callback=null,it=ft.priorityLevel;var wt=Vt(ft.expirationTime<=It);It=i.unstable_now(),typeof wt=="function"?ft.callback=wt:ft===o(nt)&&a(nt),_(It)}else a(nt);ft=o(nt)}if(ft!==null)var dt=!0;else{var ot=o(_e);ot!==null&&Lt(j,ot.startTime-It),dt=!1}return dt}finally{ft=null,it=zt,at=!1}}var ct=!1,b=null,$=-1,lt=5,vt=-1;function Et(){return!(i.unstable_now()-vt<lt)}function Mt(){if(b!==null){var Rt=i.unstable_now();vt=Rt;var It=!0;try{It=b(!0,Rt)}finally{It?Ot():(ct=!1,b=null)}}else ct=!1}var Ot;if(typeof k=="function")Ot=function(){k(Mt)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,Wt=Dt.port2;Dt.port1.onmessage=Mt,Ot=function(){Wt.postMessage(null)}}else Ot=function(){rt(Mt,0)};function Nt(Rt){b=Rt,ct||(ct=!0,Ot())}function Lt(Rt,It){$=rt(function(){Rt(i.unstable_now())},It)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Rt){Rt.callback=null},i.unstable_continueExecution=function(){et||at||(et=!0,Nt(ut))},i.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<Rt?Math.floor(1e3/Rt):5},i.unstable_getCurrentPriorityLevel=function(){return it},i.unstable_getFirstCallbackNode=function(){return o(nt)},i.unstable_next=function(Rt){switch(it){case 1:case 2:case 3:var It=3;break;default:It=it}var zt=it;it=It;try{return Rt()}finally{it=zt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Rt,It){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var zt=it;it=Rt;try{return It()}finally{it=zt}},i.unstable_scheduleCallback=function(Rt,It,zt){var Vt=i.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Vt+zt:Vt):zt=Vt,Rt){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=zt+wt,Rt={id:ht++,callback:It,priorityLevel:Rt,startTime:zt,expirationTime:wt,sortIndex:-1},zt>Vt?(Rt.sortIndex=zt,s(_e,Rt),o(nt)===null&&Rt===o(_e)&&(h?(g($),$=-1):h=!0,Lt(j,zt-Vt))):(Rt.sortIndex=wt,s(nt,Rt),et||at||(et=!0,Nt(ut))),Rt},i.unstable_shouldYield=Et,i.unstable_wrapCallback=function(Rt){var It=it;return function(){var zt=it;it=It;try{return Rt.apply(this,arguments)}finally{it=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,s){ha(i,s),ha(i+"Capture",s)}function ha(i,s){for(ea[i]=s,i=0;i<s.length;i++)da.add(s[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,s,o,a){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,s,o,a){if(s===null||typeof s>"u"||pa(i,s,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(i,s,o,a,c,d,f){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=i,this.type=s,this.sanitizeURL=d,this.removeEmptyString=f}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new v(s,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ra,sa);z[s]=new v(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,s,o,a){var c=z.hasOwnProperty(s)?z[s]:null;(c!==null?c.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,o,c,a)&&(o=null),a||c===null?oa(s)&&(o===null?i.removeAttribute(s):i.setAttribute(s,""+o)):c.mustUseProperty?i[c.propertyName]=o===null?c.type===3?!1:"":o:(s=c.attributeName,a=c.attributeNamespace,o===null?i.removeAttribute(s):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?i.setAttributeNS(a,s,o):i.setAttribute(s,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+i}var Na=!1;function Oa(i,s){if(!i||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(_e){var a=_e}Reflect.construct(i,[],s)}else{try{s.call()}catch(_e){a=_e}i.call(s.prototype)}else{try{throw Error()}catch(_e){a=_e}i()}}catch(_e){if(_e&&a&&typeof _e.stack=="string"){for(var c=_e.stack.split(`
`),d=a.stack.split(`
`),f=c.length-1,st=d.length-1;1<=f&&0<=st&&c[f]!==d[st];)st--;for(;1<=f&&0<=st;f--,st--)if(c[f]!==d[st]){if(f!==1||st!==1)do if(f--,st--,0>st||c[f]!==d[st]){var nt=`
`+c[f].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=f&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return s=i.displayName||null,s!==null?s:Qa(i.type)||"Memo";case Ha:s=i._payload,i=i._init;try{return Qa(i(s))}catch{}}return null}function Ra(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(i){var s=Ta(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),a=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return c.call(this)},set:function(f){a=""+f,d.call(this,f)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),a="";return i&&(a=Ta(i)?i.checked?"true":"false":i.value),i=a,i!==o?(s.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,s){var o=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??i._wrapperState.initialChecked})}function Za(i,s){var o=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;o=Sa(s.value!=null?s.value:o),i._wrapperState={initialChecked:a,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(i,s){s=s.checked,s!=null&&ta(i,"checked",s,!1)}function bb(i,s){ab(i,s);var o=Sa(s.value),a=s.type;if(o!=null)a==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+o):i.value!==""+o&&(i.value=""+o);else if(a==="submit"||a==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?cb(i,s.type,o):s.hasOwnProperty("defaultValue")&&cb(i,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function db(i,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,o||s===i.value||(i.value=s),i.defaultValue=s}o=i.name,o!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,o!==""&&(i.name=o)}function cb(i,s,o){(s!=="number"||Xa(i.ownerDocument)!==i)&&(o==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+o&&(i.defaultValue=""+o))}var eb=Array.isArray;function fb(i,s,o,a){if(i=i.options,s){s={};for(var c=0;c<o.length;c++)s["$"+o[c]]=!0;for(o=0;o<i.length;o++)c=s.hasOwnProperty("$"+i[o].value),i[o].selected!==c&&(i[o].selected=c),c&&a&&(i[o].defaultSelected=!0)}else{for(o=""+Sa(o),s=null,c=0;c<i.length;c++){if(i[c].value===o){i[c].selected=!0,a&&(i[c].defaultSelected=!0);return}s!==null||i[c].disabled||(s=i[c])}s!==null&&(s.selected=!0)}}function gb(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}s=o}s==null&&(s=""),o=s}i._wrapperState={initialValue:Sa(o)}}function ib(i,s){var o=Sa(s.value),a=Sa(s.defaultValue);o!=null&&(o=""+o,o!==i.value&&(i.value=o),s.defaultValue==null&&i.defaultValue!==o&&(i.defaultValue=o)),a!=null&&(i.defaultValue=""+a)}function jb(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,a,c){MSApp.execUnsafeLocalFunction(function(){return i(s,o,a,c)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ob(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pb[s]=pb[i]})});function rb(i,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||pb.hasOwnProperty(i)&&pb[i]?(""+s).trim():s+"px"}function sb(i,s){i=i.style;for(var o in s)if(s.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=rb(o,s[o],a);o==="float"&&(o="cssFloat"),a?i.setProperty(o,c):i[o]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,s){if(s){if(tb[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var s=i.stateNode;s&&(s=Db(s),yb(i.stateNode,i.type,s))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,s=Ab;if(Ab=zb=null,Bb(i),s)for(i=0;i<s.length;i++)Bb(s[i])}}function Gb(i,s){return i(s)}function Hb(){}var Ib=!1;function Jb(i,s,o){if(Ib)return i(s,o);Ib=!0;try{return Gb(i,s,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,s){var o=i.stateNode;if(o===null)return null;var a=Db(o);if(a===null)return null;o=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(i=i.type,a=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!a;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(p(231,s,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,s,o,a,c,d,f,st,nt){var _e=Array.prototype.slice.call(arguments,3);try{s.apply(o,_e)}catch(ht){this.onError(ht)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,s,o,a,c,d,f,st,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,s,o,a,c,d,f,st,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var _e=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=_e)}}function Vb(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Wb(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var s=i.alternate;if(!s){if(s=Vb(i),s===null)throw Error(p(188));return s!==i?null:i}for(var o=i,a=s;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return Xb(c),i;if(d===a)return Xb(c),s;d=d.sibling}throw Error(p(188))}if(o.return!==a.return)o=c,a=d;else{for(var f=!1,st=c.child;st;){if(st===o){f=!0,o=c,a=d;break}if(st===a){f=!0,a=c,o=d;break}st=st.sibling}if(!f){for(st=d.child;st;){if(st===o){f=!0,o=d,a=c;break}if(st===a){f=!0,a=d,o=c;break}st=st.sibling}if(!f)throw Error(p(189))}}if(o.alternate!==a)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?i:s}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=$b(i);if(s!==null)return s;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,s){var o=i.pendingLanes;if(o===0)return 0;var a=0,c=i.suspendedLanes,d=i.pingedLanes,f=o&268435455;if(f!==0){var st=f&~c;st!==0?a=tc(st):(d&=f,d!==0&&(a=tc(d)))}else f=o&~c,f!==0?a=tc(f):d!==0&&(a=tc(d));if(a===0)return 0;if(s!==0&&s!==a&&!(s&c)&&(c=a&-a,d=s&-s,c>=d||c===16&&(d&4194240)!==0))return s;if(a&4&&(a|=o&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=a;0<s;)o=31-oc(s),c=1<<o,a|=i[o],s&=~c;return a}function vc(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,s){for(var o=i.suspendedLanes,a=i.pingedLanes,c=i.expirationTimes,d=i.pendingLanes;0<d;){var f=31-oc(d),st=1<<f,nt=c[f];nt===-1?(!(st&o)||st&a)&&(c[f]=vc(st,s)):nt<=s&&(i.expiredLanes|=st),d&=~st}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ac(i,s,o){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-oc(s),i[s]=o}function Bc(i,s){var o=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var a=i.eventTimes;for(i=i.expirationTimes;0<o;){var c=31-oc(o),d=1<<c;s[c]=0,a[c]=-1,i[c]=-1,o&=~d}}function Cc(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var a=31-oc(o),c=1<<a;c&s|i[a]&s&&(i[a]|=s),o&=~c}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,s){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(i,s,o,a,c,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),i):(i.eventSystemFlags|=a,s=i.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),i)}function Uc(i,s,o,a,c){switch(s){case"focusin":return Lc=Tc(Lc,i,s,o,a,c),!0;case"dragenter":return Mc=Tc(Mc,i,s,o,a,c),!0;case"mouseover":return Nc=Tc(Nc,i,s,o,a,c),!0;case"pointerover":var d=c.pointerId;return Oc.set(d,Tc(Oc.get(d)||null,i,s,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Pc.set(d,Tc(Pc.get(d)||null,i,s,o,a,c)),!0}return!1}function Vc(i){var s=Wc(i.target);if(s!==null){var o=Vb(s);if(o!==null){if(s=o.tag,s===13){if(s=Wb(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){Gc(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Yc(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(o===null){o=i.nativeEvent;var a=new o.constructor(o.type,o);wb=a,o.target.dispatchEvent(a),wb=null}else return s=Cb(o),s!==null&&Fc(s),i.blockedOn=o,!1;s.shift()}return!0}function Zc(i,s,o){Xc(i)&&o.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,s){i.blockedOn===s&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function s(c){return ad(c,i)}if(0<Kc.length){ad(Kc[0],i);for(var o=1;o<Kc.length;o++){var a=Kc[o];a.blockedOn===i&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(s),Pc.forEach(s),o=0;o<Qc.length;o++)a=Qc[o],a.blockedOn===i&&(a.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=1,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function gd(i,s,o,a){var c=C,d=cd.transition;cd.transition=null;try{C=4,fd(i,s,o,a)}finally{C=c,cd.transition=d}}function fd(i,s,o,a){if(dd){var c=Yc(i,s,o,a);if(c===null)hd(i,s,a,id,o),Sc(i,a);else if(Uc(c,i,s,o,a))a.stopPropagation();else if(Sc(i,a),s&4&&-1<Rc.indexOf(i)){for(;c!==null;){var d=Cb(c);if(d!==null&&Ec(d),d=Yc(i,s,o,a),d===null&&hd(i,s,a,id,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else hd(i,s,a,null,o)}}var id=null;function Yc(i,s,o,a){if(id=null,i=xb(a),i=Wc(i),i!==null)if(s=Vb(i),s===null)i=null;else if(o=s.tag,o===13){if(i=Wb(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,s=ld,o=s.length,a,c="value"in kd?kd.value:kd.textContent,d=c.length;for(i=0;i<o&&s[i]===c[i];i++);var f=o-i;for(a=1;a<=f&&s[o-a]===c[d-a];a++);return md=c.slice(i,1<a?1-a:void 0)}function od(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function s(o,a,c,d,f){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=f,this.currentTarget=null;for(var st in i)i.hasOwnProperty(st)&&(o=i[st],this[st]=o?o(d):d[st]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Od[i])?!!s[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var s=Md[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,s){switch(i){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return i=s.data,i===ee&&fe?null:i;default:return null}}function ke(i,s){if(ie)return i==="compositionend"||!ae&&ge(i,s)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!le[i.type]:s==="textarea"}function ne(i,s,o,a){Eb(a),s=oe(s,"onChange"),0<s.length&&(o=new td("onChange","change",null,o,a),i.push({event:o,listeners:s}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var s=ue(i);if(Wa(s))return i}function ve(i,s){if(i==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,i,xb(i)),Jb(re,s)}}function Ce(i,s,o){i==="focusin"?(Ae(),pe=s,qe=o,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,s){if(i==="click")return te(s)}function Fe(i,s){if(i==="input"||i==="change")return te(s)}function Ge(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,s){if(He(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),a=Object.keys(s);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!ja.call(s,c)||!He(i[c],s[c]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,s){var o=Je(i);i=0;for(var a;o;){if(o.nodeType===3){if(a=i+o.textContent.length,i<=s&&a>=s)return{node:o,offset:s-i};i=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je(o)}}function Le(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Le(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var i=window,s=Xa();s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Xa(i.document)}return s}function Ne(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Oe(i){var s=Me(),o=i.focusedElem,a=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(a!==null&&Ne(o)){if(s=a.start,i=a.end,i===void 0&&(i=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(i,o.value.length);else if(i=(s=o.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!i.extend&&d>a&&(c=a,a=d,d=c),c=Ke(o,d);var f=Ke(o,a);c&&f&&(i.rangeCount!==1||i.anchorNode!==c.node||i.anchorOffset!==c.offset||i.focusNode!==f.node||i.focusOffset!==f.offset)&&(s=s.createRange(),s.setStart(c.node,c.offset),i.removeAllRanges(),d>a?(i.addRange(s),i.extend(f.node,f.offset)):(s.setEnd(f.node,f.offset),i.addRange(s)))}}for(s=[],i=o;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)i=s[o],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,s,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(s=new td("onSelect","select",null,s,o),i.push({event:s,listeners:a}),s.target=Qe)))}function Ve(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var s=We[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ye)return Xe[i]=s[o];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,s){df.set(i,s),fa(s,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,s,o){var a=i.type||"unknown-event";i.currentTarget=o,Ub(a,s,void 0,i),i.currentTarget=null}function se(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var a=i[o],c=a.event;a=a.listeners;e:{var d=void 0;if(s)for(var f=a.length-1;0<=f;f--){var st=a[f],nt=st.instance,_e=st.currentTarget;if(st=st.listener,nt!==d&&c.isPropagationStopped())break e;nf(c,st,_e),d=nt}else for(f=0;f<a.length;f++){if(st=a[f],nt=st.instance,_e=st.currentTarget,st=st.listener,nt!==d&&c.isPropagationStopped())break e;nf(c,st,_e),d=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,s){var o=s[of];o===void 0&&(o=s[of]=new Set);var a=i+"__bubble";o.has(a)||(pf(s,i,2,!1),o.add(a))}function qf(i,s,o){var a=0;s&&(a|=4),pf(o,i,a,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,i),qf(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(i,s,o,a){switch(jd(s)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}o=c.bind(null,s,o,i),c=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),a?c!==void 0?i.addEventListener(s,o,{capture:!0,passive:c}):i.addEventListener(s,o,!0):c!==void 0?i.addEventListener(s,o,{passive:c}):i.addEventListener(s,o,!1)}function hd(i,s,o,a,c){var d=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var st=a.stateNode.containerInfo;if(st===c||st.nodeType===8&&st.parentNode===c)break;if(f===4)for(f=a.return;f!==null;){var nt=f.tag;if((nt===3||nt===4)&&(nt=f.stateNode.containerInfo,nt===c||nt.nodeType===8&&nt.parentNode===c))return;f=f.return}for(;st!==null;){if(f=Wc(st),f===null)return;if(nt=f.tag,nt===5||nt===6){a=d=f;continue e}st=st.parentNode}}a=a.return}Jb(function(){var _e=d,ht=xb(o),ft=[];e:{var it=df.get(i);if(it!==void 0){var at=td,et=i;switch(i){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":at=Rd;break;case"focusin":et="focus",at=Fd;break;case"focusout":et="blur",at=Fd;break;case"beforeblur":case"afterblur":at=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Vd;break;case $e:case af:case bf:at=Hd;break;case cf:at=Xd;break;case"scroll":at=vd;break;case"wheel":at=Zd;break;case"copy":case"cut":case"paste":at=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Td}var h=(s&4)!==0,rt=!h&&i==="scroll",g=h?it!==null?it+"Capture":null:it;h=[];for(var k=_e,_;k!==null;){_=k;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,g!==null&&(j=Kb(k,g),j!=null&&h.push(tf(k,j,_)))),rt)break;k=k.return}0<h.length&&(it=new at(it,et,null,o,ht),ft.push({event:it,listeners:h}))}}if(!(s&7)){e:{if(it=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",it&&o!==wb&&(et=o.relatedTarget||o.fromElement)&&(Wc(et)||et[uf]))break e;if((at||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,at?(et=o.relatedTarget||o.toElement,at=_e,et=et?Wc(et):null,et!==null&&(rt=Vb(et),et!==rt||et.tag!==5&&et.tag!==6)&&(et=null)):(at=null,et=_e),at!==et)){if(h=Bd,j="onMouseLeave",g="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(h=Td,j="onPointerLeave",g="onPointerEnter",k="pointer"),rt=at==null?it:ue(at),_=et==null?it:ue(et),it=new h(j,k+"leave",at,o,ht),it.target=rt,it.relatedTarget=_,j=null,Wc(ht)===_e&&(h=new h(g,k+"enter",et,o,ht),h.target=_,h.relatedTarget=rt,j=h),rt=j,at&&et)t:{for(h=at,g=et,k=0,_=h;_;_=vf(_))k++;for(_=0,j=g;j;j=vf(j))_++;for(;0<k-_;)h=vf(h),k--;for(;0<_-k;)g=vf(g),_--;for(;k--;){if(h===g||g!==null&&h===g.alternate)break t;h=vf(h),g=vf(g)}h=null}else h=null;at!==null&&wf(ft,it,at,h,!1),et!==null&&rt!==null&&wf(ft,rt,et,h,!0)}}e:{if(it=_e?ue(_e):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var ut=ve;else if(me(it))if(we)ut=Fe;else{ut=De;var ct=Ce}else(at=it.nodeName)&&at.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(ut=Ee);if(ut&&(ut=ut(i,_e))){ne(ft,ut,o,ht);break e}ct&&ct(i,it,_e),i==="focusout"&&(ct=it._wrapperState)&&ct.controlled&&it.type==="number"&&cb(it,"number",it.value)}switch(ct=_e?ue(_e):window,i){case"focusin":(me(ct)||ct.contentEditable==="true")&&(Qe=ct,Re=_e,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ft,o,ht);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ft,o,ht)}var b;if(ae)e:{switch(i){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ie?ge(i,o)&&($="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&($="onCompositionStart");$&&(de&&o.locale!=="ko"&&(ie||$!=="onCompositionStart"?$==="onCompositionEnd"&&ie&&(b=nd()):(kd=ht,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ct=oe(_e,$),0<ct.length&&($=new Ld($,i,null,o,ht),ft.push({event:$,listeners:ct}),b?$.data=b:(b=he(o),b!==null&&($.data=b)))),(b=ce?je(i,o):ke(i,o))&&(_e=oe(_e,"onBeforeInput"),0<_e.length&&(ht=new Ld("onBeforeInput","beforeinput",null,o,ht),ft.push({event:ht,listeners:_e}),ht.data=b))}se(ft,s)})}function tf(i,s,o){return{instance:i,listener:s,currentTarget:o}}function oe(i,s){for(var o=s+"Capture",a=[];i!==null;){var c=i,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Kb(i,o),d!=null&&a.unshift(tf(i,d,c)),d=Kb(i,s),d!=null&&a.push(tf(i,d,c))),i=i.return}return a}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,s,o,a,c){for(var d=s._reactName,f=[];o!==null&&o!==a;){var st=o,nt=st.alternate,_e=st.stateNode;if(nt!==null&&nt===a)break;st.tag===5&&_e!==null&&(st=_e,c?(nt=Kb(o,d),nt!=null&&f.unshift(tf(o,nt,st))):c||(nt=Kb(o,d),nt!=null&&f.push(tf(o,nt,st)))),o=o.return}f.length!==0&&i.push({event:s,listeners:f})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,s,o){if(s=zf(s),zf(i)!==s&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,s){var o=s,a=0;do{var c=o.nextSibling;if(i.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){i.removeChild(c),bd(s);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);bd(s)}function Lf(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var s=i[Of];if(s)return s;for(var o=i.parentNode;o;){if(s=o[uf]||o[Of]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Mf(i);i!==null;){if(o=i[Of])return o;i=Mf(i)}return s}i=o,o=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,s){Tf++,Sf[Tf]=i.current,i.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,s){var o=i.type.contextTypes;if(!o)return Vf;var a=i.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=s[d];return a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,s,o){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,o)}function bg(i,s,o){var a=i.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in s))throw Error(p(108,Ra(i)||"Unknown",c));return A({},o,a)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,s,o){var a=i.stateNode;if(!a)throw Error(p(169));o?(i=bg(i,s,Xf),a.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,s=C;try{var o=eg;for(C=1;i<o.length;i++){var a=o[i];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),c}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,s){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=s}function ug(i,s,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var a=rg;i=sg;var c=32-oc(a)-1;a&=~(1<<c),o+=1;var d=32-oc(s)+c;if(30<d){var f=c-c%5;d=(a&(1<<f)-1).toString(32),a>>=f,c-=f,rg=1<<32-oc(s)+c|o<<c|a,sg=d+i}else rg=1<<d|o<<c|a,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,s){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=i,s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)}function Cg(i,s){switch(i.tag){case 5:var o=i.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,xg=i,yg=Lf(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,xg=i,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=s,o.return=i,i.child=o,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var s=yg;if(s){var o=s;if(!Cg(i,s)){if(Dg(i))throw Error(p(418));s=Lf(o.nextSibling);var a=xg;s&&Cg(i,s)?Ag(a,o):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Ef(i.type,i.memoizedProps)),s&&(s=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;s;)Ag(i,s),s=Lf(s.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"){if(s===0){yg=Lf(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,s,o){if(i=o.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var a=o.stateNode}if(!a)throw Error(p(147,i));var c=a,d=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===d?s.ref:(s=function(f){var st=c.refs;f===null?delete st[d]:st[d]=f},s._stringRef=d,s)}if(typeof i!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,i))}return i}function Mg(i,s){throw i=Object.prototype.toString.call(s),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Ng(i){var s=i._init;return s(i._payload)}function Og(i){function s(g,k){if(i){var _=g.deletions;_===null?(g.deletions=[k],g.flags|=16):_.push(k)}}function o(g,k){if(!i)return null;for(;k!==null;)s(g,k),k=k.sibling;return null}function a(g,k){for(g=new Map;k!==null;)k.key!==null?g.set(k.key,k):g.set(k.index,k),k=k.sibling;return g}function c(g,k){return g=Pg(g,k),g.index=0,g.sibling=null,g}function d(g,k,_){return g.index=_,i?(_=g.alternate,_!==null?(_=_.index,_<k?(g.flags|=2,k):_):(g.flags|=2,k)):(g.flags|=1048576,k)}function f(g){return i&&g.alternate===null&&(g.flags|=2),g}function st(g,k,_,j){return k===null||k.tag!==6?(k=Qg(_,g.mode,j),k.return=g,k):(k=c(k,_),k.return=g,k)}function nt(g,k,_,j){var ut=_.type;return ut===ya?ht(g,k,_.props.children,j,_.key):k!==null&&(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===k.type)?(j=c(k,_.props),j.ref=Lg(g,k,_),j.return=g,j):(j=Rg(_.type,_.key,_.props,null,g.mode,j),j.ref=Lg(g,k,_),j.return=g,j)}function _e(g,k,_,j){return k===null||k.tag!==4||k.stateNode.containerInfo!==_.containerInfo||k.stateNode.implementation!==_.implementation?(k=Sg(_,g.mode,j),k.return=g,k):(k=c(k,_.children||[]),k.return=g,k)}function ht(g,k,_,j,ut){return k===null||k.tag!==7?(k=Tg(_,g.mode,j,ut),k.return=g,k):(k=c(k,_),k.return=g,k)}function ft(g,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Qg(""+k,g.mode,_),k.return=g,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case va:return _=Rg(k.type,k.key,k.props,null,g.mode,_),_.ref=Lg(g,null,k),_.return=g,_;case wa:return k=Sg(k,g.mode,_),k.return=g,k;case Ha:var j=k._init;return ft(g,j(k._payload),_)}if(eb(k)||Ka(k))return k=Tg(k,g.mode,_,null),k.return=g,k;Mg(g,k)}return null}function it(g,k,_,j){var ut=k!==null?k.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return ut!==null?null:st(g,k,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case va:return _.key===ut?nt(g,k,_,j):null;case wa:return _.key===ut?_e(g,k,_,j):null;case Ha:return ut=_._init,it(g,k,ut(_._payload),j)}if(eb(_)||Ka(_))return ut!==null?null:ht(g,k,_,j,null);Mg(g,_)}return null}function at(g,k,_,j,ut){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(_)||null,st(k,g,""+j,ut);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case va:return g=g.get(j.key===null?_:j.key)||null,nt(k,g,j,ut);case wa:return g=g.get(j.key===null?_:j.key)||null,_e(k,g,j,ut);case Ha:var ct=j._init;return at(g,k,_,ct(j._payload),ut)}if(eb(j)||Ka(j))return g=g.get(_)||null,ht(k,g,j,ut,null);Mg(k,j)}return null}function et(g,k,_,j){for(var ut=null,ct=null,b=k,$=k=0,lt=null;b!==null&&$<_.length;$++){b.index>$?(lt=b,b=null):lt=b.sibling;var vt=it(g,b,_[$],j);if(vt===null){b===null&&(b=lt);break}i&&b&&vt.alternate===null&&s(g,b),k=d(vt,k,$),ct===null?ut=vt:ct.sibling=vt,ct=vt,b=lt}if($===_.length)return o(g,b),I&&tg(g,$),ut;if(b===null){for(;$<_.length;$++)b=ft(g,_[$],j),b!==null&&(k=d(b,k,$),ct===null?ut=b:ct.sibling=b,ct=b);return I&&tg(g,$),ut}for(b=a(g,b);$<_.length;$++)lt=at(b,g,$,_[$],j),lt!==null&&(i&&lt.alternate!==null&&b.delete(lt.key===null?$:lt.key),k=d(lt,k,$),ct===null?ut=lt:ct.sibling=lt,ct=lt);return i&&b.forEach(function(Et){return s(g,Et)}),I&&tg(g,$),ut}function h(g,k,_,j){var ut=Ka(_);if(typeof ut!="function")throw Error(p(150));if(_=ut.call(_),_==null)throw Error(p(151));for(var ct=ut=null,b=k,$=k=0,lt=null,vt=_.next();b!==null&&!vt.done;$++,vt=_.next()){b.index>$?(lt=b,b=null):lt=b.sibling;var Et=it(g,b,vt.value,j);if(Et===null){b===null&&(b=lt);break}i&&b&&Et.alternate===null&&s(g,b),k=d(Et,k,$),ct===null?ut=Et:ct.sibling=Et,ct=Et,b=lt}if(vt.done)return o(g,b),I&&tg(g,$),ut;if(b===null){for(;!vt.done;$++,vt=_.next())vt=ft(g,vt.value,j),vt!==null&&(k=d(vt,k,$),ct===null?ut=vt:ct.sibling=vt,ct=vt);return I&&tg(g,$),ut}for(b=a(g,b);!vt.done;$++,vt=_.next())vt=at(b,g,$,vt.value,j),vt!==null&&(i&&vt.alternate!==null&&b.delete(vt.key===null?$:vt.key),k=d(vt,k,$),ct===null?ut=vt:ct.sibling=vt,ct=vt);return i&&b.forEach(function(Mt){return s(g,Mt)}),I&&tg(g,$),ut}function rt(g,k,_,j){if(typeof _=="object"&&_!==null&&_.type===ya&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case va:e:{for(var ut=_.key,ct=k;ct!==null;){if(ct.key===ut){if(ut=_.type,ut===ya){if(ct.tag===7){o(g,ct.sibling),k=c(ct,_.props.children),k.return=g,g=k;break e}}else if(ct.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===ct.type){o(g,ct.sibling),k=c(ct,_.props),k.ref=Lg(g,ct,_),k.return=g,g=k;break e}o(g,ct);break}else s(g,ct);ct=ct.sibling}_.type===ya?(k=Tg(_.props.children,g.mode,j,_.key),k.return=g,g=k):(j=Rg(_.type,_.key,_.props,null,g.mode,j),j.ref=Lg(g,k,_),j.return=g,g=j)}return f(g);case wa:e:{for(ct=_.key;k!==null;){if(k.key===ct)if(k.tag===4&&k.stateNode.containerInfo===_.containerInfo&&k.stateNode.implementation===_.implementation){o(g,k.sibling),k=c(k,_.children||[]),k.return=g,g=k;break e}else{o(g,k);break}else s(g,k);k=k.sibling}k=Sg(_,g.mode,j),k.return=g,g=k}return f(g);case Ha:return ct=_._init,rt(g,k,ct(_._payload),j)}if(eb(_))return et(g,k,_,j);if(Ka(_))return h(g,k,_,j);Mg(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,k!==null&&k.tag===6?(o(g,k.sibling),k=c(k,_),k.return=g,g=k):(o(g,k),k=Qg(_,g.mode,j),k.return=g,g=k),f(g)):o(g,k)}return rt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var s=Wg.current;E(Wg),i._currentValue=s}function bh(i,s,o){for(;i!==null;){var a=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),i===o)break;i=i.return}}function ch(i,s){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(dh=!0),i.firstContext=null)}function eh(i){var s=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return s}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,s,o,a){var c=s.interleaved;return c===null?(o.next=o,gh(s)):(o.next=c.next,c.next=o),s.interleaved=o,ih(i,a)}function ih(i,s){i.lanes|=s;var o=i.alternate;for(o!==null&&(o.lanes|=s),o=i,i=i.return;i!==null;)i.childLanes|=s,o=i.alternate,o!==null&&(o.childLanes|=s),o=i,i=i.return;return o.tag===3?o.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(i,s,o){var a=i.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s,ih(i,o)}return c=a.interleaved,c===null?(s.next=s,gh(a)):(s.next=c.next,c.next=s),a.interleaved=s,ih(i,o)}function oh(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}function ph(i,s){var o=i.updateQueue,a=i.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var f={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=f:d=d.next=f,o=o.next}while(o!==null);d===null?c=d=s:d=d.next=s}else c=d=s;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}function qh(i,s,o,a){var c=i.updateQueue;jh=!1;var d=c.firstBaseUpdate,f=c.lastBaseUpdate,st=c.shared.pending;if(st!==null){c.shared.pending=null;var nt=st,_e=nt.next;nt.next=null,f===null?d=_e:f.next=_e,f=nt;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,st=ht.lastBaseUpdate,st!==f&&(st===null?ht.firstBaseUpdate=_e:st.next=_e,ht.lastBaseUpdate=nt))}if(d!==null){var ft=c.baseState;f=0,ht=_e=nt=null,st=d;do{var it=st.lane,at=st.eventTime;if((a&it)===it){ht!==null&&(ht=ht.next={eventTime:at,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var et=i,h=st;switch(it=s,at=o,h.tag){case 1:if(et=h.payload,typeof et=="function"){ft=et.call(at,ft,it);break e}ft=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=h.payload,it=typeof et=="function"?et.call(at,ft,it):et,it==null)break e;ft=A({},ft,it);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&(i.flags|=64,it=c.effects,it===null?c.effects=[st]:it.push(st))}else at={eventTime:at,lane:it,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ht===null?(_e=ht=at,nt=ft):ht=ht.next=at,f|=it;if(st=st.next,st===null){if(st=c.shared.pending,st===null)break;it=st,st=it.next,it.next=null,c.lastBaseUpdate=it,c.shared.pending=null}}while(!0);if(ht===null&&(nt=ft),c.baseState=nt,c.firstBaseUpdate=_e,c.lastBaseUpdate=ht,s=c.shared.interleaved,s!==null){c=s;do f|=c.lane,c=c.next;while(c!==s)}else d===null&&(c.shared.lanes=0);rh|=f,i.lanes=f,i.memoizedState=ft}}function sh(i,s,o){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var a=i[s],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,s){switch(G(wh,s),G(vh,i),G(uh,th),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lb(s,i)}E(uh),G(uh,s)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var s=xh(uh.current),o=lb(s,i.type);s!==o&&(G(vh,i),G(uh,o))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!He(i[o],s[o]))return!1;return!0}function Nh(i,s,o,a,c,d){if(Hh=d,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=o(a,c),Jh){d=0;do{if(Jh=!1,Kh=0,25<=d)throw Error(p(301));d+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,i=o(a,c)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,s){return typeof s=="function"?s(i):s}function Wh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=N,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var f=c.next;c.next=d.next,d.next=f}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var st=f=null,nt=null,_e=d;do{var ht=_e.lane;if((Hh&ht)===ht)nt!==null&&(nt=nt.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),a=_e.hasEagerState?_e.eagerState:i(a,_e.action);else{var ft={lane:ht,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};nt===null?(st=nt=ft,f=a):nt=nt.next=ft,M.lanes|=ht,rh|=ht}_e=_e.next}while(_e!==null&&_e!==d);nt===null?f=a:nt.next=st,He(a,s.memoizedState)||(dh=!0),s.memoizedState=a,s.baseState=f,s.baseQueue=nt,o.lastRenderedState=a}if(i=o.interleaved,i!==null){c=i;do d=c.lane,M.lanes|=d,rh|=d,c=c.next;while(c!==i)}else c===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Xh(i){var s=Uh(),o=s.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=i;var a=o.dispatch,c=o.pending,d=s.memoizedState;if(c!==null){o.pending=null;var f=c=c.next;do d=i(d,f.action),f=f.next;while(f!==c);He(d,s.memoizedState)||(dh=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),o.lastRenderedState=d}return[d,a]}function Yh(){}function Zh(i,s){var o=M,a=Uh(),c=s(),d=!He(a.memoizedState,c);if(d&&(a.memoizedState=c,dh=!0),a=a.queue,$h(ai.bind(null,o,a,i),[i]),a.getSnapshot!==s||d||O!==null&&O.memoizedState.tag&1){if(o.flags|=2048,bi(9,ci.bind(null,o,a,c,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(o,s,c)}return c}function di(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function ci(i,s,o,a){s.value=o,s.getSnapshot=a,ei(s)&&fi(i)}function ai(i,s,o){return o(function(){ei(s)&&fi(i)})}function ei(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!He(i,o)}catch{return!0}}function fi(i){var s=ih(i,1);s!==null&&gi(s,i,1,-1)}function hi(i){var s=Th();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},s.queue=i,i=i.dispatch=ii.bind(null,M,i),[s.memoizedState,i]}function bi(i,s,o,a){return i={tag:i,create:s,destroy:o,deps:a,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=i.next=i):(o=s.lastEffect,o===null?s.lastEffect=i.next=i:(a=o.next,o.next=i,i.next=a,s.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,s,o,a){var c=Th();M.flags|=i,c.memoizedState=bi(1|s,o,void 0,a===void 0?null:a)}function li(i,s,o,a){var c=Uh();a=a===void 0?null:a;var d=void 0;if(N!==null){var f=N.memoizedState;if(d=f.destroy,a!==null&&Mh(a,f.deps)){c.memoizedState=bi(s,o,d,a);return}}M.flags|=i,c.memoizedState=bi(1|s,o,d,a)}function mi(i,s){return ki(8390656,8,i,s)}function $h(i,s){return li(2048,8,i,s)}function ni(i,s){return li(4,2,i,s)}function oi(i,s){return li(4,4,i,s)}function pi(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function qi(i,s,o){return o=o!=null?o.concat([i]):null,li(4,4,pi.bind(null,s,i),o)}function ri(){}function si(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(o.memoizedState=[i,s],i)}function ti(i,s){var o=Uh();s=s===void 0?null:s;var a=o.memoizedState;return a!==null&&s!==null&&Mh(s,a[1])?a[0]:(i=i(),o.memoizedState=[i,s],i)}function ui(i,s,o){return Hh&21?(He(o,s)||(o=yc(),M.lanes|=o,rh|=o,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=o)}function vi(i,s){var o=C;C=o!==0&&4>o?o:4,i(!0);var a=Gh.transition;Gh.transition={};try{i(!1),s()}finally{C=o,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(i,s,o){var a=yi(i);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(s,o);else if(o=hh(i,s,o,a),o!==null){var c=R();gi(o,i,a,c),Bi(o,s,a)}}function ii(i,s,o){var a=yi(i),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(s,c);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var f=s.lastRenderedState,st=d(f,o);if(c.hasEagerState=!0,c.eagerState=st,He(st,f)){var nt=s.interleaved;nt===null?(c.next=c,gh(s)):(c.next=nt.next,nt.next=c),s.interleaved=c;return}}catch{}finally{}o=hh(i,s,c,a),o!==null&&(c=R(),gi(o,i,a,c),Bi(o,s,a))}}function zi(i){var s=i.alternate;return i===M||s!==null&&s===M}function Ai(i,s){Jh=Ih=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Bi(i,s,o){if(o&4194240){var a=s.lanes;a&=i.pendingLanes,o|=a,s.lanes=o,Cc(i,o)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,s){return Th().memoizedState=[i,s===void 0?null:s],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,s,o){return o=o!=null?o.concat([i]):null,ki(4194308,4,pi.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ki(4194308,4,i,s)},useInsertionEffect:function(i,s){return ki(4,2,i,s)},useMemo:function(i,s){var o=Th();return s=s===void 0?null:s,i=i(),o.memoizedState=[i,s],i},useReducer:function(i,s,o){var a=Th();return s=o!==void 0?o(s):s,a.memoizedState=a.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},a.queue=i,i=i.dispatch=xi.bind(null,M,i),[a.memoizedState,i]},useRef:function(i){var s=Th();return i={current:i},s.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),s=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,o){var a=M,c=Th();if(I){if(o===void 0)throw Error(p(407));o=o()}else{if(o=s(),Q===null)throw Error(p(349));Hh&30||di(a,s,o)}c.memoizedState=o;var d={value:o,getSnapshot:s};return c.queue=d,mi(ai.bind(null,a,d,i),[i]),a.flags|=2048,bi(9,ci.bind(null,a,d,o,s),void 0,null),o},useId:function(){var i=Th(),s=Q.identifierPrefix;if(I){var o=sg,a=rg;o=(a&~(1<<32-oc(a)-1)).toString(32)+o,s=":"+s+"R"+o,o=Kh++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Lh++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return ui(s,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var s=Uh();return N===null?s.memoizedState=i:ui(s,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],s=Uh().memoizedState;return[i,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,s){if(i&&i.defaultProps){s=A({},s),i=i.defaultProps;for(var o in i)s[o]===void 0&&(s[o]=i[o]);return s}return s}function Di(i,s,o,a){s=i.memoizedState,o=o(a,s),o=o==null?s:A({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var a=R(),c=yi(i),d=mh(a,c);d.payload=s,o!=null&&(d.callback=o),s=nh(i,d,c),s!==null&&(gi(s,i,c,a),oh(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var a=R(),c=yi(i),d=mh(a,c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=nh(i,d,c),s!==null&&(gi(s,i,c,a),oh(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=R(),a=yi(i),c=mh(o,a);c.tag=2,s!=null&&(c.callback=s),s=nh(i,c,a),s!==null&&(gi(s,i,a,o),oh(s,i,a))}};function Fi(i,s,o,a,c,d,f){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(a,d,f):s.prototype&&s.prototype.isPureReactComponent?!Ie(o,a)||!Ie(c,d):!0}function Gi(i,s,o){var a=!1,c=Vf,d=s.contextType;return typeof d=="object"&&d!==null?d=eh(d):(c=Zf(s)?Xf:H.current,a=s.contextTypes,d=(a=a!=null)?Yf(i,c):Vf),s=new s(o,d),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,i.stateNode=s,s._reactInternals=i,a&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=d),s}function Hi(i,s,o,a){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,a),s.state!==i&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(i,s,o,a){var c=i.stateNode;c.props=o,c.state=i.memoizedState,c.refs={},kh(i);var d=s.contextType;typeof d=="object"&&d!==null?c.context=eh(d):(d=Zf(s)?Xf:H.current,c.context=Yf(i,d)),c.state=i.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Di(i,s,d,o),c.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(s=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),s!==c.state&&Ei.enqueueReplaceState(c,c.state,null),qh(i,o,c,a),c.state=i.memoizedState),typeof c.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,s){try{var o="",a=s;do o+=Pa(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:i,source:s,stack:c,digest:null}}function Ki(i,s,o){return{value:i,source:null,stack:o??null,digest:s??null}}function Li(i,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,s,o){o=mh(-1,o),o.tag=3,o.payload={element:null};var a=s.value;return o.callback=function(){Oi||(Oi=!0,Pi=a),Li(i,s)},o}function Qi(i,s,o){o=mh(-1,o),o.tag=3;var a=i.type.getDerivedStateFromError;if(typeof a=="function"){var c=s.value;o.payload=function(){return a(c)},o.callback=function(){Li(i,s)}}var d=i.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){Li(i,s),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var f=s.stack;this.componentDidCatch(s.value,{componentStack:f!==null?f:""})}),o}function Si(i,s,o){var a=i.pingCache;if(a===null){a=i.pingCache=new Mi;var c=new Set;a.set(s,c)}else c=a.get(s),c===void 0&&(c=new Set,a.set(s,c));c.has(o)||(c.add(o),i=Ti.bind(null,i,s,o),s.then(i,i))}function Ui(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Vi(i,s,o,a,c){return i.mode&1?(i.flags|=65536,i.lanes=c,i):(i===s?i.flags|=65536:(i.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=mh(-1,1),s.tag=2,nh(o,s,1))),o.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,s,o,a){s.child=i===null?Vg(s,null,o,a):Ug(s,i.child,o,a)}function Yi(i,s,o,a,c){o=o.render;var d=s.ref;return ch(s,c),a=Nh(i,s,o,a,d,c),o=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,Zi(i,s,c)):(I&&o&&vg(s),s.flags|=1,Xi(i,s,a,c),s.child)}function $i(i,s,o,a,c){if(i===null){var d=o.type;return typeof d=="function"&&!aj(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=d,bj(i,s,d,a,c)):(i=Rg(o.type,null,a,s,s.mode,c),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!(i.lanes&c)){var f=d.memoizedProps;if(o=o.compare,o=o!==null?o:Ie,o(f,a)&&i.ref===s.ref)return Zi(i,s,c)}return s.flags|=1,i=Pg(d,a),i.ref=s.ref,i.return=s,s.child=i}function bj(i,s,o,a,c){if(i!==null){var d=i.memoizedProps;if(Ie(d,a)&&i.ref===s.ref)if(dh=!1,s.pendingProps=a=d,(i.lanes&c)!==0)i.flags&131072&&(dh=!0);else return s.lanes=i.lanes,Zi(i,s,c)}return cj(i,s,o,a,c)}function dj(i,s,o){var a=s.pendingProps,c=a.children,d=i!==null?i.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=o;else{if(!(o&1073741824))return i=d!==null?d.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,G(ej,fj),fj|=a}else d!==null?(a=d.baseLanes|o,s.memoizedState=null):a=o,G(ej,fj),fj|=a;return Xi(i,s,c,o),s.child}function gj(i,s){var o=s.ref;(i===null&&o!==null||i!==null&&i.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function cj(i,s,o,a,c){var d=Zf(o)?Xf:H.current;return d=Yf(s,d),ch(s,c),o=Nh(i,s,o,a,d,c),a=Sh(),i!==null&&!dh?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c,Zi(i,s,c)):(I&&a&&vg(s),s.flags|=1,Xi(i,s,o,c),s.child)}function hj(i,s,o,a,c){if(Zf(o)){var d=!0;cg(s)}else d=!1;if(ch(s,c),s.stateNode===null)ij(i,s),Gi(s,o,a),Ii(s,o,a,c),a=!0;else if(i===null){var f=s.stateNode,st=s.memoizedProps;f.props=st;var nt=f.context,_e=o.contextType;typeof _e=="object"&&_e!==null?_e=eh(_e):(_e=Zf(o)?Xf:H.current,_e=Yf(s,_e));var ht=o.getDerivedStateFromProps,ft=typeof ht=="function"||typeof f.getSnapshotBeforeUpdate=="function";ft||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(st!==a||nt!==_e)&&Hi(s,f,a,_e),jh=!1;var it=s.memoizedState;f.state=it,qh(s,a,f,c),nt=s.memoizedState,st!==a||it!==nt||Wf.current||jh?(typeof ht=="function"&&(Di(s,o,ht,a),nt=s.memoizedState),(st=jh||Fi(s,o,st,a,it,nt,_e))?(ft||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=nt),f.props=a,f.state=nt,f.context=_e,a=st):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{f=s.stateNode,lh(i,s),st=s.memoizedProps,_e=s.type===s.elementType?st:Ci(s.type,st),f.props=_e,ft=s.pendingProps,it=f.context,nt=o.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(o)?Xf:H.current,nt=Yf(s,nt));var at=o.getDerivedStateFromProps;(ht=typeof at=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(st!==ft||it!==nt)&&Hi(s,f,a,nt),jh=!1,it=s.memoizedState,f.state=it,qh(s,a,f,c);var et=s.memoizedState;st!==ft||it!==et||Wf.current||jh?(typeof at=="function"&&(Di(s,o,at,a),et=s.memoizedState),(_e=jh||Fi(s,o,_e,a,it,et,nt)||!1)?(ht||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,et,nt),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,et,nt)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||st===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||st===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=et),f.props=a,f.state=et,f.context=nt,a=_e):(typeof f.componentDidUpdate!="function"||st===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||st===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),a=!1)}return jj(i,s,o,a,d,c)}function jj(i,s,o,a,c,d){gj(i,s);var f=(s.flags&128)!==0;if(!a&&!f)return c&&dg(s,o,!1),Zi(i,s,d);a=s.stateNode,Wi.current=s;var st=f&&typeof o.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,i!==null&&f?(s.child=Ug(s,i.child,null,d),s.child=Ug(s,null,st,d)):Xi(i,s,st,d),s.memoizedState=a.state,c&&dg(s,o,!0),s.child}function kj(i){var s=i.stateNode;s.pendingContext?ag(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(i,s.context,!1),yh(i,s.containerInfo)}function lj(i,s,o,a,c){return Ig(),Jg(c),s.flags|=256,Xi(i,s,o,a),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,s,o){var a=s.pendingProps,c=L.current,d=!1,f=(s.flags&128)!==0,st;if((st=f)||(st=i!==null&&i.memoizedState===null?!1:(c&2)!==0),st?(d=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(c|=1),G(L,c&1),i===null)return Eg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(f=a.children,i=a.fallback,d?(a=s.mode,d=s.child,f={mode:"hidden",children:f},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=f):d=pj(f,a,0,null),i=Tg(i,a,o,null),d.return=s,i.return=s,d.sibling=i,s.child=d,s.child.memoizedState=nj(o),s.memoizedState=mj,i):qj(s,f));if(c=i.memoizedState,c!==null&&(st=c.dehydrated,st!==null))return rj(i,s,f,a,st,c,o);if(d){d=a.fallback,f=s.mode,c=i.child,st=c.sibling;var nt={mode:"hidden",children:a.children};return!(f&1)&&s.child!==c?(a=s.child,a.childLanes=0,a.pendingProps=nt,s.deletions=null):(a=Pg(c,nt),a.subtreeFlags=c.subtreeFlags&14680064),st!==null?d=Pg(st,d):(d=Tg(d,f,o,null),d.flags|=2),d.return=s,a.return=s,a.sibling=d,s.child=a,a=d,d=s.child,f=i.child.memoizedState,f=f===null?nj(o):{baseLanes:f.baseLanes|o,cachePool:null,transitions:f.transitions},d.memoizedState=f,d.childLanes=i.childLanes&~o,s.memoizedState=mj,a}return d=i.child,i=d.sibling,a=Pg(d,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=o),a.return=s,a.sibling=null,i!==null&&(o=s.deletions,o===null?(s.deletions=[i],s.flags|=16):o.push(i)),s.child=a,s.memoizedState=null,a}function qj(i,s){return s=pj({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function sj(i,s,o,a){return a!==null&&Jg(a),Ug(s,i.child,null,o),i=qj(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function rj(i,s,o,a,c,d,f){if(o)return s.flags&256?(s.flags&=-257,a=Ki(Error(p(422))),sj(i,s,f,a)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(d=a.fallback,c=s.mode,a=pj({mode:"visible",children:a.children},c,0,null),d=Tg(d,c,f,null),d.flags|=2,a.return=s,d.return=s,a.sibling=d,s.child=a,s.mode&1&&Ug(s,i.child,null,f),s.child.memoizedState=nj(f),s.memoizedState=mj,d);if(!(s.mode&1))return sj(i,s,f,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var st=a.dgst;return a=st,d=Error(p(419)),a=Ki(d,a,void 0),sj(i,s,f,a)}if(st=(f&i.childLanes)!==0,dh||st){if(a=Q,a!==null){switch(f&-f){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|f)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,ih(i,c),gi(a,i,c,-1))}return tj(),a=Ki(Error(p(421))),sj(i,s,f,a)}return c.data==="$?"?(s.flags|=128,s.child=i.child,s=uj.bind(null,i),c._reactRetry=s,null):(i=d.treeContext,yg=Lf(c.nextSibling),xg=s,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=s),s=qj(s,a.children),s.flags|=4096,s)}function vj(i,s,o){i.lanes|=s;var a=i.alternate;a!==null&&(a.lanes|=s),bh(i.return,s,o)}function wj(i,s,o,a,c){var d=i.memoizedState;d===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function xj(i,s,o){var a=s.pendingProps,c=a.revealOrder,d=a.tail;if(Xi(i,s,a.children,o),a=L.current,a&2)a=a&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,o,s);else if(i.tag===19)vj(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a&=1}if(G(L,a),!(s.mode&1))s.memoizedState=null;else switch(c){case"forwards":for(o=s.child,c=null;o!==null;)i=o.alternate,i!==null&&Ch(i)===null&&(c=o),o=o.sibling;o=c,o===null?(c=s.child,s.child=null):(c=o.sibling,o.sibling=null),wj(s,!1,c,o,d);break;case"backwards":for(o=null,c=s.child,s.child=null;c!==null;){if(i=c.alternate,i!==null&&Ch(i)===null){s.child=c;break}i=c.sibling,c.sibling=o,o=c,c=i}wj(s,!0,o,null,d);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),rh|=s.lanes,!(o&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(p(153));if(s.child!==null){for(i=s.child,o=Pg(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pg(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function yj(i,s,o){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,c=s.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=c;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):o&s.child.childLanes?oj(i,s,o):(G(L,L.current&1),i=Zi(i,s,o),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(a=(o&s.childLanes)!==0,i.flags&128){if(a)return xj(i,s,o);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return s.lanes=0,dj(i,s,o)}return Zi(i,s,o)}var zj,Aj,Bj,Cj;zj=function(i,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Aj=function(){};Bj=function(i,s,o,a){var c=i.memoizedProps;if(c!==a){i=s.stateNode,xh(uh.current);var d=null;switch(o){case"input":c=Ya(i,c),a=Ya(i,a),d=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),d=[];break;case"textarea":c=gb(i,c),a=gb(i,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(i.onclick=Bf)}ub(o,a);var f;o=null;for(_e in c)if(!a.hasOwnProperty(_e)&&c.hasOwnProperty(_e)&&c[_e]!=null)if(_e==="style"){var st=c[_e];for(f in st)st.hasOwnProperty(f)&&(o||(o={}),o[f]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?d||(d=[]):(d=d||[]).push(_e,null));for(_e in a){var nt=a[_e];if(st=c!=null?c[_e]:void 0,a.hasOwnProperty(_e)&&nt!==st&&(nt!=null||st!=null))if(_e==="style")if(st){for(f in st)!st.hasOwnProperty(f)||nt&&nt.hasOwnProperty(f)||(o||(o={}),o[f]="");for(f in nt)nt.hasOwnProperty(f)&&st[f]!==nt[f]&&(o||(o={}),o[f]=nt[f])}else o||(d||(d=[]),d.push(_e,o)),o=nt;else _e==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,st=st?st.__html:void 0,nt!=null&&st!==nt&&(d=d||[]).push(_e,nt)):_e==="children"?typeof nt!="string"&&typeof nt!="number"||(d=d||[]).push(_e,""+nt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(ea.hasOwnProperty(_e)?(nt!=null&&_e==="onScroll"&&D("scroll",i),d||st===nt||(d=[])):(d=d||[]).push(_e,nt))}o&&(d=d||[]).push("style",o);var _e=d;(s.updateQueue=_e)&&(s.flags|=4)}};Cj=function(i,s,o,a){o!==a&&(s.flags|=4)};function Dj(i,s){if(!I)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:a.sibling=null}}function S(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,a=0;if(s)for(var c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=i,c=c.sibling;else for(c=i.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=i,c=c.sibling;return i.subtreeFlags|=a,i.childLanes=o,s}function Ej(i,s,o){var a=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return a=s.stateNode,zh(),E(Wf),E(H),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Gg(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,s),S(s),null;case 5:Bh(s);var c=xh(wh.current);if(o=s.type,i!==null&&s.stateNode!=null)Bj(i,s,o,a,c),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(i=xh(uh.current),Gg(s)){a=s.stateNode,o=s.type;var d=s.memoizedProps;switch(a[Of]=s,a[Pf]=d,i=(s.mode&1)!==0,o){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,d),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},D("invalid",a);break;case"textarea":hb(a,d),D("invalid",a)}ub(o,d),c=null;for(var f in d)if(d.hasOwnProperty(f)){var st=d[f];f==="children"?typeof st=="string"?a.textContent!==st&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,st,i),c=["children",st]):typeof st=="number"&&a.textContent!==""+st&&(d.suppressHydrationWarning!==!0&&Af(a.textContent,st,i),c=["children",""+st]):ea.hasOwnProperty(f)&&st!=null&&f==="onScroll"&&D("scroll",a)}switch(o){case"input":Va(a),db(a,d,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}a=c,s.updateQueue=a,a!==null&&(s.flags|=4)}else{f=c.nodeType===9?c:c.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(o)),i==="http://www.w3.org/1999/xhtml"?o==="script"?(i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof a.is=="string"?i=f.createElement(o,{is:a.is}):(i=f.createElement(o),o==="select"&&(f=i,a.multiple?f.multiple=!0:a.size&&(f.size=a.size))):i=f.createElementNS(i,o),i[Of]=s,i[Pf]=a,zj(i,s,!1,!1),s.stateNode=i;e:{switch(f=vb(o,a),o){case"dialog":D("cancel",i),D("close",i),c=a;break;case"iframe":case"object":case"embed":D("load",i),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],i);c=a;break;case"source":D("error",i),c=a;break;case"img":case"image":case"link":D("error",i),D("load",i),c=a;break;case"details":D("toggle",i),c=a;break;case"input":Za(i,a),c=Ya(i,a),D("invalid",i);break;case"option":c=a;break;case"select":i._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,a),c=gb(i,a),D("invalid",i);break;default:c=a}ub(o,c),st=c;for(d in st)if(st.hasOwnProperty(d)){var nt=st[d];d==="style"?sb(i,nt):d==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):d==="children"?typeof nt=="string"?(o!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ea.hasOwnProperty(d)?nt!=null&&d==="onScroll"&&D("scroll",i):nt!=null&&ta(i,d,nt,f))}switch(o){case"input":Va(i),db(i,a,!1);break;case"textarea":Va(i),jb(i);break;case"option":a.value!=null&&i.setAttribute("value",""+Sa(a.value));break;case"select":i.multiple=!!a.multiple,d=a.value,d!=null?fb(i,!!a.multiple,d,!1):a.defaultValue!=null&&fb(i,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(i.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(i&&s.stateNode!=null)Cj(i,s,i.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(p(166));if(o=xh(wh.current),xh(uh.current),Gg(s)){if(a=s.stateNode,o=s.memoizedProps,a[Of]=s,(d=a.nodeValue!==o)&&(i=xg,i!==null))switch(i.tag){case 3:Af(a.nodeValue,o,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,o,(i.mode&1)!==0)}d&&(s.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Of]=s,s.stateNode=a}return S(s),null;case 13:if(E(L),a=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,d=!1;else if(d=Gg(s),a!==null&&a.dehydrated!==null){if(i===null){if(!d)throw Error(p(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(p(317));d[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),d=!1}else zg!==null&&(Fj(zg),zg=null),d=!0;if(!d)return s.flags&65536?s:null}return s.flags&128?(s.lanes=o,s):(a=a!==null,a!==(i!==null&&i.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(i,s),i===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),d=s.memoizedState,d===null)return S(s),null;if(a=(s.flags&128)!==0,f=d.rendering,f===null)if(a)Dj(d,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(f=Ch(i),f!==null){for(s.flags|=128,Dj(d,!1),a=f.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=o,o=s.child;o!==null;)d=o,i=a,d.flags&=14680066,f=d.alternate,f===null?(d.childLanes=0,d.lanes=i,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=f.childLanes,d.lanes=f.lanes,d.child=f.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=f.memoizedProps,d.memoizedState=f.memoizedState,d.updateQueue=f.updateQueue,d.type=f.type,i=f.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),o=o.sibling;return G(L,L.current&1|2),s.child}i=i.sibling}d.tail!==null&&B()>Gj&&(s.flags|=128,a=!0,Dj(d,!1),s.lanes=4194304)}else{if(!a)if(i=Ch(f),i!==null){if(s.flags|=128,a=!0,o=i.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Dj(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!I)return S(s),null}else 2*B()-d.renderingStartTime>Gj&&o!==1073741824&&(s.flags|=128,a=!0,Dj(d,!1),s.lanes=4194304);d.isBackwards?(f.sibling=s.child,s.child=f):(o=d.last,o!==null?o.sibling=f:s.child=f,d.last=f)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=B(),s.sibling=null,o=L.current,G(L,a?o&1|2:o&1),s):(S(s),null);case 22:case 23:return Hj(),a=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(i,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,s){var o=i.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){W(i,s,a)}else o.current=null}function Mj(i,s,o){try{o()}catch(a){W(i,s,a)}}var Nj=!1;function Oj(i,s){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var f=0,st=-1,nt=-1,_e=0,ht=0,ft=i,it=null;t:for(;;){for(var at;ft!==o||c!==0&&ft.nodeType!==3||(st=f+c),ft!==d||a!==0&&ft.nodeType!==3||(nt=f+a),ft.nodeType===3&&(f+=ft.nodeValue.length),(at=ft.firstChild)!==null;)it=ft,ft=at;for(;;){if(ft===i)break t;if(it===o&&++_e===c&&(st=f),it===d&&++ht===a&&(nt=f),(at=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=at}o=st===-1||nt===-1?null:{start:st,end:nt}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:i,selectionRange:o},dd=!1,V=s;V!==null;)if(s=V,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,V=i;else for(;V!==null;){s=V;try{var et=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var h=et.memoizedProps,rt=et.memoizedState,g=s.stateNode,k=g.getSnapshotBeforeUpdate(s.elementType===s.type?h:Ci(s.type,h),rt);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var _=s.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(j){W(s,s.return,j)}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}return et=Nj,Nj=!1,et}function Pj(i,s,o){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var d=c.destroy;c.destroy=void 0,d!==void 0&&Mj(s,o,d)}c=c.next}while(c!==a)}}function Qj(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&i)===i){var a=o.create;o.destroy=a()}o=o.next}while(o!==s)}}function Rj(i){var s=i.ref;if(s!==null){var o=i.stateNode;switch(i.tag){case 5:i=o;break;default:i=o}typeof s=="function"?s(i):s.current=i}}function Sj(i){var s=i.alternate;s!==null&&(i.alternate=null,Sj(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bf));else if(a!==4&&(i=i.child,i!==null))for(Vj(i,s,o),i=i.sibling;i!==null;)Vj(i,s,o),i=i.sibling}function Wj(i,s,o){var a=i.tag;if(a===5||a===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(a!==4&&(i=i.child,i!==null))for(Wj(i,s,o),i=i.sibling;i!==null;)Wj(i,s,o),i=i.sibling}var X=null,Xj=!1;function Yj(i,s,o){for(o=o.child;o!==null;)Zj(i,s,o),o=o.sibling}function Zj(i,s,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U||Lj(o,s);case 6:var a=X,c=Xj;X=null,Yj(i,s,o),X=a,Xj=c,X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?i.parentNode.removeChild(o):i.removeChild(o)):X.removeChild(o.stateNode));break;case 18:X!==null&&(Xj?(i=X,o=o.stateNode,i.nodeType===8?Kf(i.parentNode,o):i.nodeType===1&&Kf(i,o),bd(i)):Kf(X,o.stateNode));break;case 4:a=X,c=Xj,X=o.stateNode.containerInfo,Xj=!0,Yj(i,s,o),X=a,Xj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,f=d.destroy;d=d.tag,f!==void 0&&(d&2||d&4)&&Mj(o,s,f),c=c.next}while(c!==a)}Yj(i,s,o);break;case 1:if(!U&&(Lj(o,s),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(st){W(o,s,st)}Yj(i,s,o);break;case 21:Yj(i,s,o);break;case 22:o.mode&1?(U=(a=U)||o.memoizedState!==null,Yj(i,s,o),U=a):Yj(i,s,o);break;default:Yj(i,s,o)}}function ak(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var o=i.stateNode;o===null&&(o=i.stateNode=new Kj),s.forEach(function(a){var c=bk.bind(null,i,a);o.has(a)||(o.add(a),a.then(c,c))})}}function ck(i,s){var o=s.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=i,f=s,st=f;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Xj=!1;break e;case 3:X=st.stateNode.containerInfo,Xj=!0;break e;case 4:X=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X===null)throw Error(p(160));Zj(d,f,c),X=null,Xj=!1;var nt=c.alternate;nt!==null&&(nt.return=null),c.return=null}catch(_e){W(c,s,_e)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,i),s=s.sibling}function dk(i,s){var o=i.alternate,a=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(s,i),ek(i),a&4){try{Pj(3,i,i.return),Qj(3,i)}catch(h){W(i,i.return,h)}try{Pj(5,i,i.return)}catch(h){W(i,i.return,h)}}break;case 1:ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return);break;case 5:if(ck(s,i),ek(i),a&512&&o!==null&&Lj(o,o.return),i.flags&32){var c=i.stateNode;try{ob(c,"")}catch(h){W(i,i.return,h)}}if(a&4&&(c=i.stateNode,c!=null)){var d=i.memoizedProps,f=o!==null?o.memoizedProps:d,st=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{st==="input"&&d.type==="radio"&&d.name!=null&&ab(c,d),vb(st,f);var _e=vb(st,d);for(f=0;f<nt.length;f+=2){var ht=nt[f],ft=nt[f+1];ht==="style"?sb(c,ft):ht==="dangerouslySetInnerHTML"?nb(c,ft):ht==="children"?ob(c,ft):ta(c,ht,ft,_e)}switch(st){case"input":bb(c,d);break;case"textarea":ib(c,d);break;case"select":var it=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var at=d.value;at!=null?fb(c,!!d.multiple,at,!1):it!==!!d.multiple&&(d.defaultValue!=null?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}c[Pf]=d}catch(h){W(i,i.return,h)}}break;case 6:if(ck(s,i),ek(i),a&4){if(i.stateNode===null)throw Error(p(162));c=i.stateNode,d=i.memoizedProps;try{c.nodeValue=d}catch(h){W(i,i.return,h)}}break;case 3:if(ck(s,i),ek(i),a&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(h){W(i,i.return,h)}break;case 4:ck(s,i),ek(i);break;case 13:ck(s,i),ek(i),c=i.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(fk=B())),a&4&&ak(i);break;case 22:if(ht=o!==null&&o.memoizedState!==null,i.mode&1?(U=(_e=U)||ht,ck(s,i),U=_e):ck(s,i),ek(i),a&8192){if(_e=i.memoizedState!==null,(i.stateNode.isHidden=_e)&&!ht&&i.mode&1)for(V=i,ht=i.child;ht!==null;){for(ft=V=ht;V!==null;){switch(it=V,at=it.child,it.tag){case 0:case 11:case 14:case 15:Pj(4,it,it.return);break;case 1:Lj(it,it.return);var et=it.stateNode;if(typeof et.componentWillUnmount=="function"){a=it,o=it.return;try{s=a,et.props=s.memoizedProps,et.state=s.memoizedState,et.componentWillUnmount()}catch(h){W(a,o,h)}}break;case 5:Lj(it,it.return);break;case 22:if(it.memoizedState!==null){gk(ft);continue}}at!==null?(at.return=it,V=at):gk(ft)}ht=ht.sibling}e:for(ht=null,ft=i;;){if(ft.tag===5){if(ht===null){ht=ft;try{c=ft.stateNode,_e?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(st=ft.stateNode,nt=ft.memoizedProps.style,f=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,st.style.display=rb("display",f))}catch(h){W(i,i.return,h)}}}else if(ft.tag===6){if(ht===null)try{ft.stateNode.nodeValue=_e?"":ft.memoizedProps}catch(h){W(i,i.return,h)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===i)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===i)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===i)break e;ht===ft&&(ht=null),ft=ft.return}ht===ft&&(ht=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:ck(s,i),ek(i),a&4&&ak(i);break;case 21:break;default:ck(s,i),ek(i)}}function ek(i){var s=i.flags;if(s&2){try{e:{for(var o=i.return;o!==null;){if(Tj(o)){var a=o;break e}o=o.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var d=Uj(i);Wj(i,d,c);break;case 3:case 4:var f=a.stateNode.containerInfo,st=Uj(i);Vj(i,st,f);break;default:throw Error(p(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hk(i,s,o){V=i,ik(i)}function ik(i,s,o){for(var a=(i.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&a){var f=c.memoizedState!==null||Jj;if(!f){var st=c.alternate,nt=st!==null&&st.memoizedState!==null||U;st=Jj;var _e=U;if(Jj=f,(U=nt)&&!_e)for(V=c;V!==null;)f=V,nt=f.child,f.tag===22&&f.memoizedState!==null?jk(c):nt!==null?(nt.return=f,V=nt):jk(c);for(;d!==null;)V=d,ik(d),d=d.sibling;V=c,Jj=st,U=_e}kk(i)}else c.subtreeFlags&8772&&d!==null?(d.return=c,V=d):kk(i)}}function kk(i){for(;V!==null;){var s=V;if(s.flags&8772){var o=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!U)if(o===null)a.componentDidMount();else{var c=s.elementType===s.type?o.memoizedProps:Ci(s.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=s.updateQueue;d!==null&&sh(s,d,a);break;case 3:var f=s.updateQueue;if(f!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}sh(s,f,o)}break;case 5:var st=s.stateNode;if(o===null&&s.flags&4){o=st;var nt=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&o.focus();break;case"img":nt.src&&(o.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var _e=s.alternate;if(_e!==null){var ht=_e.memoizedState;if(ht!==null){var ft=ht.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(it){W(s,s.return,it)}}if(s===i){V=null;break}if(o=s.sibling,o!==null){o.return=s.return,V=o;break}V=s.return}}function gk(i){for(;V!==null;){var s=V;if(s===i){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}function jk(i){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{Qj(4,s)}catch(nt){W(s,o,nt)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var c=s.return;try{a.componentDidMount()}catch(nt){W(s,c,nt)}}var d=s.return;try{Rj(s)}catch(nt){W(s,d,nt)}break;case 5:var f=s.return;try{Rj(s)}catch(nt){W(s,f,nt)}}}catch(nt){W(s,s.return,nt)}if(s===i){V=null;break}var st=s.sibling;if(st!==null){st.return=s.return,V=st;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,s,o,a){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,o,a),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=o),T===4&&Ck(i,Z)),Dk(i,a),o===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,s){var o=i.callbackNode;wc(i,s);var a=uc(i,i===Q?Z:0);if(a===0)o!==null&&bc(o),i.callbackNode=null,i.callbackPriority=0;else if(s=a&-a,i.callbackPriority!==s){if(o!=null&&bc(o),s===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),o=null;else{switch(Dc(a)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Fk(o,Gk.bind(null,i))}i.callbackPriority=s,i.callbackNode=o}}function Gk(i,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var o=i.callbackNode;if(Hk()&&i.callbackNode!==o)return null;var a=uc(i,i===Q?Z:0);if(a===0)return null;if(a&30||a&i.expiredLanes||s)s=Ik(i,a);else{s=a;var c=K;K|=2;var d=Jk();(Q!==i||Z!==s)&&(uk=null,Gj=B()+500,Kk(i,s));do try{Lk();break}catch(st){Mk(i,st)}while(!0);$g(),mk.current=d,K=c,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(c=xc(i),c!==0&&(a=c,s=Nk(i,c))),s===1)throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;if(s===6)Ck(i,a);else{if(c=i.current.alternate,!(a&30)&&!Ok(c)&&(s=Ik(i,a),s===2&&(d=xc(i),d!==0&&(a=d,s=Nk(i,d))),s===1))throw o=pk,Kk(i,0),Ck(i,a),Dk(i,B()),o;switch(i.finishedWork=c,i.finishedLanes=a,s){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,a),(a&130023424)===a&&(s=fk+500-B(),10<s)){if(uc(i,0)!==0)break;if(c=i.suspendedLanes,(c&a)!==a){R(),i.pingedLanes|=i.suspendedLanes&c;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),s);break}Pk(i,tk,uk);break;case 4:if(Ck(i,a),(a&4194240)===a)break;for(s=i.eventTimes,c=-1;0<a;){var f=31-oc(a);d=1<<f,f=s[f],f>c&&(c=f),a&=~d}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===o?Gk.bind(null,i):null}function Nk(i,s){var o=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,s).flags|=256),i=Ik(i,s),i!==2&&(s=tk,tk=o,s!==null&&Fj(s)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var s=i;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!He(d(),c))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(i,s){for(s&=~rk,s&=~qk,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var o=31-oc(s),a=1<<o;i[o]=-1,s&=~a}}function Ek(i){if(K&6)throw Error(p(327));Hk();var s=uc(i,0);if(!(s&1))return Dk(i,B()),null;var o=Ik(i,s);if(i.tag!==0&&o===2){var a=xc(i);a!==0&&(s=a,o=Nk(i,a))}if(o===1)throw o=pk,Kk(i,0),Ck(i,s),Dk(i,B()),o;if(o===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,s){var o=K;K|=1;try{return i(s)}finally{K=o,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var o=ok.transition,a=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=a,ok.transition=o,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;if(o!==-1&&(i.timeoutHandle=-1,Gf(o)),Y!==null)for(o=Y.return;o!==null;){var a=o;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}o=o.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(o=fh[s],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var f=d.next;d.next=c,a.next=f}o.pending=a}fh=null}return i}function Mk(i,s){do{var o=Y;try{if($g(),Fh.current=Rh,Ih){for(var a=M.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,o===null||o.return===null){T=1,pk=s,Y=null;break}e:{var d=i,f=o.return,st=o,nt=s;if(s=Z,st.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var _e=nt,ht=st,ft=ht.tag;if(!(ht.mode&1)&&(ft===0||ft===11||ft===15)){var it=ht.alternate;it?(ht.updateQueue=it.updateQueue,ht.memoizedState=it.memoizedState,ht.lanes=it.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var at=Ui(f);if(at!==null){at.flags&=-257,Vi(at,f,st,d,s),at.mode&1&&Si(d,_e,s),s=at,nt=_e;var et=s.updateQueue;if(et===null){var h=new Set;h.add(nt),s.updateQueue=h}else et.add(nt);break e}else{if(!(s&1)){Si(d,_e,s),tj();break e}nt=Error(p(426))}}else if(I&&st.mode&1){var rt=Ui(f);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Vi(rt,f,st,d,s),Jg(Ji(nt,st));break e}}d=nt=Ji(nt,st),T!==4&&(T=2),sk===null?sk=[d]:sk.push(d),d=f;do{switch(d.tag){case 3:d.flags|=65536,s&=-s,d.lanes|=s;var g=Ni(d,nt,s);ph(d,g);break e;case 1:st=nt;var k=d.type,_=d.stateNode;if(!(d.flags&128)&&(typeof k.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ri===null||!Ri.has(_)))){d.flags|=65536,s&=-s,d.lanes|=s;var j=Qi(d,st,s);ph(d,j);break e}}d=d.return}while(d!==null)}Sk(o)}catch(ut){s=ut,Y===o&&o!==null&&(Y=o=o.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,s){var o=K;K|=2;var a=Jk();(Q!==i||Z!==s)&&(uk=null,Kk(i,s));do try{Tk();break}catch(c){Mk(i,c)}while(!0);if($g(),K=o,mk.current=a,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var s=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,s===null?Sk(i):Y=s,nk.current=null}function Sk(i){var s=i;do{var o=s.alternate;if(i=s.return,s.flags&32768){if(o=Ij(o,s),o!==null){o.flags&=32767,Y=o;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(o=Ej(o,s,fj),o!==null){Y=o;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=i}while(s!==null);T===0&&(T=5)}function Pk(i,s,o){var a=C,c=ok.transition;try{ok.transition=null,C=1,Wk(i,s,o,a)}finally{ok.transition=c,C=a}return null}function Wk(i,s,o,a){do Hk();while(wk!==null);if(K&6)throw Error(p(327));o=i.finishedWork;var c=i.finishedLanes;if(o===null)return null;if(i.finishedWork=null,i.finishedLanes=0,o===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var d=o.lanes|o.childLanes;if(Bc(i,d),i===Q&&(Y=Q=null,Z=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),d=(o.flags&15990)!==0,o.subtreeFlags&15990||d){d=ok.transition,ok.transition=null;var f=C;C=1;var st=K;K|=4,nk.current=null,Oj(i,o),dk(o,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=o,hk(o),dc(),K=st,C=f,ok.transition=d}else i.current=o;if(vk&&(vk=!1,wk=i,xk=c),d=i.pendingLanes,d===0&&(Ri=null),mc(o.stateNode),Dk(i,B()),s!==null)for(a=i.onRecoverableError,o=0;o<s.length;o++)c=s[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),d=i.pendingLanes,d&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),s=ok.transition,o=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var a=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=i.current;V!==null;){var d=V,f=d.child;if(V.flags&16){var st=d.deletions;if(st!==null){for(var nt=0;nt<st.length;nt++){var _e=st[nt];for(V=_e;V!==null;){var ht=V;switch(ht.tag){case 0:case 11:case 15:Pj(8,ht,d)}var ft=ht.child;if(ft!==null)ft.return=ht,V=ft;else for(;V!==null;){ht=V;var it=ht.sibling,at=ht.return;if(Sj(ht),ht===_e){V=null;break}if(it!==null){it.return=at,V=it;break}V=at}}}var et=d.alternate;if(et!==null){var h=et.child;if(h!==null){et.child=null;do{var rt=h.sibling;h.sibling=null,h=rt}while(h!==null)}}V=d}}if(d.subtreeFlags&2064&&f!==null)f.return=d,V=f;else e:for(;V!==null;){if(d=V,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Pj(9,d,d.return)}var g=d.sibling;if(g!==null){g.return=d.return,V=g;break e}V=d.return}}var k=i.current;for(V=k;V!==null;){f=V;var _=f.child;if(f.subtreeFlags&2064&&_!==null)_.return=f,V=_;else e:for(f=k;V!==null;){if(st=V,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(ut){W(st,st.return,ut)}if(st===f){V=null;break e}var j=st.sibling;if(j!==null){j.return=st.return,V=j;break e}V=st.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}a=!0}return a}finally{C=o,ok.transition=s}}return!1}function Xk(i,s,o){s=Ji(o,s),s=Ni(i,s,1),i=nh(i,s,1),s=R(),i!==null&&(Ac(i,1,s),Dk(i,s))}function W(i,s,o){if(i.tag===3)Xk(i,i,o);else for(;s!==null;){if(s.tag===3){Xk(s,i,o);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){i=Ji(o,i),i=Qi(s,i,1),s=nh(s,i,1),i=R(),s!==null&&(Ac(s,1,i),Dk(s,i));break}}s=s.return}}function Ti(i,s,o){var a=i.pingCache;a!==null&&a.delete(s),s=R(),i.pingedLanes|=i.suspendedLanes&o,Q===i&&(Z&o)===o&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=o),Dk(i,s)}function Yk(i,s){s===0&&(i.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var o=R();i=ih(i,s),i!==null&&(Ac(i,s,o),Dk(i,o))}function uj(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Yk(i,o)}function bk(i,s){var o=0;switch(i.tag){case 13:var a=i.stateNode,c=i.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=i.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(s),Yk(i,o)}var Vk;Vk=function(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&o)&&!(s.flags&128))return dh=!1,yj(i,s,o);dh=!!(i.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;ij(i,s),i=s.pendingProps;var c=Yf(s,H.current);ch(s,o),c=Nh(null,s,a,i,c,o);var d=Sh();return s.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(a)?(d=!0,cg(s)):d=!1,s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,kh(s),c.updater=Ei,s.stateNode=c,c._reactInternals=s,Ii(s,a,i,o),s=jj(null,s,a,!0,d,o)):(s.tag=0,I&&d&&vg(s),Xi(null,s,c,o),s=s.child),s;case 16:a=s.elementType;e:{switch(ij(i,s),i=s.pendingProps,c=a._init,a=c(a._payload),s.type=a,c=s.tag=Zk(a),i=Ci(a,i),c){case 0:s=cj(null,s,a,i,o);break e;case 1:s=hj(null,s,a,i,o);break e;case 11:s=Yi(null,s,a,i,o);break e;case 14:s=$i(null,s,a,Ci(a.type,i),o);break e}throw Error(p(306,a,""))}return s;case 0:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),cj(i,s,a,c,o);case 1:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),hj(i,s,a,c,o);case 3:e:{if(kj(s),i===null)throw Error(p(387));a=s.pendingProps,d=s.memoizedState,c=d.element,lh(i,s),qh(s,a,null,o);var f=s.memoizedState;if(a=f.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){c=Ji(Error(p(423)),s),s=lj(i,s,a,o,c);break e}else if(a!==c){c=Ji(Error(p(424)),s),s=lj(i,s,a,o,c);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,o=Vg(s,null,a,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),a===c){s=Zi(i,s,o);break e}Xi(i,s,a,o)}s=s.child}return s;case 5:return Ah(s),i===null&&Eg(s),a=s.type,c=s.pendingProps,d=i!==null?i.memoizedProps:null,f=c.children,Ef(a,c)?f=null:d!==null&&Ef(a,d)&&(s.flags|=32),gj(i,s),Xi(i,s,f,o),s.child;case 6:return i===null&&Eg(s),null;case 13:return oj(i,s,o);case 4:return yh(s,s.stateNode.containerInfo),a=s.pendingProps,i===null?s.child=Ug(s,null,a,o):Xi(i,s,a,o),s.child;case 11:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),Yi(i,s,a,c,o);case 7:return Xi(i,s,s.pendingProps,o),s.child;case 8:return Xi(i,s,s.pendingProps.children,o),s.child;case 12:return Xi(i,s,s.pendingProps.children,o),s.child;case 10:e:{if(a=s.type._context,c=s.pendingProps,d=s.memoizedProps,f=c.value,G(Wg,a._currentValue),a._currentValue=f,d!==null)if(He(d.value,f)){if(d.children===c.children&&!Wf.current){s=Zi(i,s,o);break e}}else for(d=s.child,d!==null&&(d.return=s);d!==null;){var st=d.dependencies;if(st!==null){f=d.child;for(var nt=st.firstContext;nt!==null;){if(nt.context===a){if(d.tag===1){nt=mh(-1,o&-o),nt.tag=2;var _e=d.updateQueue;if(_e!==null){_e=_e.shared;var ht=_e.pending;ht===null?nt.next=nt:(nt.next=ht.next,ht.next=nt),_e.pending=nt}}d.lanes|=o,nt=d.alternate,nt!==null&&(nt.lanes|=o),bh(d.return,o,s),st.lanes|=o;break}nt=nt.next}}else if(d.tag===10)f=d.type===s.type?null:d.child;else if(d.tag===18){if(f=d.return,f===null)throw Error(p(341));f.lanes|=o,st=f.alternate,st!==null&&(st.lanes|=o),bh(f,o,s),f=d.sibling}else f=d.child;if(f!==null)f.return=d;else for(f=d;f!==null;){if(f===s){f=null;break}if(d=f.sibling,d!==null){d.return=f.return,f=d;break}f=f.return}d=f}Xi(i,s,c.children,o),s=s.child}return s;case 9:return c=s.type,a=s.pendingProps.children,ch(s,o),c=eh(c),a=a(c),s.flags|=1,Xi(i,s,a,o),s.child;case 14:return a=s.type,c=Ci(a,s.pendingProps),c=Ci(a.type,c),$i(i,s,a,c,o);case 15:return bj(i,s,s.type,s.pendingProps,o);case 17:return a=s.type,c=s.pendingProps,c=s.elementType===a?c:Ci(a,c),ij(i,s),s.tag=1,Zf(a)?(i=!0,cg(s)):i=!1,ch(s,o),Gi(s,a,c),Ii(s,a,c,o),jj(null,s,a,!0,i,o);case 19:return xj(i,s,o);case 22:return dj(i,s,o)}throw Error(p(156,s.tag))};function Fk(i,s){return ac(i,s)}function $k(i,s,o,a){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,s,o,a){return new $k(i,s,o,a)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,s){var o=i.alternate;return o===null?(o=Bg(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&14680064,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o}function Rg(i,s,o,a,c,d){var f=2;if(a=i,typeof i=="function")aj(i)&&(f=1);else if(typeof i=="string")f=5;else e:switch(i){case ya:return Tg(o.children,c,d,s);case za:f=8,c|=8;break;case Aa:return i=Bg(12,o,s,c|2),i.elementType=Aa,i.lanes=d,i;case Ea:return i=Bg(13,o,s,c),i.elementType=Ea,i.lanes=d,i;case Fa:return i=Bg(19,o,s,c),i.elementType=Fa,i.lanes=d,i;case Ia:return pj(o,c,d,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:f=10;break e;case Ca:f=9;break e;case Da:f=11;break e;case Ga:f=14;break e;case Ha:f=16,a=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return s=Bg(f,o,s,c),s.elementType=i,s.type=a,s.lanes=d,s}function Tg(i,s,o,a){return i=Bg(7,i,a,s),i.lanes=o,i}function pj(i,s,o,a){return i=Bg(22,i,a,s),i.elementType=Ia,i.lanes=o,i.stateNode={isHidden:!1},i}function Qg(i,s,o){return i=Bg(6,i,null,s),i.lanes=o,i}function Sg(i,s,o){return s=Bg(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function al(i,s,o,a,c){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function bl(i,s,o,a,c,d,f,st,nt){return i=new al(i,s,o,st,nt),s===1?(s=1,d===!0&&(s|=8)):s=0,d=Bg(3,null,null,s),i.current=d,d.stateNode=i,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(d),i}function cl(i,s,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:i,containerInfo:s,implementation:o}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(i.tag===1){var o=i.type;if(Zf(o))return bg(i,o,s)}return s}function el(i,s,o,a,c,d,f,st,nt){return i=bl(o,a,!0,i,c,d,f,st,nt),i.context=dl(null),o=i.current,a=R(),c=yi(o),d=mh(a,c),d.callback=s??null,nh(o,d,c),i.current.lanes=c,Ac(i,c,a),Dk(i,a),i}function fl(i,s,o,a){var c=s.current,d=R(),f=yi(c);return o=dl(o),s.context===null?s.context=o:s.pendingContext=o,s=mh(d,f),s.payload={element:i},a=a===void 0?null:a,a!==null&&(s.callback=a),i=nh(c,s,f),i!==null&&(gi(i,c,f,d),oh(i,c,f)),f}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function il(i,s){hl(i,s),(i=i.alternate)&&hl(i,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(i,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rk(function(){fl(null,i,null,null)}),s[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var s=Hc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Qc.length&&s!==0&&s<Qc[o].priority;o++);Qc.splice(o,0,i),o===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,s,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var _e=gl(f);d.call(_e)}}var f=el(s,a,i,0,null,!1,!1,"",pl);return i._reactRootContainer=f,i[uf]=f.current,sf(i.nodeType===8?i.parentNode:i),Rk(),f}for(;c=i.lastChild;)i.removeChild(c);if(typeof a=="function"){var st=a;a=function(){var _e=gl(nt);st.call(_e)}}var nt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(s,nt,o,a)}),nt}function rl(i,s,o,a,c){var d=o._reactRootContainer;if(d){var f=d;if(typeof c=="function"){var st=c;c=function(){var nt=gl(f);st.call(nt)}}fl(s,f,i,c)}else f=ql(o,s,i,c,a);return gl(f)}Ec=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var o=tc(s.pendingLanes);o!==0&&(Cc(s,o|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(i,1);if(a!==null){var c=R();gi(a,i,1,c)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var s=ih(i,134217728);if(s!==null){var o=R();gi(s,i,134217728,o)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var s=yi(i),o=ih(i,s);if(o!==null){var a=R();gi(o,i,s,a)}il(i,s)}};Hc=function(){return C};Ic=function(i,s){var o=C;try{return C=i,s()}finally{C=o}};yb=function(i,s,o){switch(s){case"input":if(bb(i,o),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var a=o[s];if(a!==i&&a.form===i.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(i,o);break;case"select":s=o.value,s!=null&&fb(i,!!o.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(i,s,null,o)};reactDom_production_min.createRoot=function(i,s){if(!nl(i))throw Error(p(299));var o=!1,a="",c=kl;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(c=s.onRecoverableError)),s=bl(i,1,!1,null,null,o,!1,a,c),i[uf]=s.current,sf(i.nodeType===8?i.parentNode:i),new ll(s)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(s),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,s,o){if(!ol(s))throw Error(p(200));return rl(null,i,s,!0,o)};reactDom_production_min.hydrateRoot=function(i,s,o){if(!nl(i))throw Error(p(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",f=kl;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),s=el(s,null,i,1,o??null,c,!1,d,f),i[uf]=s.current,sf(i),a)for(i=0;i<a.length;i++)o=a[i],c=o._getVersion,c=c(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,c]:s.mutableSourceEagerHydrationData.push(o,c);return new ml(s)};reactDom_production_min.render=function(i,s,o){if(!ol(s))throw Error(p(200));return rl(null,i,s,!1,o)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,s,o,a){if(!ol(o))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,s,o,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;var cjs={exports:{}},Draggable$2={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(a,c,d,f,st,nt){if(nt!==ReactPropTypesSecret){var _e=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _e.name="Invariant Violation",_e}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return o.PropTypes=o,o};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports,clsx={exports:{}};function r(i){var s,o,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var c=i.length;for(s=0;s<c;s++)i[s]&&(o=r(i[s]))&&(a&&(a+=" "),a+=o)}else for(o in i)i[o]&&(a&&(a+=" "),a+=o);return a}function e(){for(var i,s,o=0,a="",c=arguments.length;o<c;o++)(i=arguments[o])&&(s=r(i))&&(a&&(a+=" "),a+=s);return a}clsx.exports=e,clsx.exports.clsx=e;var clsxExports=clsx.exports,domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(i,s){for(let o=0,a=i.length;o<a;o++)if(s.apply(s,[i[o],o,i]))return i[o]}function isFunction(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function isNum(i){return typeof i=="number"&&!isNaN(i)}function int(i){return parseInt(i,10)}function dontSetMe(i,s,o){if(i[s])return new Error(`Invalid prop ${s} passed to ${o} - do not set this, set it on the child.`)}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;const prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var o,a;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const s=(a=(o=window.document)==null?void 0:o.documentElement)==null?void 0:a.style;if(!s||i in s)return"";for(let c=0;c<prefixes.length;c++)if(browserPrefixToKey(i,prefixes[c])in s)return prefixes[c];return""}function browserPrefixToKey(i,s){return s?`${s}${kebabToTitleCase(i)}`:i}function browserPrefixToStyle(i,s){return s?`-${s.toLowerCase()}-${i}`:i}function kebabToTitleCase(i){let s="",o=!0;for(let a=0;a<i.length;a++)o?(s+=i[a].toUpperCase(),o=!1):i[a]==="-"?o=!0:s+=i[a];return s}getPrefix$1.default=getPrefix();Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.scheduleRemoveUserSelectStyles=scheduleRemoveUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$1(getPrefix$1);function _interopRequireWildcard$1(i,s){if(typeof WeakMap=="function")var o=new WeakMap,a=new WeakMap;return(_interopRequireWildcard$1=function(c,d){if(!d&&c&&c.__esModule)return c;var f,st,nt={__proto__:null,default:c};if(c===null||typeof c!="object"&&typeof c!="function")return nt;if(f=d?a:o){if(f.has(c))return f.get(c);f.set(c,nt)}for(const _e in c)_e!=="default"&&{}.hasOwnProperty.call(c,_e)&&((st=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(c,_e))&&(st.get||st.set)?f(nt,_e,st):nt[_e]=c[_e]);return nt})(i,s)}let matchesSelectorFunc="";function matchesSelector(i,s){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,_shims$2.isFunction)(i[o])})),(0,_shims$2.isFunction)(i[matchesSelectorFunc])?i[matchesSelectorFunc](s):!1}function matchesSelectorAndParentsTo(i,s,o){let a=i;do{if(matchesSelector(a,s))return!0;if(a===o)return!1;a=a.parentNode}while(a);return!1}function addEvent(i,s,o,a){if(!i)return;const c={capture:!0,...a};i.addEventListener?i.addEventListener(s,o,c):i.attachEvent?i.attachEvent("on"+s,o):i["on"+s]=o}function removeEvent(i,s,o,a){if(!i)return;const c={capture:!0,...a};i.removeEventListener?i.removeEventListener(s,o,c):i.detachEvent?i.detachEvent("on"+s,o):i["on"+s]=null}function outerHeight(i){let s=i.clientHeight;const o=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,_shims$2.int)(o.borderTopWidth),s+=(0,_shims$2.int)(o.borderBottomWidth),s}function outerWidth(i){let s=i.clientWidth;const o=i.ownerDocument.defaultView.getComputedStyle(i);return s+=(0,_shims$2.int)(o.borderLeftWidth),s+=(0,_shims$2.int)(o.borderRightWidth),s}function innerHeight(i){let s=i.clientHeight;const o=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,_shims$2.int)(o.paddingTop),s-=(0,_shims$2.int)(o.paddingBottom),s}function innerWidth(i){let s=i.clientWidth;const o=i.ownerDocument.defaultView.getComputedStyle(i);return s-=(0,_shims$2.int)(o.paddingLeft),s-=(0,_shims$2.int)(o.paddingRight),s}function offsetXYFromParent(i,s,o){const c=s===s.ownerDocument.body?{left:0,top:0}:s.getBoundingClientRect(),d=(i.clientX+s.scrollLeft-c.left)/o,f=(i.clientY+s.scrollTop-c.top)/o;return{x:d,y:f}}function createCSSTransform(i,s){const o=getTranslation(i,s,"px");return{[(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default)]:o}}function createSVGTransform(i,s){return getTranslation(i,s,"")}function getTranslation(i,s,o){let{x:a,y:c}=i,d=`translate(${a}${o},${c}${o})`;if(s){const f=`${typeof s.x=="string"?s.x:s.x+o}`,st=`${typeof s.y=="string"?s.y:s.y+o}`;d=`translate(${f}, ${st})`+d}return d}function getTouch(i,s){return i.targetTouches&&(0,_shims$2.findInArray)(i.targetTouches,o=>s===o.identifier)||i.changedTouches&&(0,_shims$2.findInArray)(i.changedTouches,o=>s===o.identifier)}function getTouchIdentifier(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function addUserSelectStyles(i){if(!i)return;let s=i.getElementById("react-draggable-style-el");s||(s=i.createElement("style"),s.type="text/css",s.id="react-draggable-style-el",s.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,s.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(s)),i.body&&addClassName(i.body,"react-draggable-transparent-selection")}function scheduleRemoveUserSelectStyles(i){window.requestAnimationFrame?window.requestAnimationFrame(()=>{removeUserSelectStyles(i)}):removeUserSelectStyles(i)}function removeUserSelectStyles(i){if(i)try{if(i.body&&removeClassName(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{const s=(i.defaultView||window).getSelection();s&&s.type!=="Caret"&&s.removeAllRanges()}}catch{}}function addClassName(i,s){i.classList?i.classList.add(s):i.className.match(new RegExp(`(?:^|\\s)${s}(?!\\S)`))||(i.className+=` ${s}`)}function removeClassName(i,s){i.classList?i.classList.remove(s):i.className=i.className.replace(new RegExp(`(?:^|\\s)${s}(?!\\S)`,"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(i,s,o){if(!i.props.bounds)return[s,o];let{bounds:a}=i.props;a=typeof a=="string"?a:cloneBounds(a);const c=findDOMNode(i);if(typeof a=="string"){const{ownerDocument:d}=c,f=d.defaultView;let st;if(a==="parent"?st=c.parentNode:st=c.getRootNode().querySelector(a),!(st instanceof f.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');const nt=st,_e=f.getComputedStyle(c),ht=f.getComputedStyle(nt);a={left:-c.offsetLeft+(0,_shims$1.int)(ht.paddingLeft)+(0,_shims$1.int)(_e.marginLeft),top:-c.offsetTop+(0,_shims$1.int)(ht.paddingTop)+(0,_shims$1.int)(_e.marginTop),right:(0,_domFns$1.innerWidth)(nt)-(0,_domFns$1.outerWidth)(c)-c.offsetLeft+(0,_shims$1.int)(ht.paddingRight)-(0,_shims$1.int)(_e.marginRight),bottom:(0,_domFns$1.innerHeight)(nt)-(0,_domFns$1.outerHeight)(c)-c.offsetTop+(0,_shims$1.int)(ht.paddingBottom)-(0,_shims$1.int)(_e.marginBottom)}}return(0,_shims$1.isNum)(a.right)&&(s=Math.min(s,a.right)),(0,_shims$1.isNum)(a.bottom)&&(o=Math.min(o,a.bottom)),(0,_shims$1.isNum)(a.left)&&(s=Math.max(s,a.left)),(0,_shims$1.isNum)(a.top)&&(o=Math.max(o,a.top)),[s,o]}function snapToGrid(i,s,o){const a=Math.round(s/i[0])*i[0],c=Math.round(o/i[1])*i[1];return[a,c]}function canDragX(i){return i.props.axis==="both"||i.props.axis==="x"}function canDragY(i){return i.props.axis==="both"||i.props.axis==="y"}function getControlPosition(i,s,o){const a=typeof s=="number"?(0,_domFns$1.getTouch)(i,s):null;if(typeof s=="number"&&!a)return null;const c=findDOMNode(o),d=o.props.offsetParent||c.offsetParent||c.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(a||i,d,o.props.scale)}function createCoreData(i,s,o){const a=!(0,_shims$1.isNum)(i.lastX),c=findDOMNode(i);return a?{node:c,deltaX:0,deltaY:0,lastX:s,lastY:o,x:s,y:o}:{node:c,deltaX:s-i.lastX,deltaY:o-i.lastY,lastX:i.lastX,lastY:i.lastY,x:s,y:o}}function createDraggableData(i,s){const o=i.props.scale;return{node:s.node,x:i.state.x+s.deltaX/o,y:i.state.y+s.deltaY/o,deltaX:s.deltaX/o,deltaY:s.deltaY/o,lastX:i.state.x,lastY:i.state.y}}function cloneBounds(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function findDOMNode(i){const s=i.findDOMNode();if(!s)throw new Error("<DraggableCore>: Unmounted during event!");return s}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_reactDom=_interopRequireDefault(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault(log$1);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard(i,s){if(typeof WeakMap=="function")var o=new WeakMap,a=new WeakMap;return(_interopRequireWildcard=function(c,d){if(!d&&c&&c.__esModule)return c;var f,st,nt={__proto__:null,default:c};if(c===null||typeof c!="object"&&typeof c!="function")return nt;if(f=d?a:o){if(f.has(c))return f.get(c);f.set(c,nt)}for(const _e in c)_e!=="default"&&{}.hasOwnProperty.call(c,_e)&&((st=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(c,_e))&&(st.get||st.set)?f(nt,_e,st):nt[_e]=c[_e]);return nt})(i,s)}function _defineProperty(i,s,o){return(s=_toPropertyKey(s))in i?Object.defineProperty(i,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[s]=o,i}function _toPropertyKey(i){var s=_toPrimitive(i,"string");return typeof s=="symbol"?s:s+""}function _toPrimitive(i,s){if(typeof i!="object"||!i)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var a=o.call(i,s);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}const eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let dragEventFor=eventsFor.mouse,DraggableCore$1=class extends React.Component{constructor(){super(...arguments),_defineProperty(this,"dragging",!1),_defineProperty(this,"lastX",NaN),_defineProperty(this,"lastY",NaN),_defineProperty(this,"touchIdentifier",null),_defineProperty(this,"mounted",!1),_defineProperty(this,"handleDragStart",s=>{if(this.props.onMouseDown(s),!this.props.allowAnyClick&&typeof s.button=="number"&&s.button!==0)return!1;const o=this.findDOMNode();if(!o||!o.ownerDocument||!o.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:a}=o;if(this.props.disabled||!(s.target instanceof a.defaultView.Node)||this.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(s.target,this.props.handle,o)||this.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(s.target,this.props.cancel,o))return;s.type==="touchstart"&&!this.props.allowMobileScroll&&s.preventDefault();const c=(0,_domFns.getTouchIdentifier)(s);this.touchIdentifier=c;const d=(0,_positionFns.getControlPosition)(s,c,this);if(d==null)return;const{x:f,y:st}=d,nt=(0,_positionFns.createCoreData)(this,f,st);(0,_log.default)("DraggableCore: handleDragStart: %j",nt),(0,_log.default)("calling",this.props.onStart),!(this.props.onStart(s,nt)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(a),this.dragging=!0,this.lastX=f,this.lastY=st,(0,_domFns.addEvent)(a,dragEventFor.move,this.handleDrag),(0,_domFns.addEvent)(a,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"handleDrag",s=>{const o=(0,_positionFns.getControlPosition)(s,this.touchIdentifier,this);if(o==null)return;let{x:a,y:c}=o;if(Array.isArray(this.props.grid)){let st=a-this.lastX,nt=c-this.lastY;if([st,nt]=(0,_positionFns.snapToGrid)(this.props.grid,st,nt),!st&&!nt)return;a=this.lastX+st,c=this.lastY+nt}const d=(0,_positionFns.createCoreData)(this,a,c);if((0,_log.default)("DraggableCore: handleDrag: %j",d),this.props.onDrag(s,d)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const nt=document.createEvent("MouseEvents");nt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(nt)}return}this.lastX=a,this.lastY=c}),_defineProperty(this,"handleDragStop",s=>{if(!this.dragging)return;const o=(0,_positionFns.getControlPosition)(s,this.touchIdentifier,this);if(o==null)return;let{x:a,y:c}=o;if(Array.isArray(this.props.grid)){let nt=a-this.lastX||0,_e=c-this.lastY||0;[nt,_e]=(0,_positionFns.snapToGrid)(this.props.grid,nt,_e),a=this.lastX+nt,c=this.lastY+_e}const d=(0,_positionFns.createCoreData)(this,a,c);if(this.props.onStop(s,d)===!1||this.mounted===!1)return!1;const st=this.findDOMNode();st&&this.props.enableUserSelectHack&&(0,_domFns.scheduleRemoveUserSelectStyles)(st.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",d),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,st&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(st.ownerDocument,dragEventFor.move,this.handleDrag),(0,_domFns.removeEvent)(st.ownerDocument,dragEventFor.stop,this.handleDragStop))}),_defineProperty(this,"onMouseDown",s=>(dragEventFor=eventsFor.mouse,this.handleDragStart(s))),_defineProperty(this,"onMouseUp",s=>(dragEventFor=eventsFor.mouse,this.handleDragStop(s))),_defineProperty(this,"onTouchStart",s=>(dragEventFor=eventsFor.touch,this.handleDragStart(s))),_defineProperty(this,"onTouchEnd",s=>(dragEventFor=eventsFor.touch,this.handleDragStop(s)))}componentDidMount(){this.mounted=!0;const s=this.findDOMNode();s&&(0,_domFns.addEvent)(s,eventsFor.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const s=this.findDOMNode();if(s){const{ownerDocument:o}=s;(0,_domFns.removeEvent)(o,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(o,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(o,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(o,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(s,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.scheduleRemoveUserSelectStyles)(o)}}findDOMNode(){var s,o,a;return(s=this.props)!=null&&s.nodeRef?(a=(o=this.props)==null?void 0:o.nodeRef)==null?void 0:a.current:_reactDom.default.findDOMNode(this)}render(){return React.cloneElement(React.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};DraggableCore$2.default=DraggableCore$1;_defineProperty(DraggableCore$1,"displayName","DraggableCore");_defineProperty(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes.default.bool,allowMobileScroll:_propTypes.default.bool,children:_propTypes.default.node.isRequired,disabled:_propTypes.default.bool,enableUserSelectHack:_propTypes.default.bool,offsetParent:function(i,s){if(i[s]&&i[s].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes.default.arrayOf(_propTypes.default.number),handle:_propTypes.default.string,cancel:_propTypes.default.string,nodeRef:_propTypes.default.object,onStart:_propTypes.default.func,onDrag:_propTypes.default.func,onStop:_propTypes.default.func,onMouseDown:_propTypes.default.func,scale:_propTypes.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty(DraggableCore$1,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return nt.default}}),i.default=void 0;var s=ft(reactExports),o=ht(propTypesExports),a=ht(reactDomExports),c=clsxExports,d=domFns,f=positionFns,st=shims,nt=ht(DraggableCore$2),_e=ht(log$1);function ht(g){return g&&g.__esModule?g:{default:g}}function ft(g,k){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(ft=function(ut,ct){if(!ct&&ut&&ut.__esModule)return ut;var b,$,lt={__proto__:null,default:ut};if(ut===null||typeof ut!="object"&&typeof ut!="function")return lt;if(b=ct?j:_){if(b.has(ut))return b.get(ut);b.set(ut,lt)}for(const vt in ut)vt!=="default"&&{}.hasOwnProperty.call(ut,vt)&&(($=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(ut,vt))&&($.get||$.set)?b(lt,vt,$):lt[vt]=ut[vt]);return lt})(g,k)}function it(){return it=Object.assign?Object.assign.bind():function(g){for(var k=1;k<arguments.length;k++){var _=arguments[k];for(var j in _)({}).hasOwnProperty.call(_,j)&&(g[j]=_[j])}return g},it.apply(null,arguments)}function at(g,k,_){return(k=et(k))in g?Object.defineProperty(g,k,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[k]=_,g}function et(g){var k=h(g,"string");return typeof k=="symbol"?k:k+""}function h(g,k){if(typeof g!="object"||!g)return g;var _=g[Symbol.toPrimitive];if(_!==void 0){var j=_.call(g,k);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(g)}class rt extends s.Component{static getDerivedStateFromProps(k,_){let{position:j}=k,{prevPropsPosition:ut}=_;return j&&(!ut||j.x!==ut.x||j.y!==ut.y)?((0,_e.default)("Draggable: getDerivedStateFromProps %j",{position:j,prevPropsPosition:ut}),{x:j.x,y:j.y,prevPropsPosition:{...j}}):null}constructor(k){super(k),at(this,"onDragStart",(_,j)=>{if((0,_e.default)("Draggable: onDragStart: %j",j),this.props.onStart(_,(0,f.createDraggableData)(this,j))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),at(this,"onDrag",(_,j)=>{if(!this.state.dragging)return!1;(0,_e.default)("Draggable: onDrag: %j",j);const ut=(0,f.createDraggableData)(this,j),ct={x:ut.x,y:ut.y,slackX:0,slackY:0};if(this.props.bounds){const{x:$,y:lt}=ct;ct.x+=this.state.slackX,ct.y+=this.state.slackY;const[vt,Et]=(0,f.getBoundPosition)(this,ct.x,ct.y);ct.x=vt,ct.y=Et,ct.slackX=this.state.slackX+($-ct.x),ct.slackY=this.state.slackY+(lt-ct.y),ut.x=ct.x,ut.y=ct.y,ut.deltaX=ct.x-this.state.x,ut.deltaY=ct.y-this.state.y}if(this.props.onDrag(_,ut)===!1)return!1;this.setState(ct)}),at(this,"onDragStop",(_,j)=>{if(!this.state.dragging||this.props.onStop(_,(0,f.createDraggableData)(this,j))===!1)return!1;(0,_e.default)("Draggable: onDragStop: %j",j);const ct={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:$,y:lt}=this.props.position;ct.x=$,ct.y=lt}this.setState(ct)}),this.state={dragging:!1,dragged:!1,x:k.position?k.position.x:k.defaultPosition.x,y:k.position?k.position.y:k.defaultPosition.y,prevPropsPosition:{...k.position},slackX:0,slackY:0,isElementSVG:!1},k.position&&!(k.onDrag||k.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var k,_;return((_=(k=this.props)==null?void 0:k.nodeRef)==null?void 0:_.current)??a.default.findDOMNode(this)}render(){const{axis:k,bounds:_,children:j,defaultPosition:ut,defaultClassName:ct,defaultClassNameDragging:b,defaultClassNameDragged:$,position:lt,positionOffset:vt,scale:Et,...Mt}=this.props;let Ot={},Dt=null;const Nt=!!!lt||this.state.dragging,Lt=lt||ut,Rt={x:(0,f.canDragX)(this)&&Nt?this.state.x:Lt.x,y:(0,f.canDragY)(this)&&Nt?this.state.y:Lt.y};this.state.isElementSVG?Dt=(0,d.createSVGTransform)(Rt,vt):Ot=(0,d.createCSSTransform)(Rt,vt);const It=(0,c.clsx)(j.props.className||"",ct,{[b]:this.state.dragging,[$]:this.state.dragged});return s.createElement(nt.default,it({},Mt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),s.cloneElement(s.Children.only(j),{className:It,style:{...j.props.style,...Ot},transform:Dt}))}}i.default=rt,at(rt,"displayName","Draggable"),at(rt,"propTypes",{...nt.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:st.dontSetMe,style:st.dontSetMe,transform:st.dontSetMe}),at(rt,"defaultProps",{...nt.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Draggable$2);const{default:Draggable,DraggableCore}=Draggable$2;cjs.exports=Draggable;cjs.exports.default=Draggable;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports;const Draggable$1=getDefaultExportFromCjs(cjsExports);function Icon({id:i,label:s,icon:o,pos:a={x:0,y:0},onDoubleClick:c,onMoveEnd:d}){const[f,st]=reactExports.useState(a),nt=reactExports.useRef(null),_e=reactExports.useRef(null),ht=reactExports.useRef(!1);reactExports.useEffect(()=>{st(a)},[a.x,a.y]);function ft(){c&&c()}function it(k,_){ht.current=!0,st({x:_.x,y:_.y})}function at(){ht.current=!1}function et(k,_){const j=Math.max(8,Math.min(_.x,window.innerWidth-80)),ut=Math.max(8,Math.min(_.y,window.innerHeight-120));st({x:j,y:ut}),d&&d(i,{x:j,y:ut}),ht.current=!1}const h={position:"absolute",left:f.x,top:f.y};function rt(k){try{_e.current={x:k.clientX,y:k.clientY,pointerType:k.pointerType}}catch{_e.current=null}}function g(k){const _=_e.current;if(_e.current=null,!_)return;const j=(k.clientX||0)-_.x,ut=(k.clientY||0)-_.y,ct=Math.hypot(j,ut);_.pointerType==="touch"&&ct<12&&!ht.current&&ft()}return React$1.createElement(Draggable$1,{nodeRef:nt,position:{x:f.x,y:f.y},onStart:at,onDrag:it,onStop:et,bounds:"parent"},React$1.createElement("div",{ref:nt,className:"desktop-icon",style:h,onDoubleClick:ft,onPointerDown:rt,onPointerUp:g},React$1.createElement("div",{className:"icon-art"},o),React$1.createElement("div",{className:"icon-label"},s)))}function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(s,o){module.exports=o()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=xt,s.arraysToBytes=$t,s.assert=dt,s.bytesToString=St,s.createPromiseCapability=kn,s.createValidAbsoluteUrl=bt,s.escapeString=on,s.getModificationDate=wn,s.getVerbosityLevel=It,s.info=zt,s.isArrayBuffer=un,s.isArrayEqual=Sn,s.isAscii=hn,s.objectFromMap=Ht,s.objectSize=Bt,s.setVerbosityLevel=Rt,s.shadow=Pt,s.string32=Ft,s.stringToBytes=gt,s.stringToPDFString=sn,s.stringToUTF16BEString=an,s.stringToUTF8String=fn,s.unreachable=wt,s.utf8StringToString=cn,s.warn=Vt,o(2);const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const c=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=c;const d=1.35;s.LINE_FACTOR=d;const f=.35;s.LINE_DESCENT_FACTOR=f;const st={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=st;const nt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=nt;const _e="pdfjs_internal_editor_";s.AnnotationEditorPrefix=_e;const ht={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=ht;const ft={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=ft;const it={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=it;const at={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=at;const et={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=et;const h={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=h;const rt={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=rt;const g={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=g;const k={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=k;const _={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=_;const j={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=j;const ut={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=ut;const ct={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=ct;const b={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=b;const $={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=$;const lt={O:"PageOpen",C:"PageClose"};s.PageActionEventType=lt;const vt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};s.StreamType=vt;const Et={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};s.FontType=Et;const Mt={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=Mt;const Ot={NONE:0,BINARY:1,STREAM:2};s.CMapCompressionType=Ot;const Dt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=Dt;const Wt={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=Wt;const Nt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=Nt;let Lt=Mt.WARNINGS;function Rt(Gt){Number.isInteger(Gt)&&(Lt=Gt)}function It(){return Lt}function zt(Gt){Lt>=Mt.INFOS&&console.log(`Info: ${Gt}`)}function Vt(Gt){Lt>=Mt.WARNINGS&&console.log(`Warning: ${Gt}`)}function wt(Gt){throw new Error(Gt)}function dt(Gt,jt){Gt||wt(jt)}function ot(Gt){if(!Gt)return!1;switch(Gt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bt(Gt,jt=null,Ut=null){if(!Gt)return null;try{if(Ut&&typeof Gt=="string"){if(Ut.addDefaultProtocol&&Gt.startsWith("www.")){const nn=Gt.match(/\./g);nn&&nn.length>=2&&(Gt=`http://${Gt}`)}if(Ut.tryConvertEncoding)try{Gt=fn(Gt)}catch{}}const Jt=jt?new URL(Gt,jt):new URL(Gt);if(ot(Jt))return Jt}catch{}return null}function Pt(Gt,jt,Ut){return Object.defineProperty(Gt,jt,{value:Ut,enumerable:!0,configurable:!0,writable:!1}),Ut}const Tt=function(){function jt(Ut,Jt){this.constructor===jt&&wt("Cannot initialize BaseException."),this.message=Ut,this.name=Jt}return jt.prototype=new Error,jt.constructor=jt,jt}();s.BaseException=Tt;class Ct extends Tt{constructor(jt,Ut){super(jt,"PasswordException"),this.code=Ut}}s.PasswordException=Ct;class tt extends Tt{constructor(jt,Ut){super(jt,"UnknownErrorException"),this.details=Ut}}s.UnknownErrorException=tt;class pt extends Tt{constructor(jt){super(jt,"InvalidPDFException")}}s.InvalidPDFException=pt;class yt extends Tt{constructor(jt){super(jt,"MissingPDFException")}}s.MissingPDFException=yt;class mt extends Tt{constructor(jt,Ut){super(jt,"UnexpectedResponseException"),this.status=Ut}}s.UnexpectedResponseException=mt;class _t extends Tt{constructor(jt){super(jt,"FormatError")}}s.FormatError=_t;class kt extends Tt{constructor(jt){super(jt,"AbortException")}}s.AbortException=kt;function St(Gt){(typeof Gt!="object"||Gt===null||Gt.length===void 0)&&wt("Invalid argument for bytesToString");const jt=Gt.length,Ut=8192;if(jt<Ut)return String.fromCharCode.apply(null,Gt);const Jt=[];for(let nn=0;nn<jt;nn+=Ut){const dn=Math.min(nn+Ut,jt),ln=Gt.subarray(nn,dn);Jt.push(String.fromCharCode.apply(null,ln))}return Jt.join("")}function gt(Gt){typeof Gt!="string"&&wt("Invalid argument for stringToBytes");const jt=Gt.length,Ut=new Uint8Array(jt);for(let Jt=0;Jt<jt;++Jt)Ut[Jt]=Gt.charCodeAt(Jt)&255;return Ut}function xt(Gt){if(Gt.length!==void 0)return Gt.length;if(Gt.byteLength!==void 0)return Gt.byteLength;wt("Invalid argument for arrayByteLength")}function $t(Gt){const jt=Gt.length;if(jt===1&&Gt[0]instanceof Uint8Array)return Gt[0];let Ut=0;for(let dn=0;dn<jt;dn++)Ut+=xt(Gt[dn]);let Jt=0;const nn=new Uint8Array(Ut);for(let dn=0;dn<jt;dn++){let ln=Gt[dn];ln instanceof Uint8Array||(typeof ln=="string"?ln=gt(ln):ln=new Uint8Array(ln));const En=ln.byteLength;nn.set(ln,Jt),Jt+=En}return nn}function Ft(Gt){return String.fromCharCode(Gt>>24&255,Gt>>16&255,Gt>>8&255,Gt&255)}function Bt(Gt){return Object.keys(Gt).length}function Ht(Gt){const jt=Object.create(null);for(const[Ut,Jt]of Gt)jt[Ut]=Jt;return jt}function qt(){const Gt=new Uint8Array(4);return Gt[0]=1,new Uint32Array(Gt.buffer,0,1)[0]===1}function Zt(){try{return new Function(""),!0}catch{return!1}}class Xt{static get isLittleEndian(){return Pt(this,"isLittleEndian",qt())}static get isEvalSupported(){return Pt(this,"isEvalSupported",Zt())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}s.FeatureTest=Xt;const rn=[...Array(256).keys()].map(Gt=>Gt.toString(16).padStart(2,"0"));class tn{static makeHexColor(jt,Ut,Jt){return`#${rn[jt]}${rn[Ut]}${rn[Jt]}`}static scaleMinMax(jt,Ut){let Jt;jt[0]?(jt[0]<0&&(Jt=Ut[0],Ut[0]=Ut[1],Ut[1]=Jt),Ut[0]*=jt[0],Ut[1]*=jt[0],jt[3]<0&&(Jt=Ut[2],Ut[2]=Ut[3],Ut[3]=Jt),Ut[2]*=jt[3],Ut[3]*=jt[3]):(Jt=Ut[0],Ut[0]=Ut[2],Ut[2]=Jt,Jt=Ut[1],Ut[1]=Ut[3],Ut[3]=Jt,jt[1]<0&&(Jt=Ut[2],Ut[2]=Ut[3],Ut[3]=Jt),Ut[2]*=jt[1],Ut[3]*=jt[1],jt[2]<0&&(Jt=Ut[0],Ut[0]=Ut[1],Ut[1]=Jt),Ut[0]*=jt[2],Ut[1]*=jt[2]),Ut[0]+=jt[4],Ut[1]+=jt[4],Ut[2]+=jt[5],Ut[3]+=jt[5]}static transform(jt,Ut){return[jt[0]*Ut[0]+jt[2]*Ut[1],jt[1]*Ut[0]+jt[3]*Ut[1],jt[0]*Ut[2]+jt[2]*Ut[3],jt[1]*Ut[2]+jt[3]*Ut[3],jt[0]*Ut[4]+jt[2]*Ut[5]+jt[4],jt[1]*Ut[4]+jt[3]*Ut[5]+jt[5]]}static applyTransform(jt,Ut){const Jt=jt[0]*Ut[0]+jt[1]*Ut[2]+Ut[4],nn=jt[0]*Ut[1]+jt[1]*Ut[3]+Ut[5];return[Jt,nn]}static applyInverseTransform(jt,Ut){const Jt=Ut[0]*Ut[3]-Ut[1]*Ut[2],nn=(jt[0]*Ut[3]-jt[1]*Ut[2]+Ut[2]*Ut[5]-Ut[4]*Ut[3])/Jt,dn=(-jt[0]*Ut[1]+jt[1]*Ut[0]+Ut[4]*Ut[1]-Ut[5]*Ut[0])/Jt;return[nn,dn]}static getAxialAlignedBoundingBox(jt,Ut){const Jt=tn.applyTransform(jt,Ut),nn=tn.applyTransform(jt.slice(2,4),Ut),dn=tn.applyTransform([jt[0],jt[3]],Ut),ln=tn.applyTransform([jt[2],jt[1]],Ut);return[Math.min(Jt[0],nn[0],dn[0],ln[0]),Math.min(Jt[1],nn[1],dn[1],ln[1]),Math.max(Jt[0],nn[0],dn[0],ln[0]),Math.max(Jt[1],nn[1],dn[1],ln[1])]}static inverseTransform(jt){const Ut=jt[0]*jt[3]-jt[1]*jt[2];return[jt[3]/Ut,-jt[1]/Ut,-jt[2]/Ut,jt[0]/Ut,(jt[2]*jt[5]-jt[4]*jt[3])/Ut,(jt[4]*jt[1]-jt[5]*jt[0])/Ut]}static apply3dTransform(jt,Ut){return[jt[0]*Ut[0]+jt[1]*Ut[1]+jt[2]*Ut[2],jt[3]*Ut[0]+jt[4]*Ut[1]+jt[5]*Ut[2],jt[6]*Ut[0]+jt[7]*Ut[1]+jt[8]*Ut[2]]}static singularValueDecompose2dScale(jt){const Ut=[jt[0],jt[2],jt[1],jt[3]],Jt=jt[0]*Ut[0]+jt[1]*Ut[2],nn=jt[0]*Ut[1]+jt[1]*Ut[3],dn=jt[2]*Ut[0]+jt[3]*Ut[2],ln=jt[2]*Ut[1]+jt[3]*Ut[3],En=(Jt+ln)/2,xn=Math.sqrt((Jt+ln)**2-4*(Jt*ln-dn*nn))/2,bn=En+xn||1,mn=En-xn||1;return[Math.sqrt(bn),Math.sqrt(mn)]}static normalizeRect(jt){const Ut=jt.slice(0);return jt[0]>jt[2]&&(Ut[0]=jt[2],Ut[2]=jt[0]),jt[1]>jt[3]&&(Ut[1]=jt[3],Ut[3]=jt[1]),Ut}static intersect(jt,Ut){const Jt=Math.max(Math.min(jt[0],jt[2]),Math.min(Ut[0],Ut[2])),nn=Math.min(Math.max(jt[0],jt[2]),Math.max(Ut[0],Ut[2]));if(Jt>nn)return null;const dn=Math.max(Math.min(jt[1],jt[3]),Math.min(Ut[1],Ut[3])),ln=Math.min(Math.max(jt[1],jt[3]),Math.max(Ut[1],Ut[3]));return dn>ln?null:[Jt,dn,nn,ln]}static bezierBoundingBox(jt,Ut,Jt,nn,dn,ln,En,xn){const bn=[],mn=[[],[]];let Cn,An,Ln,gn,Nn,In,Wn,Hn;for(let $n=0;$n<2;++$n){if($n===0?(An=6*jt-12*Jt+6*dn,Cn=-3*jt+9*Jt-9*dn+3*En,Ln=3*Jt-3*jt):(An=6*Ut-12*nn+6*ln,Cn=-3*Ut+9*nn-9*ln+3*xn,Ln=3*nn-3*Ut),Math.abs(Cn)<1e-12){if(Math.abs(An)<1e-12)continue;gn=-Ln/An,0<gn&&gn<1&&bn.push(gn);continue}Wn=An*An-4*Ln*Cn,Hn=Math.sqrt(Wn),!(Wn<0)&&(Nn=(-An+Hn)/(2*Cn),0<Nn&&Nn<1&&bn.push(Nn),In=(-An-Hn)/(2*Cn),0<In&&In<1&&bn.push(In))}let Rn=bn.length,yn;const Mn=Rn;for(;Rn--;)gn=bn[Rn],yn=1-gn,mn[0][Rn]=yn*yn*yn*jt+3*yn*yn*gn*Jt+3*yn*gn*gn*dn+gn*gn*gn*En,mn[1][Rn]=yn*yn*yn*Ut+3*yn*yn*gn*nn+3*yn*gn*gn*ln+gn*gn*gn*xn;return mn[0][Mn]=jt,mn[1][Mn]=Ut,mn[0][Mn+1]=En,mn[1][Mn+1]=xn,mn[0].length=mn[1].length=Mn+2,[Math.min(...mn[0]),Math.min(...mn[1]),Math.max(...mn[0]),Math.max(...mn[1])]}}s.Util=tn;const en=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function sn(Gt){if(Gt[0]>=""){let Ut;if(Gt[0]===""&&Gt[1]===""?Ut="utf-16be":Gt[0]===""&&Gt[1]===""?Ut="utf-16le":Gt[0]===""&&Gt[1]===""&&Gt[2]===""&&(Ut="utf-8"),Ut)try{const Jt=new TextDecoder(Ut,{fatal:!0}),nn=gt(Gt);return Jt.decode(nn)}catch(Jt){Vt(`stringToPDFString: "${Jt}".`)}}const jt=[];for(let Ut=0,Jt=Gt.length;Ut<Jt;Ut++){const nn=en[Gt.charCodeAt(Ut)];jt.push(nn?String.fromCharCode(nn):Gt.charAt(Ut))}return jt.join("")}function on(Gt){return Gt.replace(/([()\\\n\r])/g,jt=>jt===`
`?"\\n":jt==="\r"?"\\r":`\\${jt}`)}function hn(Gt){return/^[\x00-\x7F]*$/.test(Gt)}function an(Gt){const jt=[""];for(let Ut=0,Jt=Gt.length;Ut<Jt;Ut++){const nn=Gt.charCodeAt(Ut);jt.push(String.fromCharCode(nn>>8&255),String.fromCharCode(nn&255))}return jt.join("")}function fn(Gt){return decodeURIComponent(escape(Gt))}function cn(Gt){return unescape(encodeURIComponent(Gt))}function un(Gt){return typeof Gt=="object"&&Gt!==null&&Gt.byteLength!==void 0}function Sn(Gt,jt){if(Gt.length!==jt.length)return!1;for(let Ut=0,Jt=Gt.length;Ut<Jt;Ut++)if(Gt[Ut]!==jt[Ut])return!1;return!0}function wn(Gt=new Date){return[Gt.getUTCFullYear().toString(),(Gt.getUTCMonth()+1).toString().padStart(2,"0"),Gt.getUTCDate().toString().padStart(2,"0"),Gt.getUTCHours().toString().padStart(2,"0"),Gt.getUTCMinutes().toString().padStart(2,"0"),Gt.getUTCSeconds().toString().padStart(2,"0")].join("")}function kn(){const Gt=Object.create(null);let jt=!1;return Object.defineProperty(Gt,"settled",{get(){return jt}}),Gt.promise=new Promise(function(Ut,Jt){Gt.resolve=function(nn){jt=!0,Ut(nn)},Gt.reject=function(nn){jt=!0,Jt(nn)}}),Gt}},(i,s,o)=>{o(3)},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const o=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=o},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var i,o,a,c,d,f,st,nt,_e,Gn,ft,it;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.build=exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,exports$1.getDocument=getDocument,exports$1.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:et,NodeCMapReaderFactory:h,NodeStandardFontDataFactory:rt}=__w_pdfjs_require__(21);exports$1.DefaultCanvasFactory=DefaultCanvasFactory=et,exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory=h,exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=rt}let createPDFNetworkStream;function setPDFNetworkStreamFactory(et){createPDFNetworkStream=et}function getDocument(et){const h=new PDFDocumentLoadingTask;let rt;if(typeof et=="string"||et instanceof URL)rt={url:et};else if((0,_util.isArrayBuffer)(et))rt={data:et};else if(et instanceof PDFDataRangeTransport)rt={range:et};else{if(typeof et!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!et.url&&!et.data&&!et.range)throw new Error("Invalid parameter object: need either .data, .range or .url");rt=et}const g=Object.create(null);let k=null,_=null;for(const ut in rt){const ct=rt[ut];switch(ut){case"url":if(typeof window<"u")try{g[ut]=new URL(ct,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if(typeof ct=="string"||ct instanceof URL){g[ut]=ct.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":k=ct;continue;case"worker":_=ct;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&ct instanceof Buffer)g[ut]=new Uint8Array(ct);else{if(ct instanceof Uint8Array)break;if(typeof ct=="string")g[ut]=(0,_util.stringToBytes)(ct);else if(typeof ct=="object"&&ct!==null&&!isNaN(ct.length))g[ut]=new Uint8Array(ct);else if((0,_util.isArrayBuffer)(ct))g[ut]=new Uint8Array(ct);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}g[ut]=ct}if(g.CMapReaderFactory=g.CMapReaderFactory||DefaultCMapReaderFactory,g.StandardFontDataFactory=g.StandardFontDataFactory||DefaultStandardFontDataFactory,g.ignoreErrors=g.stopAtErrors!==!0,g.fontExtraProperties=g.fontExtraProperties===!0,g.pdfBug=g.pdfBug===!0,g.enableXfa=g.enableXfa===!0,(!Number.isInteger(g.rangeChunkSize)||g.rangeChunkSize<1)&&(g.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof g.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(g.docBaseUrl))&&(g.docBaseUrl=null),(!Number.isInteger(g.maxImageSize)||g.maxImageSize<-1)&&(g.maxImageSize=-1),typeof g.cMapUrl!="string"&&(g.cMapUrl=null),typeof g.standardFontDataUrl!="string"&&(g.standardFontDataUrl=null),typeof g.useWorkerFetch!="boolean"&&(g.useWorkerFetch=g.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&g.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof g.isEvalSupported!="boolean"&&(g.isEvalSupported=!0),typeof g.disableFontFace!="boolean"&&(g.disableFontFace=_is_node.isNodeJS),typeof g.useSystemFonts!="boolean"&&(g.useSystemFonts=!_is_node.isNodeJS&&!g.disableFontFace),(typeof g.ownerDocument!="object"||g.ownerDocument===null)&&(g.ownerDocument=globalThis.document),typeof g.disableRange!="boolean"&&(g.disableRange=!1),typeof g.disableStream!="boolean"&&(g.disableStream=!1),typeof g.disableAutoFetch!="boolean"&&(g.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(g.verbosity),!_){const ut={verbosity:g.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};_=ut.port?PDFWorker.fromPort(ut):new PDFWorker(ut),h._worker=_}const j=h.docId;return _.promise.then(function(){if(h.destroyed)throw new Error("Loading aborted");const ut=_fetchDocument(_,g,k,j),ct=new Promise(function(b){let $;k?$=new _transport_stream.PDFDataTransportStream({length:g.length,initialData:g.initialData,progressiveDone:g.progressiveDone,contentDispositionFilename:g.contentDispositionFilename,disableRange:g.disableRange,disableStream:g.disableStream},k):g.data||($=createPDFNetworkStream({url:g.url,length:g.length,httpHeaders:g.httpHeaders,withCredentials:g.withCredentials,rangeChunkSize:g.rangeChunkSize,disableRange:g.disableRange,disableStream:g.disableStream})),b($)});return Promise.all([ut,ct]).then(function([b,$]){if(h.destroyed)throw new Error("Loading aborted");const lt=new _message_handler.MessageHandler(j,b,_.port),vt=new WorkerTransport(lt,h,$,g);h._transport=vt,lt.send("Ready",null)})}).catch(h._capability.reject),h}async function _fetchDocument(et,h,rt,g){if(et.destroyed)throw new Error("Worker was destroyed");rt&&(h.length=rt.length,h.initialData=rt.initialData,h.progressiveDone=rt.progressiveDone,h.contentDispositionFilename=rt.contentDispositionFilename);const k=await et.messageHandler.sendWithPromise("GetDocRequest",{docId:g,apiVersion:"2.16.105",source:{data:h.data,url:h.url,password:h.password,disableAutoFetch:h.disableAutoFetch,rangeChunkSize:h.rangeChunkSize,length:h.length},maxImageSize:h.maxImageSize,disableFontFace:h.disableFontFace,docBaseUrl:h.docBaseUrl,ignoreErrors:h.ignoreErrors,isEvalSupported:h.isEvalSupported,fontExtraProperties:h.fontExtraProperties,enableXfa:h.enableXfa,useSystemFonts:h.useSystemFonts,cMapUrl:h.useWorkerFetch?h.cMapUrl:null,standardFontDataUrl:h.useWorkerFetch?h.standardFontDataUrl:null});if(h.data&&(h.data=null),et.destroyed)throw new Error("Worker was destroyed");return k}const s=class s{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Xn(s,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var h;this.destroyed=!0,await((h=this._transport)==null?void 0:h.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Kt(s,i,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(h,rt,g=!1,k=null){this.length=h,this.initialData=rt,this.progressiveDone=g,this.contentDispositionFilename=k,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(h){this._rangeListeners.push(h)}addProgressListener(h){this._progressListeners.push(h)}addProgressiveReadListener(h){this._progressiveReadListeners.push(h)}addProgressiveDoneListener(h){this._progressiveDoneListeners.push(h)}onDataRange(h,rt){for(const g of this._rangeListeners)g(h,rt)}onDataProgress(h,rt){this._readyCapability.promise.then(()=>{for(const g of this._progressListeners)g(h,rt)})}onDataProgressiveRead(h){this._readyCapability.promise.then(()=>{for(const rt of this._progressiveReadListeners)rt(h)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const h of this._progressiveDoneListeners)h()})}transportReady(){this._readyCapability.resolve()}requestDataRange(h,rt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(h,rt){this._pdfInfo=h,this._transport=rt,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(h){return this._transport.getPage(h)}getPageIndex(h){return this._transport.getPageIndex(h)}getDestinations(){return this._transport.getDestinations()}getDestination(h){return this._transport.getDestination(h)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(h=!1){return this._transport.startCleanup(h||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(h,rt,g,k,_=!1){this._pageIndex=h,this._pageInfo=rt,this._ownerDocument=k,this._transport=g,this._stats=_?new _display_utils.StatTimer:null,this._pdfBug=_,this.commonObjs=g.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:h,rotation:rt=this.rotate,offsetX:g=0,offsetY:k=0,dontFlip:_=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:h,rotation:rt,offsetX:g,offsetY:k,dontFlip:_})}getAnnotations({intent:h="display"}={}){const rt=this._transport.getRenderingIntent(h);let g=this._annotationPromises.get(rt.cacheKey);return g||(g=this._transport.getAnnotations(this._pageIndex,rt.renderingIntent),this._annotationPromises.set(rt.cacheKey,g),g=g.then(k=>{for(const _ of k)_.titleObj!==void 0&&Object.defineProperty(_,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),_.titleObj.str}}),_.contentsObj!==void 0&&Object.defineProperty(_,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),_.contentsObj.str}});return k})),g}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var h;return((h=this._transport._htmlForXfa)==null?void 0:h.children[this._pageIndex])||null}render({canvasContext:h,viewport:rt,intent:g="display",annotationMode:k=_util.AnnotationMode.ENABLE,transform:_=null,imageLayer:j=null,canvasFactory:ut=null,background:ct=null,optionalContentConfigPromise:b=null,annotationCanvasMap:$=null,pageColors:lt=null,printAnnotationStorage:vt=null}){var Rt,It;((Rt=arguments[0])==null?void 0:Rt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_FORMS)),((It=arguments[0])==null?void 0:It.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&k===_util.AnnotationMode.ENABLE&&(k=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Et=this._transport.getRenderingIntent(g,k,vt);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());let Mt=this._intentStates.get(Et.cacheKey);Mt||(Mt=Object.create(null),this._intentStates.set(Et.cacheKey,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Ot=ut||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Dt=!!(Et.renderingIntent&_util.RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=(0,_util.createPromiseCapability)(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Et));const Wt=zt=>{Mt.renderTasks.delete(Nt),(this.cleanupAfterRender||Dt)&&(this.pendingCleanup=!0),this._tryCleanup(),zt?(Nt.capability.reject(zt),this._abortOperatorList({intentState:Mt,reason:zt instanceof Error?zt:new Error(zt)})):Nt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Nt=new InternalRenderTask({callback:Wt,params:{canvasContext:h,viewport:rt,transform:_,imageLayer:j,background:ct},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:$,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:Ot,useRequestAnimationFrame:!Dt,pdfBug:this._pdfBug,pageColors:lt});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(Nt);const Lt=Nt.task;return Promise.all([Mt.displayReadyCapability.promise,b]).then(([zt,Vt])=>{if(this.pendingCleanup){Wt();return}this._stats&&this._stats.time("Rendering"),Nt.initializeGraphics({transparency:zt,optionalContentConfig:Vt}),Nt.operatorListChanged()}).catch(Wt),Lt}getOperatorList({intent:h="display",annotationMode:rt=_util.AnnotationMode.ENABLE,printAnnotationStorage:g=null}={}){function k(){j.operatorList.lastChunk&&(j.opListReadCapability.resolve(j.operatorList),j.renderTasks.delete(ut))}const _=this._transport.getRenderingIntent(h,rt,g,!0);let j=this._intentStates.get(_.cacheKey);j||(j=Object.create(null),this._intentStates.set(_.cacheKey,j));let ut;return j.opListReadCapability||(ut=Object.create(null),ut.operatorListChanged=k,j.opListReadCapability=(0,_util.createPromiseCapability)(),(j.renderTasks||(j.renderTasks=new Set)).add(ut),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(_)),j.opListReadCapability.promise}streamTextContent({disableCombineTextItems:h=!1,includeMarkedContent:rt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:h!==!0,includeMarkedContent:rt===!0},{highWaterMark:100,size(k){return k.items.length}})}getTextContent(h={}){if(this._transport._htmlForXfa)return this.getXfa().then(g=>_xfa_text.XfaText.textContent(g));const rt=this.streamTextContent(h);return new Promise(function(g,k){function _(){j.read().then(function({value:ct,done:b}){if(b){g(ut);return}Object.assign(ut.styles,ct.styles),ut.items.push(...ct.items),_()},k)}const j=rt.getReader(),ut={items:[],styles:Object.create(null)};_()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const h=[];for(const rt of this._intentStates.values())if(this._abortOperatorList({intentState:rt,reason:new Error("Page was destroyed."),force:!0}),!rt.opListReadCapability)for(const g of rt.renderTasks)h.push(g.completed),g.cancel();this.objs.clear();for(const rt of this._bitmaps)rt.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(h)}cleanup(h=!1){return this.pendingCleanup=!0,this._tryCleanup(h)}_tryCleanup(h=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:rt,operatorList:g}of this._intentStates.values())if(rt.size>0||!g.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,h&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const rt of this._bitmaps)rt.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(h,rt){const g=this._intentStates.get(rt);g&&(this._stats&&this._stats.timeEnd("Page Request"),g.displayReadyCapability&&g.displayReadyCapability.resolve(h))}_renderPageChunk(h,rt){for(let g=0,k=h.length;g<k;g++)rt.operatorList.fnArray.push(h.fnArray[g]),rt.operatorList.argsArray.push(h.argsArray[g]);rt.operatorList.lastChunk=h.lastChunk,rt.operatorList.separateAnnots=h.separateAnnots;for(const g of rt.renderTasks)g.operatorListChanged();h.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:h,cacheKey:rt,annotationStorageMap:g}){const _=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:h,cacheKey:rt,annotationStorage:g}).getReader(),j=this._intentStates.get(rt);j.streamReader=_;const ut=()=>{_.read().then(({value:ct,done:b})=>{if(b){j.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ct,j),ut())},ct=>{if(j.streamReader=null,!this._transport.destroyed){if(j.operatorList){j.operatorList.lastChunk=!0;for(const b of j.renderTasks)b.operatorListChanged();this._tryCleanup()}if(j.displayReadyCapability)j.displayReadyCapability.reject(ct);else if(j.opListReadCapability)j.opListReadCapability.reject(ct);else throw ct}})};ut()}_abortOperatorList({intentState:h,reason:rt,force:g=!1}){if(h.streamReader){if(!g){if(h.renderTasks.size>0)return;if(rt instanceof _display_utils.RenderingCancelledException){h.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:h,reason:rt,force:!0}),h.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(h.streamReader.cancel(new _util.AbortException(rt.message)).catch(()=>{}),h.streamReader=null,!this._transport.destroyed){for(const[k,_]of this._intentStates)if(_===h){this._intentStates.delete(k);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(h,rt){const g={data:structuredClone(h,rt)};this._deferred.then(()=>{for(const k of this._listeners)k.call(this,g)})}addEventListener(h,rt){this._listeners.push(rt)}removeEventListener(h,rt){const g=this._listeners.indexOf(rt);this._listeners.splice(g,1)}terminate(){this._listeners.length=0}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const et=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;et&&(PDFWorkerUtil.fallbackWorkerSrc=et.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(et,h){let rt;try{if(rt=new URL(et),!rt.origin||rt.origin==="null")return!1}catch{return!1}const g=new URL(h,rt);return rt.origin===g.origin},PDFWorkerUtil.createCDNWrapper=function(et){const h=`importScripts("${et}");`;return URL.createObjectURL(new Blob([h]))}}const _PDFWorker=class _PDFWorker{constructor({name:et=null,port:h=null,verbosity:rt=(0,_util.getVerbosityLevel)()}={}){if(h&&At(_PDFWorker,a).has(h))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=et,this.destroyed=!1,this.verbosity=rt,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,h){At(_PDFWorker,a).set(h,this),this._initializeFromPort(h);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(et){this._port=et,this._messageHandler=new _message_handler.MessageHandler("main","worker",et),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:et}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,et)||(et=PDFWorkerUtil.createCDNWrapper(new URL(et,window.location).href));const h=new Worker(et),rt=new _message_handler.MessageHandler("main","worker",h),g=()=>{h.removeEventListener("error",k),rt.destroy(),h.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},k=()=>{this._webWorker||g()};h.addEventListener("error",k),rt.on("test",j=>{if(h.removeEventListener("error",k),this.destroyed){g();return}j?(this._messageHandler=rt,this._port=h,this._webWorker=h,this._readyCapability.resolve(),rt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),rt.destroy(),h.terminate())}),rt.on("ready",j=>{if(h.removeEventListener("error",k),this.destroyed){g();return}try{_()}catch{this._setupFakeWorker()}});const _=()=>{const j=new Uint8Array;rt.send("test",j,[j.buffer])};_();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(et=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const h=new LoopbackPort;this._port=h;const rt=`fake${PDFWorkerUtil.fakeWorkerId++}`,g=new _message_handler.MessageHandler(rt+"_worker",rt,h);et.setup(g,h);const k=new _message_handler.MessageHandler(rt,rt+"_worker",h);this._messageHandler=k,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})}).catch(et=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${et.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),At(_PDFWorker,a).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(et){if(!(et!=null&&et.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return At(this,a).has(et.port)?At(this,a).get(et.port):new _PDFWorker(et)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var et;try{return((et=globalThis.pdfjsWorker)==null?void 0:et.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};a=new WeakMap,Kt(_PDFWorker,a,new WeakMap);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(h,rt,g,k){Kt(this,c,null);Kt(this,d,new Map);Kt(this,f,new Map);Kt(this,st,null);this.messageHandler=h,this.loadingTask=rt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:rt.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:k.ownerDocument,styleElement:k.styleElement}),this._params=k,k.useWorkerFetch||(this.CMapReaderFactory=new k.CMapReaderFactory({baseUrl:k.cMapUrl,isCompressed:k.cMapPacked}),this.StandardFontDataFactory=new k.StandardFontDataFactory({baseUrl:k.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=g,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return At(this,c)}getRenderingIntent(h,rt=_util.AnnotationMode.ENABLE,g=null,k=!1){let _=_util.RenderingIntentFlag.DISPLAY,j=null;switch(h){case"any":_=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":_=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${h}`)}switch(rt){case _util.AnnotationMode.DISABLE:_+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:_+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:_+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,j=(_&_util.RenderingIntentFlag.PRINT&&g instanceof _annotation_storage.PrintAnnotationStorage?g:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${rt}`)}return k&&(_+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:_,cacheKey:`${_}_${_annotation_storage.AnnotationStorage.getHash(j)}`,annotationStorageMap:j}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const h=[];for(const g of At(this,d).values())h.push(g._destroy());At(this,d).clear(),At(this,f).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const rt=this.messageHandler.sendWithPromise("Terminate",null);return h.push(rt),Promise.all(h).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Qt(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:h,loadingTask:rt}=this;h.on("GetReader",(g,k)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=_=>{this._lastProgress={loaded:_.loaded,total:_.total}},k.onPull=()=>{this._fullReader.read().then(function({value:_,done:j}){if(j){k.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(_),"GetReader - expected an ArrayBuffer."),k.enqueue(new Uint8Array(_),1,[_])}).catch(_=>{k.error(_)})},k.onCancel=_=>{this._fullReader.cancel(_),k.ready.catch(j=>{if(!this.destroyed)throw j})}}),h.on("ReaderHeadersReady",g=>{const k=(0,_util.createPromiseCapability)(),_=this._fullReader;return _.headersReady.then(()=>{var j;(!_.isStreamingSupported||!_.isRangeSupported)&&(this._lastProgress&&((j=rt.onProgress)==null||j.call(rt,this._lastProgress)),_.onProgress=ut=>{var ct;(ct=rt.onProgress)==null||ct.call(rt,{loaded:ut.loaded,total:ut.total})}),k.resolve({isStreamingSupported:_.isStreamingSupported,isRangeSupported:_.isRangeSupported,contentLength:_.contentLength})},k.reject),k.promise}),h.on("GetRangeReader",(g,k)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const _=this._networkStream.getRangeReader(g.begin,g.end);if(!_){k.close();return}k.onPull=()=>{_.read().then(function({value:j,done:ut}){if(ut){k.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(j),"GetRangeReader - expected an ArrayBuffer."),k.enqueue(new Uint8Array(j),1,[j])}).catch(j=>{k.error(j)})},k.onCancel=j=>{_.cancel(j),k.ready.catch(ut=>{if(!this.destroyed)throw ut})}}),h.on("GetDoc",({pdfInfo:g})=>{this._numPages=g.numPages,this._htmlForXfa=g.htmlForXfa,delete g.htmlForXfa,rt._capability.resolve(new PDFDocumentProxy(g,this))}),h.on("DocException",function(g){let k;switch(g.name){case"PasswordException":k=new _util.PasswordException(g.message,g.code);break;case"InvalidPDFException":k=new _util.InvalidPDFException(g.message);break;case"MissingPDFException":k=new _util.MissingPDFException(g.message);break;case"UnexpectedResponseException":k=new _util.UnexpectedResponseException(g.message,g.status);break;case"UnknownErrorException":k=new _util.UnknownErrorException(g.message,g.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}rt._capability.reject(k)}),h.on("PasswordRequest",g=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),rt.onPassword){const k=_=>{_ instanceof Error?this._passwordCapability.reject(_):this._passwordCapability.resolve({password:_})};try{rt.onPassword(k,g.code)}catch(_){this._passwordCapability.reject(_)}}else this._passwordCapability.reject(new _util.PasswordException(g.message,g.code));return this._passwordCapability.promise}),h.on("DataLoaded",g=>{var k;(k=rt.onProgress)==null||k.call(rt,{loaded:g.length,total:g.length}),this.downloadInfoCapability.resolve(g)}),h.on("StartRenderPage",g=>{if(this.destroyed)return;At(this,d).get(g.pageIndex)._startRenderPage(g.transparency,g.cacheKey)}),h.on("commonobj",([g,k,_])=>{var j;if(!this.destroyed&&!this.commonObjs.has(g))switch(k){case"Font":const ut=this._params;if("error"in _){const $=_.error;(0,_util.warn)(`Error during font loading: ${$}`),this.commonObjs.resolve(g,$);break}let ct=null;ut.pdfBug&&((j=globalThis.FontInspector)!=null&&j.enabled)&&(ct={registerFont($,lt){globalThis.FontInspector.fontAdded($,lt)}});const b=new _font_loader.FontFaceObject(_,{isEvalSupported:ut.isEvalSupported,disableFontFace:ut.disableFontFace,ignoreErrors:ut.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ct});this.fontLoader.bind(b).catch($=>h.sendWithPromise("FontFallback",{id:g})).finally(()=>{!ut.fontExtraProperties&&b.data&&(b.data=null),this.commonObjs.resolve(g,b)});break;case"FontPath":case"Image":this.commonObjs.resolve(g,_);break;default:throw new Error(`Got unknown common object type ${k}`)}}),h.on("obj",([g,k,_,j])=>{var ct;if(this.destroyed)return;const ut=At(this,d).get(k);if(!ut.objs.has(g))switch(_){case"Image":ut.objs.resolve(g,j);const b=8e6;if(j){let $;if(j.bitmap){const{bitmap:lt,width:vt,height:Et}=j;$=vt*Et*4,ut._bitmaps.add(lt)}else $=((ct=j.data)==null?void 0:ct.length)||0;$>b&&(ut.cleanupAfterRender=!0)}break;case"Pattern":ut.objs.resolve(g,j);break;default:throw new Error(`Got unknown object type ${_}`)}}),h.on("DocProgress",g=>{var k;this.destroyed||(k=rt.onProgress)==null||k.call(rt,{loaded:g.loaded,total:g.total})}),h.on("DocStats",g=>{this.destroyed||Qt(this,c,Object.freeze({streamTypes:Object.freeze(g.streamTypes),fontTypes:Object.freeze(g.fontTypes)}))}),h.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),h.on("FetchBuiltInCMap",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(g):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),h.on("FetchStandardFontData",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(g):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:h}){var rt,g;this.destroyed||(g=(rt=this.loadingTask).onUnsupportedFeature)==null||g.call(rt,h)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(h){if(!Number.isInteger(h)||h<=0||h>this._numPages)return Promise.reject(new Error("Invalid page request."));const rt=h-1,g=At(this,f).get(rt);if(g)return g;const k=this.messageHandler.sendWithPromise("GetPage",{pageIndex:rt}).then(_=>{if(this.destroyed)throw new Error("Transport destroyed");const j=new PDFPageProxy(rt,_,this,this._params.ownerDocument,this._params.pdfBug);return At(this,d).set(rt,j),j});return At(this,f).set(rt,k),k}getPageIndex(h){return typeof h!="object"||h===null||!Number.isInteger(h.num)||h.num<0||!Number.isInteger(h.gen)||h.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:h.num,gen:h.gen})}getAnnotations(h,rt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:h,intent:rt})}saveDocument(){var h;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((h=this._fullReader)==null?void 0:h.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(h){return typeof h!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:h})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(h){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:h})}getStructTree(h){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:h})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(h=>new _optional_content_config.OptionalContentConfig(h))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return At(this,st)||Qt(this,st,this.messageHandler.sendWithPromise("GetMetadata",null).then(h=>{var rt,g;return{info:h[0],metadata:h[1]?new _metadata.Metadata(h[1]):null,contentDispositionFilename:((rt=this._fullReader)==null?void 0:rt.filename)??null,contentLength:((g=this._fullReader)==null?void 0:g.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(h=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const rt of At(this,d).values())if(!rt.cleanup())throw new Error(`startCleanup: Page ${rt.pageNumber} is currently rendering.`);this.commonObjs.clear(),h||this.fontLoader.clear(),Qt(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const h=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:h.disableAutoFetch,enableXfa:h.enableXfa})}}c=new WeakMap,d=new WeakMap,f=new WeakMap,st=new WeakMap;class PDFObjects{constructor(){Kt(this,_e);Kt(this,nt,Object.create(null))}get(h,rt=null){if(rt){const k=Yt(this,_e,Gn).call(this,h);return k.capability.promise.then(()=>rt(k.data)),null}const g=At(this,nt)[h];if(!(g!=null&&g.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${h}.`);return g.data}has(h){const rt=At(this,nt)[h];return(rt==null?void 0:rt.capability.settled)||!1}resolve(h,rt=null){const g=Yt(this,_e,Gn).call(this,h);g.data=rt,g.capability.resolve()}clear(){Qt(this,nt,Object.create(null))}}nt=new WeakMap,_e=new WeakSet,Gn=function(h){const rt=At(this,nt)[h];return rt||(At(this,nt)[h]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(h){Kt(this,ft,null);Qt(this,ft,h),this.onContinue=null}get promise(){return At(this,ft).capability.promise}cancel(){At(this,ft).cancel()}get separateAnnots(){const{separateAnnots:h}=At(this,ft).operatorList;if(!h)return!1;const{annotationCanvasMap:rt}=At(this,ft);return h.form||h.canvas&&(rt==null?void 0:rt.size)>0}}ft=new WeakMap,exports$1.RenderTask=RenderTask;const at=class at{constructor({callback:h,params:rt,objs:g,commonObjs:k,annotationCanvasMap:_,operatorList:j,pageIndex:ut,canvasFactory:ct,useRequestAnimationFrame:b=!1,pdfBug:$=!1,pageColors:lt=null}){this.callback=h,this.params=rt,this.objs=g,this.commonObjs=k,this.annotationCanvasMap=_,this.operatorListIdx=null,this.operatorList=j,this._pageIndex=ut,this.canvasFactory=ct,this._pdfBug=$,this.pageColors=lt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=b===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=rt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:h=!1,optionalContentConfig:rt}){var ct;if(this.cancelled)return;if(this._canvas){if(At(at,it).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");At(at,it).add(this._canvas)}this._pdfBug&&((ct=globalThis.StepperManager)!=null&&ct.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:g,viewport:k,transform:_,imageLayer:j,background:ut}=this.params;this.gfx=new _canvas.CanvasGraphics(g,this.commonObjs,this.objs,this.canvasFactory,j,rt,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:_,viewport:k,transparency:h,background:ut}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(h=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&At(at,it).delete(this._canvas),this.callback(h||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&At(at,it).delete(this._canvas),this.callback())))}};it=new WeakMap,Kt(at,it,new WeakSet);let InternalRenderTask=at;const version="2.16.105";exports$1.version=version;const build="172ccdbe5";exports$1.build=build},(i,s,o)=>{var nt,dr,ht;Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=o(1),c=o(6),d=o(10);class f{constructor(){Kt(this,nt);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(it,at){const et=this._storage.get(it);return et===void 0?at:Object.assign(at,et)}getRawValue(it){return this._storage.get(it)}remove(it){if(this._storage.delete(it),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const at of this._storage.values())if(at instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(it,at){const et=this._storage.get(it);let h=!1;if(et!==void 0)for(const[rt,g]of Object.entries(at))et[rt]!==g&&(h=!0,et[rt]=g);else h=!0,this._storage.set(it,at);h&&Yt(this,nt,dr).call(this),at instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(at.constructor._type)}has(it){return this._storage.has(it)}getAll(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if(this._storage.size===0)return null;const it=new Map;for(const[at,et]of this._storage){const h=et instanceof c.AnnotationEditor?et.serialize():et;h&&it.set(at,h)}return it}static getHash(it){if(!it)return"";const at=new d.MurmurHash3_64;for(const[et,h]of it)at.update(`${et}:${JSON.stringify(h)}`);return at.hexdigest()}}nt=new WeakSet,dr=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=f;class st extends f{constructor(at){super();Kt(this,ht,null);Qt(this,ht,structuredClone(at.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return At(this,ht)}}ht=new WeakMap,s.PrintAnnotationStorage=st},(i,s,o)=>{var f,st,nt,_e,ht,ft;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=o(7),c=o(1);const it=class it{constructor(et){Kt(this,f,this.focusin.bind(this));Kt(this,st,this.focusout.bind(this));Kt(this,nt,!1);Kt(this,_e,!1);Kt(this,ht,!1);Kt(this,ft,it._zIndex++);this.constructor===it&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=et.parent,this.id=et.id,this.width=this.height=null,this.pageIndex=et.parent.pageIndex,this.name=et.name,this.div=null;const[h,rt]=this.parent.viewportBaseDimensions;this.x=et.x/h,this.y=et.y/rt,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=At(this,ft)}focusin(et){At(this,nt)?Qt(this,nt,!1):this.parent.setSelected(this)}focusout(et){if(!this.isAttachedToDOM)return;const h=et.relatedTarget;h!=null&&h.closest(`#${this.id}`)||(et.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(et){const h=this.parent.div.getBoundingClientRect();this.startX=et.clientX-h.x,this.startY=et.clientY-h.y,et.dataTransfer.setData("text/plain",this.id),et.dataTransfer.effectAllowed="move"}setAt(et,h,rt,g){const[k,_]=this.parent.viewportBaseDimensions;[rt,g]=this.screenToPageTranslation(rt,g),this.x=(et+rt)/k,this.y=(h+g)/_,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(et,h){const[rt,g]=this.parent.viewportBaseDimensions;[et,h]=this.screenToPageTranslation(et,h),this.x+=et/rt,this.y+=h/g,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(et,h){const{rotation:rt}=this.parent.viewport;switch(rt){case 90:return[h,-et];case 180:return[-et,-h];case 270:return[-h,et];default:return[et,h]}}setDims(et,h){const[rt,g]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*et/rt}%`,this.div.style.height=`${100*h/g}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",At(this,f)),this.div.addEventListener("focusout",At(this,st));const[et,h]=this.getInitialTranslation();return this.translate(et,h),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(et){const h=a.KeyboardManager.platform.isMac;if(et.button!==0||et.ctrlKey&&h){et.preventDefault();return}et.ctrlKey&&!h||et.shiftKey||et.metaKey&&h?this.parent.toggleSelected(this):this.parent.setSelected(this),Qt(this,nt,!0)}getRect(et,h){const[rt,g]=this.parent.viewportBaseDimensions,[k,_]=this.parent.pageDimensions,j=k*et/rt,ut=_*h/g,ct=this.x*k,b=this.y*_,$=this.width*k,lt=this.height*_;switch(this.rotation){case 0:return[ct+j,_-b-ut-lt,ct+j+$,_-b-ut];case 90:return[ct+ut,_-b+j,ct+ut+lt,_-b+j+$];case 180:return[ct-j-$,_-b+ut,ct-j,_-b+ut+lt];case 270:return[ct-ut-lt,_-b-j-$,ct-ut,_-b-j];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(et,h){const[rt,g,k,_]=et,j=k-rt,ut=_-g;switch(this.rotation){case 0:return[rt,h-_,j,ut];case 90:return[rt,h-g,ut,j];case 180:return[k,h-g,j,ut];case 270:return[k,h-_,ut,j];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Qt(this,ht,!0)}disableEditMode(){Qt(this,ht,!1)}isInEditMode(){return At(this,ht)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var et;(et=this.div)==null||et.addEventListener("focusin",At(this,f))}serialize(){(0,c.unreachable)("An editor must be serializable")}static deserialize(et,h){const rt=new this.prototype.constructor({parent:h,id:h.getNextId()});rt.rotation=et.rotation;const[g,k]=h.pageDimensions,[_,j,ut,ct]=rt.getRectInCurrentCoords(et.rect,k);return rt.x=_/g,rt.y=j/k,rt.width=ut/g,rt.height=ct/k,rt}remove(){this.div.removeEventListener("focusin",At(this,f)),this.div.removeEventListener("focusout",At(this,st)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var et;(et=this.div)==null||et.classList.add("selectedEditor")}unselect(){var et;(et=this.div)==null||et.classList.remove("selectedEditor")}updateParams(et,h){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return At(this,_e)}set isEditing(et){Qt(this,_e,et),et?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};f=new WeakMap,st=new WeakMap,nt=new WeakMap,_e=new WeakMap,ht=new WeakMap,ft=new WeakMap,pn(it,"_colorManager",new a.ColorManager),pn(it,"_zIndex",1);let d=it;s.AnnotationEditor=d},(i,s,o)=>{var at,et,h,rt,g,k,hr,ut,b,$,lt,vt,Et,Mt,Ot,Dt,Wt,Nt,Lt,Rt,It,zt,Vt,wt,dt,ot,fr,qn,vn,Fn,pr,gr,Yn,Dn,On;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=d,s.opacityToHex=f;var a=o(1),c=o(8);function d(St,gt,xt){for(const $t of xt)gt.addEventListener($t,St[$t].bind(St))}function f(St){return Math.round(Math.min(255,Math.max(1,255*St))).toString(16).padStart(2,"0")}class st{constructor(){Kt(this,at,0)}getId(){return`${a.AnnotationEditorPrefix}${Xn(this,at)._++}`}}at=new WeakMap;class nt{constructor(gt=128){Kt(this,et,[]);Kt(this,h,!1);Kt(this,rt);Kt(this,g,-1);Qt(this,rt,gt)}add({cmd:gt,undo:xt,mustExec:$t,type:Ft=NaN,overwriteIfSameType:Bt=!1,keepUndo:Ht=!1}){if($t&&gt(),At(this,h))return;const qt={cmd:gt,undo:xt,type:Ft};if(At(this,g)===-1){At(this,et).length>0&&(At(this,et).length=0),Qt(this,g,0),At(this,et).push(qt);return}if(Bt&&At(this,et)[At(this,g)].type===Ft){Ht&&(qt.undo=At(this,et)[At(this,g)].undo),At(this,et)[At(this,g)]=qt;return}const Zt=At(this,g)+1;Zt===At(this,rt)?At(this,et).splice(0,1):(Qt(this,g,Zt),Zt<At(this,et).length&&At(this,et).splice(Zt)),At(this,et).push(qt)}undo(){At(this,g)!==-1&&(Qt(this,h,!0),At(this,et)[At(this,g)].undo(),Qt(this,h,!1),Qt(this,g,At(this,g)-1))}redo(){At(this,g)<At(this,et).length-1&&(Qt(this,g,At(this,g)+1),Qt(this,h,!0),At(this,et)[At(this,g)].cmd(),Qt(this,h,!1))}hasSomethingToUndo(){return At(this,g)!==-1}hasSomethingToRedo(){return At(this,g)<At(this,et).length-1}destroy(){Qt(this,et,null)}}et=new WeakMap,h=new WeakMap,rt=new WeakMap,g=new WeakMap,s.CommandManager=nt;const j=class j{constructor(gt){Kt(this,k);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const xt=j.platform.isMac;for(const[$t,Ft]of gt)for(const Bt of $t){const Ht=Bt.startsWith("mac+");xt&&Ht?(this.callbacks.set(Bt.slice(4),Ft),this.allKeys.add(Bt.split("+").at(-1))):!xt&&!Ht&&(this.callbacks.set(Bt,Ft),this.allKeys.add(Bt.split("+").at(-1)))}}static get platform(){const gt=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:gt.includes("Win"),isMac:gt.includes("Mac")})}exec(gt,xt){if(!this.allKeys.has(xt.key))return;const $t=this.callbacks.get(Yt(this,k,hr).call(this,xt));$t&&($t.bind(gt)(),xt.stopPropagation(),xt.preventDefault())}};k=new WeakSet,hr=function(gt){gt.altKey&&this.buffer.push("alt"),gt.ctrlKey&&this.buffer.push("ctrl"),gt.metaKey&&this.buffer.push("meta"),gt.shiftKey&&this.buffer.push("shift"),this.buffer.push(gt.key);const xt=this.buffer.join("+");return this.buffer.length=0,xt};let _e=j;s.KeyboardManager=_e;class ht{constructor(){Kt(this,ut,null)}copy(gt){gt&&(Array.isArray(gt)?Qt(this,ut,gt.map(xt=>xt.serialize())):Qt(this,ut,[gt.serialize()]),Qt(this,ut,At(this,ut).filter(xt=>!!xt)),At(this,ut).length===0&&Qt(this,ut,null))}paste(){return At(this,ut)}isEmpty(){return At(this,ut)===null}destroy(){Qt(this,ut,null)}}ut=new WeakMap;const ct=class ct{get _colors(){const gt=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(gt),(0,a.shadow)(this,"_colors",gt)}convert(gt){const xt=(0,c.getRGB)(gt);if(!window.matchMedia("(forced-colors: active)").matches)return xt;for(const[$t,Ft]of this._colors)if(Ft.every((Bt,Ht)=>Bt===xt[Ht]))return ct._colorsMapping.get($t);return xt}getHexCode(gt){const xt=this._colors.get(gt);return xt?a.Util.makeHexColor(...xt):gt}};pn(ct,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ft=ct;s.ColorManager=ft;const kt=class kt{constructor(gt,xt){Kt(this,ot);Kt(this,b,null);Kt(this,$,new Map);Kt(this,lt,new Map);Kt(this,vt,new ht);Kt(this,Et,new nt);Kt(this,Mt,0);Kt(this,Ot,null);Kt(this,Dt,null);Kt(this,Wt,new st);Kt(this,Nt,!1);Kt(this,Lt,a.AnnotationEditorType.NONE);Kt(this,Rt,new Set);Kt(this,It,this.keydown.bind(this));Kt(this,zt,this.onEditingAction.bind(this));Kt(this,Vt,this.onPageChanging.bind(this));Kt(this,wt,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Kt(this,dt,null);Qt(this,dt,gt),Qt(this,Dt,xt),At(this,Dt)._on("editingaction",At(this,zt)),At(this,Dt)._on("pagechanging",At(this,Vt))}destroy(){Yt(this,ot,qn).call(this),At(this,Dt)._off("editingaction",At(this,zt)),At(this,Dt)._off("pagechanging",At(this,Vt));for(const gt of At(this,lt).values())gt.destroy();At(this,lt).clear(),At(this,$).clear(),Qt(this,b,null),At(this,Rt).clear(),At(this,vt).destroy(),At(this,Et).destroy()}onPageChanging({pageNumber:gt}){Qt(this,Mt,gt-1)}focusMainContainer(){At(this,dt).focus()}keydown(gt){var xt;(xt=this.getActive())!=null&&xt.shouldGetKeyboardEvents()||kt._keyboardManager.exec(this,gt)}onEditingAction(gt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(gt.name)&&this[gt.name]()}setEditingState(gt){gt?(Yt(this,ot,fr).call(this),Yt(this,ot,vn).call(this,{isEditing:At(this,Lt)!==a.AnnotationEditorType.NONE,isEmpty:Yt(this,ot,Dn).call(this),hasSomethingToUndo:At(this,Et).hasSomethingToUndo(),hasSomethingToRedo:At(this,Et).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:At(this,vt).isEmpty()})):(Yt(this,ot,qn).call(this),Yt(this,ot,vn).call(this,{isEditing:!1}))}registerEditorTypes(gt){Qt(this,Ot,gt);for(const xt of At(this,Ot))Yt(this,ot,Fn).call(this,xt.defaultPropertiesToUpdate)}getId(){return At(this,Wt).getId()}addLayer(gt){At(this,lt).set(gt.pageIndex,gt),At(this,Nt)?gt.enable():gt.disable()}removeLayer(gt){At(this,lt).delete(gt.pageIndex)}updateMode(gt){if(Qt(this,Lt,gt),gt===a.AnnotationEditorType.NONE)this.setEditingState(!1),Yt(this,ot,gr).call(this);else{this.setEditingState(!0),Yt(this,ot,pr).call(this);for(const xt of At(this,lt).values())xt.updateMode(gt)}}updateToolbar(gt){gt!==At(this,Lt)&&At(this,Dt).dispatch("switchannotationeditormode",{source:this,mode:gt})}updateParams(gt,xt){for(const $t of At(this,Rt))$t.updateParams(gt,xt);for(const $t of At(this,Ot))$t.updateDefaultParams(gt,xt)}getEditors(gt){const xt=[];for(const $t of At(this,$).values())$t.pageIndex===gt&&xt.push($t);return xt}getEditor(gt){return At(this,$).get(gt)}addEditor(gt){At(this,$).set(gt.id,gt)}removeEditor(gt){At(this,$).delete(gt.id),this.unselect(gt)}setActiveEditor(gt){At(this,b)!==gt&&(Qt(this,b,gt),gt&&Yt(this,ot,Fn).call(this,gt.propertiesToUpdate))}toggleSelected(gt){if(At(this,Rt).has(gt)){At(this,Rt).delete(gt),gt.unselect(),Yt(this,ot,vn).call(this,{hasSelectedEditor:this.hasSelection});return}At(this,Rt).add(gt),gt.select(),Yt(this,ot,Fn).call(this,gt.propertiesToUpdate),Yt(this,ot,vn).call(this,{hasSelectedEditor:!0})}setSelected(gt){for(const xt of At(this,Rt))xt!==gt&&xt.unselect();At(this,Rt).clear(),At(this,Rt).add(gt),gt.select(),Yt(this,ot,Fn).call(this,gt.propertiesToUpdate),Yt(this,ot,vn).call(this,{hasSelectedEditor:!0})}isSelected(gt){return At(this,Rt).has(gt)}unselect(gt){gt.unselect(),At(this,Rt).delete(gt),Yt(this,ot,vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return At(this,Rt).size!==0}undo(){At(this,Et).undo(),Yt(this,ot,vn).call(this,{hasSomethingToUndo:At(this,Et).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Yt(this,ot,Dn).call(this)})}redo(){At(this,Et).redo(),Yt(this,ot,vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:At(this,Et).hasSomethingToRedo(),isEmpty:Yt(this,ot,Dn).call(this)})}addCommands(gt){At(this,Et).add(gt),Yt(this,ot,vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Yt(this,ot,Dn).call(this)})}delete(){if(At(this,b)&&At(this,b).commitOrRemove(),!this.hasSelection)return;const gt=[...At(this,Rt)],xt=()=>{for(const Ft of gt)Ft.remove()},$t=()=>{for(const Ft of gt)Yt(this,ot,Yn).call(this,Ft)};this.addCommands({cmd:xt,undo:$t,mustExec:!0})}copy(){if(At(this,b)&&At(this,b).commitOrRemove(),this.hasSelection){const gt=[];for(const xt of At(this,Rt))xt.isEmpty()||gt.push(xt);if(gt.length===0)return;At(this,vt).copy(gt),Yt(this,ot,vn).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(At(this,vt).isEmpty())return;this.unselectAll();const gt=At(this,lt).get(At(this,Mt)),xt=At(this,vt).paste().map(Bt=>gt.deserialize(Bt)),$t=()=>{for(const Bt of xt)Yt(this,ot,Yn).call(this,Bt);Yt(this,ot,On).call(this,xt)},Ft=()=>{for(const Bt of xt)Bt.remove()};this.addCommands({cmd:$t,undo:Ft,mustExec:!0})}selectAll(){for(const gt of At(this,Rt))gt.commit();Yt(this,ot,On).call(this,At(this,$).values())}unselectAll(){if(At(this,b)){At(this,b).commitOrRemove();return}if(Yt(this,ot,On).size!==0){for(const gt of At(this,Rt))gt.unselect();At(this,Rt).clear(),Yt(this,ot,vn).call(this,{hasSelectedEditor:!1})}}isActive(gt){return At(this,b)===gt}getActive(){return At(this,b)}getMode(){return At(this,Lt)}};b=new WeakMap,$=new WeakMap,lt=new WeakMap,vt=new WeakMap,Et=new WeakMap,Mt=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Wt=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,It=new WeakMap,zt=new WeakMap,Vt=new WeakMap,wt=new WeakMap,dt=new WeakMap,ot=new WeakSet,fr=function(){At(this,dt).addEventListener("keydown",At(this,It))},qn=function(){At(this,dt).removeEventListener("keydown",At(this,It))},vn=function(gt){Object.entries(gt).some(([$t,Ft])=>At(this,wt)[$t]!==Ft)&&At(this,Dt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(At(this,wt),gt)})},Fn=function(gt){At(this,Dt).dispatch("annotationeditorparamschanged",{source:this,details:gt})},pr=function(){if(!At(this,Nt)){Qt(this,Nt,!0);for(const gt of At(this,lt).values())gt.enable()}},gr=function(){if(this.unselectAll(),At(this,Nt)){Qt(this,Nt,!1);for(const gt of At(this,lt).values())gt.disable()}},Yn=function(gt){const xt=At(this,lt).get(gt.pageIndex);xt?xt.addOrRebuild(gt):this.addEditor(gt)},Dn=function(){if(At(this,$).size===0)return!0;if(At(this,$).size===1)for(const gt of At(this,$).values())return gt.isEmpty();return!1},On=function(gt){At(this,Rt).clear();for(const xt of gt)xt.isEmpty()||(At(this,Rt).add(xt),xt.select());Yt(this,ot,vn).call(this,{hasSelectedEditor:!0})},pn(kt,"_keyboardManager",new _e([[["ctrl+a","mac+meta+a"],kt.prototype.selectAll],[["ctrl+c","mac+meta+c"],kt.prototype.copy],[["ctrl+v","mac+meta+v"],kt.prototype.paste],[["ctrl+x","mac+meta+x"],kt.prototype.cut],[["ctrl+z","mac+meta+z"],kt.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],kt.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],kt.prototype.delete],[["Escape","mac+Escape"],kt.prototype.unselectAll]]));let it=kt;s.AnnotationEditorUIManager=it},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=ct,s.getColorValues=Et,s.getCurrentTransform=Mt,s.getCurrentTransformInverse=Ot,s.getFilenameFromUrl=g,s.getPdfFilenameFromUrl=k,s.getRGB=vt,s.getXfaPageViewport=lt,s.isDataScheme=h,s.isPdfFile=rt,s.isValidFetchUrl=j,s.loadScript=ut;var a=o(9),c=o(1);const d="http://www.w3.org/2000/svg",f="pdfjs_internal_id_";s.AnnotationPrefix=f;const Dt=class Dt{};pn(Dt,"CSS",96),pn(Dt,"PDF",72),pn(Dt,"PDF_TO_CSS_UNITS",Dt.CSS/Dt.PDF);let st=Dt;s.PixelsPerInch=st;class nt extends a.BaseCanvasFactory{constructor({ownerDocument:Nt=globalThis.document}={}){super(),this._document=Nt}_createCanvas(Nt,Lt){const Rt=this._document.createElement("canvas");return Rt.width=Nt,Rt.height=Lt,Rt}}s.DOMCanvasFactory=nt;async function _e(Wt,Nt=!1){if(j(Wt,document.baseURI)){const Lt=await fetch(Wt);if(!Lt.ok)throw new Error(Lt.statusText);return Nt?new Uint8Array(await Lt.arrayBuffer()):(0,c.stringToBytes)(await Lt.text())}return new Promise((Lt,Rt)=>{const It=new XMLHttpRequest;It.open("GET",Wt,!0),Nt&&(It.responseType="arraybuffer"),It.onreadystatechange=()=>{if(It.readyState===XMLHttpRequest.DONE){if(It.status===200||It.status===0){let zt;if(Nt&&It.response?zt=new Uint8Array(It.response):!Nt&&It.responseText&&(zt=(0,c.stringToBytes)(It.responseText)),zt){Lt(zt);return}}Rt(new Error(It.statusText))}},It.send(null)})}class ht extends a.BaseCMapReaderFactory{_fetchData(Nt,Lt){return _e(Nt,this.isCompressed).then(Rt=>({cMapData:Rt,compressionType:Lt}))}}s.DOMCMapReaderFactory=ht;class ft extends a.BaseStandardFontDataFactory{_fetchData(Nt){return _e(Nt,!0)}}s.DOMStandardFontDataFactory=ft;class it extends a.BaseSVGFactory{_createSVG(Nt){return document.createElementNS(d,Nt)}}s.DOMSVGFactory=it;class at{constructor({viewBox:Nt,scale:Lt,rotation:Rt,offsetX:It=0,offsetY:zt=0,dontFlip:Vt=!1}){this.viewBox=Nt,this.scale=Lt,this.rotation=Rt,this.offsetX=It,this.offsetY=zt;const wt=(Nt[2]+Nt[0])/2,dt=(Nt[3]+Nt[1])/2;let ot,bt,Pt,Tt;switch(Rt%=360,Rt<0&&(Rt+=360),Rt){case 180:ot=-1,bt=0,Pt=0,Tt=1;break;case 90:ot=0,bt=1,Pt=1,Tt=0;break;case 270:ot=0,bt=-1,Pt=-1,Tt=0;break;case 0:ot=1,bt=0,Pt=0,Tt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Vt&&(Pt=-Pt,Tt=-Tt);let Ct,tt,pt,yt;ot===0?(Ct=Math.abs(dt-Nt[1])*Lt+It,tt=Math.abs(wt-Nt[0])*Lt+zt,pt=Math.abs(Nt[3]-Nt[1])*Lt,yt=Math.abs(Nt[2]-Nt[0])*Lt):(Ct=Math.abs(wt-Nt[0])*Lt+It,tt=Math.abs(dt-Nt[1])*Lt+zt,pt=Math.abs(Nt[2]-Nt[0])*Lt,yt=Math.abs(Nt[3]-Nt[1])*Lt),this.transform=[ot*Lt,bt*Lt,Pt*Lt,Tt*Lt,Ct-ot*Lt*wt-Pt*Lt*dt,tt-bt*Lt*wt-Tt*Lt*dt],this.width=pt,this.height=yt}clone({scale:Nt=this.scale,rotation:Lt=this.rotation,offsetX:Rt=this.offsetX,offsetY:It=this.offsetY,dontFlip:zt=!1}={}){return new at({viewBox:this.viewBox.slice(),scale:Nt,rotation:Lt,offsetX:Rt,offsetY:It,dontFlip:zt})}convertToViewportPoint(Nt,Lt){return c.Util.applyTransform([Nt,Lt],this.transform)}convertToViewportRectangle(Nt){const Lt=c.Util.applyTransform([Nt[0],Nt[1]],this.transform),Rt=c.Util.applyTransform([Nt[2],Nt[3]],this.transform);return[Lt[0],Lt[1],Rt[0],Rt[1]]}convertToPdfPoint(Nt,Lt){return c.Util.applyInverseTransform([Nt,Lt],this.transform)}}s.PageViewport=at;class et extends c.BaseException{constructor(Nt,Lt){super(Nt,"RenderingCancelledException"),this.type=Lt}}s.RenderingCancelledException=et;function h(Wt){const Nt=Wt.length;let Lt=0;for(;Lt<Nt&&Wt[Lt].trim()==="";)Lt++;return Wt.substring(Lt,Lt+5).toLowerCase()==="data:"}function rt(Wt){return typeof Wt=="string"&&/\.pdf$/i.test(Wt)}function g(Wt){const Nt=Wt.indexOf("#"),Lt=Wt.indexOf("?"),Rt=Math.min(Nt>0?Nt:Wt.length,Lt>0?Lt:Wt.length);return Wt.substring(Wt.lastIndexOf("/",Rt)+1,Rt)}function k(Wt,Nt="document.pdf"){if(typeof Wt!="string")return Nt;if(h(Wt))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Nt;const Lt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Rt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,It=Lt.exec(Wt);let zt=Rt.exec(It[1])||Rt.exec(It[2])||Rt.exec(It[3]);if(zt&&(zt=zt[0],zt.includes("%")))try{zt=Rt.exec(decodeURIComponent(zt))[0]}catch{}return zt||Nt}class _{constructor(){this.started=Object.create(null),this.times=[]}time(Nt){Nt in this.started&&(0,c.warn)(`Timer is already running for ${Nt}`),this.started[Nt]=Date.now()}timeEnd(Nt){Nt in this.started||(0,c.warn)(`Timer has not been started for ${Nt}`),this.times.push({name:Nt,start:this.started[Nt],end:Date.now()}),delete this.started[Nt]}toString(){const Nt=[];let Lt=0;for(const Rt of this.times){const It=Rt.name;It.length>Lt&&(Lt=It.length)}for(const Rt of this.times){const It=Rt.end-Rt.start;Nt.push(`${Rt.name.padEnd(Lt)} ${It}ms
`)}return Nt.join("")}}s.StatTimer=_;function j(Wt,Nt){try{const{protocol:Lt}=Nt?new URL(Wt,Nt):new URL(Wt);return Lt==="http:"||Lt==="https:"}catch{return!1}}function ut(Wt,Nt=!1){return new Promise((Lt,Rt)=>{const It=document.createElement("script");It.src=Wt,It.onload=function(zt){Nt&&It.remove(),Lt(zt)},It.onerror=function(){Rt(new Error(`Cannot load script at: ${It.src}`))},(document.head||document.documentElement).append(It)})}function ct(Wt){console.log("Deprecated API usage: "+Wt)}let b;class ${static toDateObject(Nt){if(!Nt||typeof Nt!="string")return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Lt=b.exec(Nt);if(!Lt)return null;const Rt=parseInt(Lt[1],10);let It=parseInt(Lt[2],10);It=It>=1&&It<=12?It-1:0;let zt=parseInt(Lt[3],10);zt=zt>=1&&zt<=31?zt:1;let Vt=parseInt(Lt[4],10);Vt=Vt>=0&&Vt<=23?Vt:0;let wt=parseInt(Lt[5],10);wt=wt>=0&&wt<=59?wt:0;let dt=parseInt(Lt[6],10);dt=dt>=0&&dt<=59?dt:0;const ot=Lt[7]||"Z";let bt=parseInt(Lt[8],10);bt=bt>=0&&bt<=23?bt:0;let Pt=parseInt(Lt[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,ot==="-"?(Vt+=bt,wt+=Pt):ot==="+"&&(Vt-=bt,wt-=Pt),new Date(Date.UTC(Rt,It,zt,Vt,wt,dt))}}s.PDFDateString=$;function lt(Wt,{scale:Nt=1,rotation:Lt=0}){const{width:Rt,height:It}=Wt.attributes.style,zt=[0,0,parseInt(Rt),parseInt(It)];return new at({viewBox:zt,scale:Nt,rotation:Lt})}function vt(Wt){if(Wt.startsWith("#")){const Nt=parseInt(Wt.slice(1),16);return[(Nt&16711680)>>16,(Nt&65280)>>8,Nt&255]}return Wt.startsWith("rgb(")?Wt.slice(4,-1).split(",").map(Nt=>parseInt(Nt)):Wt.startsWith("rgba(")?Wt.slice(5,-1).split(",").map(Nt=>parseInt(Nt)).slice(0,3):((0,c.warn)(`Not a valid color format: "${Wt}"`),[0,0,0])}function Et(Wt){const Nt=document.createElement("span");Nt.style.visibility="hidden",document.body.append(Nt);for(const Lt of Wt.keys()){Nt.style.color=Lt;const Rt=window.getComputedStyle(Nt).color;Wt.set(Lt,vt(Rt))}Nt.remove()}function Mt(Wt){const{a:Nt,b:Lt,c:Rt,d:It,e:zt,f:Vt}=Wt.getTransform();return[Nt,Lt,Rt,It,zt,Vt]}function Ot(Wt){const{a:Nt,b:Lt,c:Rt,d:It,e:zt,f:Vt}=Wt.getTransform().invertSelf();return[Nt,Lt,Rt,It,zt,Vt]}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=o(1);class c{constructor(){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_e,ht){if(_e<=0||ht<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(_e,ht);return{canvas:ft,context:ft.getContext("2d")}}reset(_e,ht,ft){if(!_e.canvas)throw new Error("Canvas is not specified");if(ht<=0||ft<=0)throw new Error("Invalid canvas size");_e.canvas.width=ht,_e.canvas.height=ft}destroy(_e){if(!_e.canvas)throw new Error("Canvas is not specified");_e.canvas.width=0,_e.canvas.height=0,_e.canvas=null,_e.context=null}_createCanvas(_e,ht){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:_e=null,isCompressed:ht=!1}){this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_e,this.isCompressed=ht}async fetch({name:_e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_e)throw new Error("CMap name must be specified.");const ht=this.baseUrl+_e+(this.isCompressed?".bcmap":""),ft=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(ht,ft).catch(it=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData(_e,ht){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class f{constructor({baseUrl:_e=null}){this.constructor===f&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_e}async fetch({filename:_e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_e)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${_e}`;return this._fetchData(ht).catch(ft=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData(_e){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=f;class st{constructor(){this.constructor===st&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(_e,ht,ft=!1){if(_e<=0||ht<=0)throw new Error("Invalid SVG dimensions");const it=this._createSVG("svg:svg");return it.setAttribute("version","1.1"),ft||(it.setAttribute("width",`${_e}px`),it.setAttribute("height",`${ht}px`)),it.setAttribute("preserveAspectRatio","none"),it.setAttribute("viewBox",`0 0 ${_e} ${ht}`),it}createElement(_e){if(typeof _e!="string")throw new Error("Invalid SVG element type");return this._createSVG(_e)}_createSVG(_e){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=st},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=o(1);const c=3285377520,d=4294901760,f=65535;class st{constructor(_e){this.h1=_e?_e&4294967295:c,this.h2=_e?_e&4294967295:c}update(_e){let ht,ft;if(typeof _e=="string"){ht=new Uint8Array(_e.length*2),ft=0;for(let b=0,$=_e.length;b<$;b++){const lt=_e.charCodeAt(b);lt<=255?ht[ft++]=lt:(ht[ft++]=lt>>>8,ht[ft++]=lt&255)}}else if((0,a.isArrayBuffer)(_e))ht=_e.slice(),ft=ht.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const it=ft>>2,at=ft-it*4,et=new Uint32Array(ht.buffer,0,it);let h=0,rt=0,g=this.h1,k=this.h2;const _=3432918353,j=461845907,ut=_&f,ct=j&f;for(let b=0;b<it;b++)b&1?(h=et[b],h=h*_&d|h*ut&f,h=h<<15|h>>>17,h=h*j&d|h*ct&f,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(rt=et[b],rt=rt*_&d|rt*ut&f,rt=rt<<15|rt>>>17,rt=rt*j&d|rt*ct&f,k^=rt,k=k<<13|k>>>19,k=k*5+3864292196);switch(h=0,at){case 3:h^=ht[it*4+2]<<16;case 2:h^=ht[it*4+1]<<8;case 1:h^=ht[it*4],h=h*_&d|h*ut&f,h=h<<15|h>>>17,h=h*j&d|h*ct&f,it&1?g^=h:k^=h}this.h1=g,this.h2=k}hexdigest(){let _e=this.h1,ht=this.h2;_e^=ht>>>1,_e=_e*3981806797&d|_e*36045&f,ht=ht*4283543511&d|((ht<<16|_e>>>16)*2950163797&d)>>>16,_e^=ht>>>1,_e=_e*444984403&d|_e*60499&f,ht=ht*3301882366&d|((ht<<16|_e>>>16)*3120437893&d)>>>16,_e^=ht>>>1;const ft=(_e>>>0).toString(16),it=(ht>>>0).toString(16);return ft.padStart(8,"0")+it.padStart(8,"0")}}s.MurmurHash3_64=st},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=o(1);class c{constructor({docId:nt,onUnsupportedFeature:_e,ownerDocument:ht=globalThis.document,styleElement:ft=null}){this.constructor===c&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=nt,this._onUnsupportedFeature=_e,this._document=ht,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(nt){this.nativeFontFaces.push(nt),this._document.fonts.add(nt)}insertRule(nt){let _e=this.styleElement;_e||(_e=this.styleElement=this._document.createElement("style"),_e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(_e));const ht=_e.sheet;ht.insertRule(nt,ht.cssRules.length)}clear(){for(const nt of this.nativeFontFaces)this._document.fonts.delete(nt);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(nt){if(nt.attached||nt.missingFile)return;if(nt.attached=!0,this.isFontLoadingAPISupported){const ht=nt.createNativeFontFace();if(ht){this.addNativeFontFace(ht);try{await ht.loaded}catch(ft){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${ht.family}': '${ft}'.`),nt.disableFontFace=!0,ft}}return}const _e=nt.createFontFaceRule();if(_e){if(this.insertRule(_e),this.isSyncFontLoadingSupported)return;await new Promise(ht=>{const ft=this._queueLoadingCallback(ht);this._prepareFontLoadEvent([_e],[nt],ft)})}}_queueLoadingCallback(nt){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var _e;const nt=!!((_e=this._document)!=null&&_e.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",nt)}get isSyncFontLoadingSupported(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(nt,_e,ht){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let d;s.FontLoader=d,s.FontLoader=d=class extends c{constructor(nt){super(nt),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let nt=!1;if(typeof navigator>"u")nt=!0;else{const _e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(_e==null?void 0:_e[1])>=14&&(nt=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",nt)}_queueLoadingCallback(nt){function _e(){for((0,a.assert)(!ft.done,"completeRequest() cannot be called twice."),ft.done=!0;ht.requests.length>0&&ht.requests[0].done;){const it=ht.requests.shift();setTimeout(it.callback,0)}}const ht=this.loadingContext,ft={id:`pdfjs-font-loading-${ht.nextRequestId++}`,done:!1,complete:_e,callback:nt};return ht.requests.push(ft),ft}get _loadTestFont(){const nt=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",nt())}_prepareFontLoadEvent(nt,_e,ht){function ft(Ot,Dt){return Ot.charCodeAt(Dt)<<24|Ot.charCodeAt(Dt+1)<<16|Ot.charCodeAt(Dt+2)<<8|Ot.charCodeAt(Dt+3)&255}function it(Ot,Dt,Wt,Nt){const Lt=Ot.substring(0,Dt),Rt=Ot.substring(Dt+Wt);return Lt+Nt+Rt}let at,et;const h=this._document.createElement("canvas");h.width=1,h.height=1;const rt=h.getContext("2d");let g=0;function k(Ot,Dt){if(g++,g>30){(0,a.warn)("Load test font never loaded."),Dt();return}if(rt.font="30px "+Ot,rt.fillText(".",0,20),rt.getImageData(0,0,1,1).data[3]>0){Dt();return}setTimeout(k.bind(null,Ot,Dt))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let j=this._loadTestFont;j=it(j,976,_.length,_);const ct=16,b=1482184792;let $=ft(j,ct);for(at=0,et=_.length-3;at<et;at+=4)$=$-b+ft(_,at)|0;at<_.length&&($=$-b+ft(_+"XXX",at)|0),j=it(j,ct,4,(0,a.string32)($));const lt=`url(data:font/opentype;base64,${btoa(j)});`,vt=`@font-face {font-family:"${_}";src:${lt}}`;this.insertRule(vt);const Et=[];for(const Ot of _e)Et.push(Ot.loadedName);Et.push(_);const Mt=this._document.createElement("div");Mt.style.visibility="hidden",Mt.style.width=Mt.style.height="10px",Mt.style.position="absolute",Mt.style.top=Mt.style.left="0px";for(const Ot of Et){const Dt=this._document.createElement("span");Dt.textContent="Hi",Dt.style.fontFamily=Ot,Mt.append(Dt)}this._document.body.append(Mt),k(_,()=>{Mt.remove(),ht.complete()})}};class f{constructor(nt,{isEvalSupported:_e=!0,disableFontFace:ht=!1,ignoreErrors:ft=!1,onUnsupportedFeature:it,fontRegistry:at=null}){this.compiledGlyphs=Object.create(null);for(const et in nt)this[et]=nt[et];this.isEvalSupported=_e!==!1,this.disableFontFace=ht===!0,this.ignoreErrors=ft===!0,this._onUnsupportedFeature=it,this.fontRegistry=at}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let nt;if(!this.cssFontInfo)nt=new FontFace(this.loadedName,this.data,{});else{const _e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),nt=new FontFace(this.cssFontInfo.fontFamily,this.data,_e)}return this.fontRegistry&&this.fontRegistry.registerFont(this),nt}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const nt=(0,a.bytesToString)(this.data),_e=`url(data:${this.mimetype};base64,${btoa(nt)});`;let ht;if(!this.cssFontInfo)ht=`@font-face {font-family:"${this.loadedName}";src:${_e}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ht=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${_e}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,_e),ht}getPathGenerator(nt,_e){if(this.compiledGlyphs[_e]!==void 0)return this.compiledGlyphs[_e];let ht;try{ht=nt.get(this.loadedName+"_path_"+_e)}catch(ft){if(!this.ignoreErrors)throw ft;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${ft}".`),this.compiledGlyphs[_e]=function(it,at){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const ft=[];for(const it of ht){const at=it.args!==void 0?it.args.join(","):"";ft.push("c.",it.cmd,"(",at,`);
`)}return this.compiledGlyphs[_e]=new Function("c","size",ft.join(""))}return this.compiledGlyphs[_e]=function(ft,it){for(const at of ht)at.cmd==="scale"&&(at.args=[it,-it]),ft[at.cmd].apply(ft,at.args)}}}s.FontFaceObject=f},(i,s,o)=>{var It,Kn;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=o(8),c=o(1),d=o(13),f=o(14),st=o(3);const nt=16,_e=100,ht=4096,ft=15,it=10,at=st.isNodeJS&&typeof Path2D>"u"?-1:1e3,et=16;function h(wt,dt){if(wt._removeMirroring)throw new Error("Context is already forwarding operations.");wt.__originalSave=wt.save,wt.__originalRestore=wt.restore,wt.__originalRotate=wt.rotate,wt.__originalScale=wt.scale,wt.__originalTranslate=wt.translate,wt.__originalTransform=wt.transform,wt.__originalSetTransform=wt.setTransform,wt.__originalResetTransform=wt.resetTransform,wt.__originalClip=wt.clip,wt.__originalMoveTo=wt.moveTo,wt.__originalLineTo=wt.lineTo,wt.__originalBezierCurveTo=wt.bezierCurveTo,wt.__originalRect=wt.rect,wt.__originalClosePath=wt.closePath,wt.__originalBeginPath=wt.beginPath,wt._removeMirroring=()=>{wt.save=wt.__originalSave,wt.restore=wt.__originalRestore,wt.rotate=wt.__originalRotate,wt.scale=wt.__originalScale,wt.translate=wt.__originalTranslate,wt.transform=wt.__originalTransform,wt.setTransform=wt.__originalSetTransform,wt.resetTransform=wt.__originalResetTransform,wt.clip=wt.__originalClip,wt.moveTo=wt.__originalMoveTo,wt.lineTo=wt.__originalLineTo,wt.bezierCurveTo=wt.__originalBezierCurveTo,wt.rect=wt.__originalRect,wt.closePath=wt.__originalClosePath,wt.beginPath=wt.__originalBeginPath,delete wt._removeMirroring},wt.save=function(){dt.save(),this.__originalSave()},wt.restore=function(){dt.restore(),this.__originalRestore()},wt.translate=function(bt,Pt){dt.translate(bt,Pt),this.__originalTranslate(bt,Pt)},wt.scale=function(bt,Pt){dt.scale(bt,Pt),this.__originalScale(bt,Pt)},wt.transform=function(bt,Pt,Tt,Ct,tt,pt){dt.transform(bt,Pt,Tt,Ct,tt,pt),this.__originalTransform(bt,Pt,Tt,Ct,tt,pt)},wt.setTransform=function(bt,Pt,Tt,Ct,tt,pt){dt.setTransform(bt,Pt,Tt,Ct,tt,pt),this.__originalSetTransform(bt,Pt,Tt,Ct,tt,pt)},wt.resetTransform=function(){dt.resetTransform(),this.__originalResetTransform()},wt.rotate=function(bt){dt.rotate(bt),this.__originalRotate(bt)},wt.clip=function(bt){dt.clip(bt),this.__originalClip(bt)},wt.moveTo=function(ot,bt){dt.moveTo(ot,bt),this.__originalMoveTo(ot,bt)},wt.lineTo=function(ot,bt){dt.lineTo(ot,bt),this.__originalLineTo(ot,bt)},wt.bezierCurveTo=function(ot,bt,Pt,Tt,Ct,tt){dt.bezierCurveTo(ot,bt,Pt,Tt,Ct,tt),this.__originalBezierCurveTo(ot,bt,Pt,Tt,Ct,tt)},wt.rect=function(ot,bt,Pt,Tt){dt.rect(ot,bt,Pt,Tt),this.__originalRect(ot,bt,Pt,Tt)},wt.closePath=function(){dt.closePath(),this.__originalClosePath()},wt.beginPath=function(){dt.beginPath(),this.__originalBeginPath()}}class rt{constructor(dt){this.canvasFactory=dt,this.cache=Object.create(null)}getCanvas(dt,ot,bt){let Pt;return this.cache[dt]!==void 0?(Pt=this.cache[dt],this.canvasFactory.reset(Pt,ot,bt)):(Pt=this.canvasFactory.create(ot,bt),this.cache[dt]=Pt),Pt}delete(dt){delete this.cache[dt]}clear(){for(const dt in this.cache){const ot=this.cache[dt];this.canvasFactory.destroy(ot),delete this.cache[dt]}}}function g(wt,dt,ot,bt,Pt,Tt,Ct,tt,pt,yt){const[mt,_t,kt,St,gt,xt]=(0,a.getCurrentTransform)(wt);if(_t===0&&kt===0){const Bt=Ct*mt+gt,Ht=Math.round(Bt),qt=tt*St+xt,Zt=Math.round(qt),Xt=(Ct+pt)*mt+gt,rn=Math.abs(Math.round(Xt)-Ht)||1,tn=(tt+yt)*St+xt,en=Math.abs(Math.round(tn)-Zt)||1;return wt.setTransform(Math.sign(mt),0,0,Math.sign(St),Ht,Zt),wt.drawImage(dt,ot,bt,Pt,Tt,0,0,rn,en),wt.setTransform(mt,_t,kt,St,gt,xt),[rn,en]}if(mt===0&&St===0){const Bt=tt*kt+gt,Ht=Math.round(Bt),qt=Ct*_t+xt,Zt=Math.round(qt),Xt=(tt+yt)*kt+gt,rn=Math.abs(Math.round(Xt)-Ht)||1,tn=(Ct+pt)*_t+xt,en=Math.abs(Math.round(tn)-Zt)||1;return wt.setTransform(0,Math.sign(_t),Math.sign(kt),0,Ht,Zt),wt.drawImage(dt,ot,bt,Pt,Tt,0,0,en,rn),wt.setTransform(mt,_t,kt,St,gt,xt),[en,rn]}wt.drawImage(dt,ot,bt,Pt,Tt,Ct,tt,pt,yt);const $t=Math.hypot(mt,_t),Ft=Math.hypot(kt,St);return[$t*pt,Ft*yt]}function k(wt){const{width:dt,height:ot}=wt;if(dt>at||ot>at)return null;const bt=1e3,Pt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Tt=dt+1;let Ct=new Uint8Array(Tt*(ot+1)),tt,pt,yt;const mt=dt+7&-8;let _t=new Uint8Array(mt*ot),kt=0;for(const Ft of wt.data){let Bt=128;for(;Bt>0;)_t[kt++]=Ft&Bt?0:255,Bt>>=1}let St=0;for(kt=0,_t[kt]!==0&&(Ct[0]=1,++St),pt=1;pt<dt;pt++)_t[kt]!==_t[kt+1]&&(Ct[pt]=_t[kt]?2:1,++St),kt++;for(_t[kt]!==0&&(Ct[pt]=2,++St),tt=1;tt<ot;tt++){kt=tt*mt,yt=tt*Tt,_t[kt-mt]!==_t[kt]&&(Ct[yt]=_t[kt]?1:8,++St);let Ft=(_t[kt]?4:0)+(_t[kt-mt]?8:0);for(pt=1;pt<dt;pt++)Ft=(Ft>>2)+(_t[kt+1]?4:0)+(_t[kt-mt+1]?8:0),Pt[Ft]&&(Ct[yt+pt]=Pt[Ft],++St),kt++;if(_t[kt-mt]!==_t[kt]&&(Ct[yt+pt]=_t[kt]?2:4,++St),St>bt)return null}for(kt=mt*(ot-1),yt=tt*Tt,_t[kt]!==0&&(Ct[yt]=8,++St),pt=1;pt<dt;pt++)_t[kt]!==_t[kt+1]&&(Ct[yt+pt]=_t[kt]?4:8,++St),kt++;if(_t[kt]!==0&&(Ct[yt+pt]=4,++St),St>bt)return null;const gt=new Int32Array([0,Tt,-1,0,-Tt,0,0,0,1]),xt=new Path2D;for(tt=0;St&&tt<=ot;tt++){let Ft=tt*Tt;const Bt=Ft+dt;for(;Ft<Bt&&!Ct[Ft];)Ft++;if(Ft===Bt)continue;xt.moveTo(Ft%Tt,tt);const Ht=Ft;let qt=Ct[Ft];do{const Zt=gt[qt];do Ft+=Zt;while(!Ct[Ft]);const Xt=Ct[Ft];Xt!==5&&Xt!==10?(qt=Xt,Ct[Ft]=0):(qt=Xt&51*qt>>4,Ct[Ft]&=qt>>2|qt<<2),xt.lineTo(Ft%Tt,Ft/Tt|0),Ct[Ft]||--St}while(Ht!==Ft);--tt}return _t=null,Ct=null,function(Ft){Ft.save(),Ft.scale(1/dt,-1/ot),Ft.translate(0,-ot),Ft.fill(xt),Ft.beginPath(),Ft.restore()}}class _{constructor(dt,ot){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=c.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,dt,ot])}clone(){const dt=Object.create(this);return dt.clipBox=this.clipBox.slice(),dt}setCurrentPoint(dt,ot){this.x=dt,this.y=ot}updatePathMinMax(dt,ot,bt){[ot,bt]=c.Util.applyTransform([ot,bt],dt),this.minX=Math.min(this.minX,ot),this.minY=Math.min(this.minY,bt),this.maxX=Math.max(this.maxX,ot),this.maxY=Math.max(this.maxY,bt)}updateRectMinMax(dt,ot){const bt=c.Util.applyTransform(ot,dt),Pt=c.Util.applyTransform(ot.slice(2),dt);this.minX=Math.min(this.minX,bt[0],Pt[0]),this.minY=Math.min(this.minY,bt[1],Pt[1]),this.maxX=Math.max(this.maxX,bt[0],Pt[0]),this.maxY=Math.max(this.maxY,bt[1],Pt[1])}updateScalingPathMinMax(dt,ot){c.Util.scaleMinMax(dt,ot),this.minX=Math.min(this.minX,ot[0]),this.maxX=Math.max(this.maxX,ot[1]),this.minY=Math.min(this.minY,ot[2]),this.maxY=Math.max(this.maxY,ot[3])}updateCurvePathMinMax(dt,ot,bt,Pt,Tt,Ct,tt,pt,yt,mt){const _t=c.Util.bezierBoundingBox(ot,bt,Pt,Tt,Ct,tt,pt,yt);if(mt){mt[0]=Math.min(mt[0],_t[0],_t[2]),mt[1]=Math.max(mt[1],_t[0],_t[2]),mt[2]=Math.min(mt[2],_t[1],_t[3]),mt[3]=Math.max(mt[3],_t[1],_t[3]);return}this.updateRectMinMax(dt,_t)}getPathBoundingBox(dt=d.PathType.FILL,ot=null){const bt=[this.minX,this.minY,this.maxX,this.maxY];if(dt===d.PathType.STROKE){ot||(0,c.unreachable)("Stroke bounding box must include transform.");const Pt=c.Util.singularValueDecompose2dScale(ot),Tt=Pt[0]*this.lineWidth/2,Ct=Pt[1]*this.lineWidth/2;bt[0]-=Tt,bt[1]-=Ct,bt[2]+=Tt,bt[3]+=Ct}return bt}updateClipFromPath(){const dt=c.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(dt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(dt){this.clipBox=dt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(dt=d.PathType.FILL,ot=null){return c.Util.intersect(this.clipBox,this.getPathBoundingBox(dt,ot))}}function j(wt,dt,ot=null){if(typeof ImageData<"u"&&dt instanceof ImageData){wt.putImageData(dt,0,0);return}const bt=dt.height,Pt=dt.width,Tt=bt%et,Ct=(bt-Tt)/et,tt=Tt===0?Ct:Ct+1,pt=wt.createImageData(Pt,et);let yt=0,mt;const _t=dt.data,kt=pt.data;let St,gt,xt,$t,Ft,Bt,Ht,qt;if(ot)switch(ot.length){case 1:Ft=ot[0],Bt=ot[0],Ht=ot[0],qt=ot[0];break;case 4:Ft=ot[0],Bt=ot[1],Ht=ot[2],qt=ot[3];break}if(dt.kind===c.ImageKind.GRAYSCALE_1BPP){const Zt=_t.byteLength,Xt=new Uint32Array(kt.buffer,0,kt.byteLength>>2),rn=Xt.length,tn=Pt+7>>3;let en=4294967295,sn=c.FeatureTest.isLittleEndian?4278190080:255;for(qt&&qt[0]===255&&qt[255]===0&&([en,sn]=[sn,en]),St=0;St<tt;St++){for(xt=St<Ct?et:Tt,mt=0,gt=0;gt<xt;gt++){const on=Zt-yt;let hn=0;const an=on>tn?Pt:on*8-7,fn=an&-8;let cn=0,un=0;for(;hn<fn;hn+=8)un=_t[yt++],Xt[mt++]=un&128?en:sn,Xt[mt++]=un&64?en:sn,Xt[mt++]=un&32?en:sn,Xt[mt++]=un&16?en:sn,Xt[mt++]=un&8?en:sn,Xt[mt++]=un&4?en:sn,Xt[mt++]=un&2?en:sn,Xt[mt++]=un&1?en:sn;for(;hn<an;hn++)cn===0&&(un=_t[yt++],cn=128),Xt[mt++]=un&cn?en:sn,cn>>=1}for(;mt<rn;)Xt[mt++]=0;wt.putImageData(pt,0,St*et)}}else if(dt.kind===c.ImageKind.RGBA_32BPP){const Zt=!!(Ft||Bt||Ht);for(gt=0,$t=Pt*et*4,St=0;St<Ct;St++){if(kt.set(_t.subarray(yt,yt+$t)),yt+=$t,Zt)for(let Xt=0;Xt<$t;Xt+=4)Ft&&(kt[Xt+0]=Ft[kt[Xt+0]]),Bt&&(kt[Xt+1]=Bt[kt[Xt+1]]),Ht&&(kt[Xt+2]=Ht[kt[Xt+2]]);wt.putImageData(pt,0,gt),gt+=et}if(St<tt){if($t=Pt*Tt*4,kt.set(_t.subarray(yt,yt+$t)),Zt)for(let Xt=0;Xt<$t;Xt+=4)Ft&&(kt[Xt+0]=Ft[kt[Xt+0]]),Bt&&(kt[Xt+1]=Bt[kt[Xt+1]]),Ht&&(kt[Xt+2]=Ht[kt[Xt+2]]);wt.putImageData(pt,0,gt)}}else if(dt.kind===c.ImageKind.RGB_24BPP){const Zt=!!(Ft||Bt||Ht);for(xt=et,$t=Pt*xt,St=0;St<tt;St++){for(St>=Ct&&(xt=Tt,$t=Pt*xt),mt=0,gt=$t;gt--;)kt[mt++]=_t[yt++],kt[mt++]=_t[yt++],kt[mt++]=_t[yt++],kt[mt++]=255;if(Zt)for(let Xt=0;Xt<mt;Xt+=4)Ft&&(kt[Xt+0]=Ft[kt[Xt+0]]),Bt&&(kt[Xt+1]=Bt[kt[Xt+1]]),Ht&&(kt[Xt+2]=Ht[kt[Xt+2]]);wt.putImageData(pt,0,St*et)}}else throw new Error(`bad image kind: ${dt.kind}`)}function ut(wt,dt){if(dt.bitmap){wt.drawImage(dt.bitmap,0,0);return}const ot=dt.height,bt=dt.width,Pt=ot%et,Tt=(ot-Pt)/et,Ct=Pt===0?Tt:Tt+1,tt=wt.createImageData(bt,et);let pt=0;const yt=dt.data,mt=tt.data;for(let _t=0;_t<Ct;_t++){const kt=_t<Tt?et:Pt;({srcPos:pt}=(0,f.applyMaskImageData)({src:yt,srcPos:pt,dest:mt,width:bt,height:kt})),wt.putImageData(tt,0,_t*et)}}function ct(wt,dt){const ot=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let bt=0,Pt=ot.length;bt<Pt;bt++){const Tt=ot[bt];wt[Tt]!==void 0&&(dt[Tt]=wt[Tt])}wt.setLineDash!==void 0&&(dt.setLineDash(wt.getLineDash()),dt.lineDashOffset=wt.lineDashOffset)}function b(wt,dt){wt.strokeStyle=wt.fillStyle=dt||"#000000",wt.fillRule="nonzero",wt.globalAlpha=1,wt.lineWidth=1,wt.lineCap="butt",wt.lineJoin="miter",wt.miterLimit=10,wt.globalCompositeOperation="source-over",wt.font="10px sans-serif",wt.setLineDash!==void 0&&(wt.setLineDash([]),wt.lineDashOffset=0)}function $(wt,dt,ot,bt){const Pt=wt.length;for(let Tt=3;Tt<Pt;Tt+=4){const Ct=wt[Tt];if(Ct===0)wt[Tt-3]=dt,wt[Tt-2]=ot,wt[Tt-1]=bt;else if(Ct<255){const tt=255-Ct;wt[Tt-3]=wt[Tt-3]*Ct+dt*tt>>8,wt[Tt-2]=wt[Tt-2]*Ct+ot*tt>>8,wt[Tt-1]=wt[Tt-1]*Ct+bt*tt>>8}}}function lt(wt,dt,ot){const bt=wt.length,Pt=1/255;for(let Tt=3;Tt<bt;Tt+=4){const Ct=ot?ot[wt[Tt]]:wt[Tt];dt[Tt]=dt[Tt]*Ct*Pt|0}}function vt(wt,dt,ot){const bt=wt.length;for(let Pt=3;Pt<bt;Pt+=4){const Tt=wt[Pt-3]*77+wt[Pt-2]*152+wt[Pt-1]*28;dt[Pt]=ot?dt[Pt]*ot[Tt>>8]>>8:dt[Pt]*Tt>>16}}function Et(wt,dt,ot,bt,Pt,Tt,Ct,tt,pt,yt,mt){const _t=!!Tt,kt=_t?Tt[0]:0,St=_t?Tt[1]:0,gt=_t?Tt[2]:0;let xt;Pt==="Luminosity"?xt=vt:xt=lt;const Ft=Math.min(bt,Math.ceil(1048576/ot));for(let Bt=0;Bt<bt;Bt+=Ft){const Ht=Math.min(Ft,bt-Bt),qt=wt.getImageData(tt-yt,Bt+(pt-mt),ot,Ht),Zt=dt.getImageData(tt,Bt+pt,ot,Ht);_t&&$(qt.data,kt,St,gt),xt(qt.data,Zt.data,Ct),dt.putImageData(Zt,tt,Bt+pt)}}function Mt(wt,dt,ot,bt){const Pt=bt[0],Tt=bt[1],Ct=bt[2]-Pt,tt=bt[3]-Tt;Ct===0||tt===0||(Et(dt.context,ot,Ct,tt,dt.subtype,dt.backdrop,dt.transferMap,Pt,Tt,dt.offsetX,dt.offsetY),wt.save(),wt.globalAlpha=1,wt.globalCompositeOperation="source-over",wt.setTransform(1,0,0,1,0,0),wt.drawImage(ot.canvas,0,0),wt.restore())}function Ot(wt,dt){const ot=c.Util.singularValueDecompose2dScale(wt);ot[0]=Math.fround(ot[0]),ot[1]=Math.fround(ot[1]);const bt=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return dt!==void 0?dt:ot[0]<=bt||ot[1]<=bt}const Dt=["butt","round","square"],Wt=["miter","round","bevel"],Nt={},Lt={},Vt=class Vt{constructor(dt,ot,bt,Pt,Tt,Ct,tt,pt){Kt(this,It);this.ctx=dt,this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ot,this.objs=bt,this.canvasFactory=Pt,this.imageLayer=Tt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Ct,this.cachedCanvases=new rt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=tt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(pt==null?void 0:pt.background)||null,this.foregroundColor=(pt==null?void 0:pt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(dt,ot=null){return typeof dt=="string"?dt.startsWith("g_")?this.commonObjs.get(dt):this.objs.get(dt):ot}beginDrawing({transform:dt,viewport:ot,transparency:bt=!1,background:Pt=null}){const Tt=this.ctx.canvas.width,Ct=this.ctx.canvas.height,tt=Pt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const pt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const yt=this.backgroundColor=this.ctx.fillStyle;let mt=!0,_t=tt;if(this.ctx.fillStyle=tt,_t=this.ctx.fillStyle,mt=typeof _t=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_t),pt==="#000000"&&yt==="#ffffff"||pt===yt||!mt)this.foregroundColor=this.backgroundColor=null;else{const[kt,St,gt]=(0,a.getRGB)(_t),xt=Ft=>(Ft/=255,Ft<=.03928?Ft/12.92:((Ft+.055)/1.055)**2.4),$t=Math.round(.2126*xt(kt)+.7152*xt(St)+.0722*xt(gt));this.selectColor=(Ft,Bt,Ht)=>{const qt=.2126*xt(Ft)+.7152*xt(Bt)+.0722*xt(Ht);return Math.round(qt)===$t?yt:pt}}}if(this.ctx.fillStyle=this.backgroundColor||tt,this.ctx.fillRect(0,0,Tt,Ct),this.ctx.restore(),bt){const pt=this.cachedCanvases.getCanvas("transparent",Tt,Ct);this.compositeCtx=this.ctx,this.transparentCanvas=pt.canvas,this.ctx=pt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),b(this.ctx,this.foregroundColor),dt&&(this.ctx.transform(...dt),this.outputScaleX=dt[0],this.outputScaleY=dt[0]),this.ctx.transform(...ot.transform),this.viewportScale=ot.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx),this.imageLayer&&((0,a.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(dt,ot,bt,Pt){const Tt=dt.argsArray,Ct=dt.fnArray;let tt=ot||0;const pt=Tt.length;if(pt===tt)return tt;const yt=pt-tt>it&&typeof bt=="function",mt=yt?Date.now()+ft:0;let _t=0;const kt=this.commonObjs,St=this.objs;let gt;for(;;){if(Pt!==void 0&&tt===Pt.nextBreakPoint)return Pt.breakIt(tt,bt),tt;if(gt=Ct[tt],gt!==c.OPS.dependency)this[gt].apply(this,Tt[tt]);else for(const xt of Tt[tt]){const $t=xt.startsWith("g_")?kt:St;if(!$t.has(xt))return $t.get(xt,bt),tt}if(tt++,tt===pt)return tt;if(yt&&++_t>it){if(Date.now()>mt)return bt(),tt;_t=0}}}endDrawing(){Yt(this,It,Kn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const dt of this._cachedBitmapsMap.values()){for(const ot of dt.values())typeof HTMLCanvasElement<"u"&&ot instanceof HTMLCanvasElement&&(ot.width=ot.height=0);dt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(dt,ot){const bt=dt.width,Pt=dt.height;let Tt=Math.max(Math.hypot(ot[0],ot[1]),1),Ct=Math.max(Math.hypot(ot[2],ot[3]),1),tt=bt,pt=Pt,yt="prescale1",mt,_t;for(;Tt>2&&tt>1||Ct>2&&pt>1;){let kt=tt,St=pt;Tt>2&&tt>1&&(kt=Math.ceil(tt/2),Tt/=tt/kt),Ct>2&&pt>1&&(St=Math.ceil(pt/2),Ct/=pt/St),mt=this.cachedCanvases.getCanvas(yt,kt,St),_t=mt.context,_t.clearRect(0,0,kt,St),_t.drawImage(dt,0,0,tt,pt,0,0,kt,St),dt=mt.canvas,tt=kt,pt=St,yt=yt==="prescale1"?"prescale2":"prescale1"}return{img:dt,paintWidth:tt,paintHeight:pt}}_createMaskCanvas(dt){const ot=this.ctx,{width:bt,height:Pt}=dt,Tt=this.current.fillColor,Ct=this.current.patternFill,tt=(0,a.getCurrentTransform)(ot);let pt,yt,mt,_t;if((dt.bitmap||dt.data)&&dt.count>1){const rn=dt.bitmap||dt.data.buffer,tn=tt.slice(0,4);yt=JSON.stringify(Ct?tn:[tn,Tt]),pt=this._cachedBitmapsMap.get(rn),pt||(pt=new Map,this._cachedBitmapsMap.set(rn,pt));const en=pt.get(yt);if(en&&!Ct){const sn=Math.round(Math.min(tt[0],tt[2])+tt[4]),on=Math.round(Math.min(tt[1],tt[3])+tt[5]);return{canvas:en,offsetX:sn,offsetY:on}}mt=en}mt||(_t=this.cachedCanvases.getCanvas("maskCanvas",bt,Pt),ut(_t.context,dt));let kt=c.Util.transform(tt,[1/bt,0,0,-1/Pt,0,0]);kt=c.Util.transform(kt,[1,0,0,1,0,-Pt]);const St=c.Util.applyTransform([0,0],kt),gt=c.Util.applyTransform([bt,Pt],kt),xt=c.Util.normalizeRect([St[0],St[1],gt[0],gt[1]]),$t=Math.round(xt[2]-xt[0])||1,Ft=Math.round(xt[3]-xt[1])||1,Bt=this.cachedCanvases.getCanvas("fillCanvas",$t,Ft),Ht=Bt.context,qt=Math.min(St[0],gt[0]),Zt=Math.min(St[1],gt[1]);Ht.translate(-qt,-Zt),Ht.transform(...kt),mt||(mt=this._scaleImage(_t.canvas,(0,a.getCurrentTransformInverse)(Ht)),mt=mt.img,pt&&Ct&&pt.set(yt,mt)),Ht.imageSmoothingEnabled=Ot((0,a.getCurrentTransform)(Ht),dt.interpolate),g(Ht,mt,0,0,mt.width,mt.height,0,0,bt,Pt),Ht.globalCompositeOperation="source-in";const Xt=c.Util.transform((0,a.getCurrentTransformInverse)(Ht),[1,0,0,1,-qt,-Zt]);return Ht.fillStyle=Ct?Tt.getPattern(ot,this,Xt,d.PathType.FILL):Tt,Ht.fillRect(0,0,bt,Pt),pt&&!Ct&&(this.cachedCanvases.delete("fillCanvas"),pt.set(yt,Bt.canvas)),{canvas:Bt.canvas,offsetX:Math.round(qt),offsetY:Math.round(Zt)}}setLineWidth(dt){dt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=dt,this.ctx.lineWidth=dt}setLineCap(dt){this.ctx.lineCap=Dt[dt]}setLineJoin(dt){this.ctx.lineJoin=Wt[dt]}setMiterLimit(dt){this.ctx.miterLimit=dt}setDash(dt,ot){const bt=this.ctx;bt.setLineDash!==void 0&&(bt.setLineDash(dt),bt.lineDashOffset=ot)}setRenderingIntent(dt){}setFlatness(dt){}setGState(dt){for(let ot=0,bt=dt.length;ot<bt;ot++){const Pt=dt[ot],Tt=Pt[0],Ct=Pt[1];switch(Tt){case"LW":this.setLineWidth(Ct);break;case"LC":this.setLineCap(Ct);break;case"LJ":this.setLineJoin(Ct);break;case"ML":this.setMiterLimit(Ct);break;case"D":this.setDash(Ct[0],Ct[1]);break;case"RI":this.setRenderingIntent(Ct);break;case"FL":this.setFlatness(Ct);break;case"Font":this.setFont(Ct[0],Ct[1]);break;case"CA":this.current.strokeAlpha=Pt[1];break;case"ca":this.current.fillAlpha=Pt[1],this.ctx.globalAlpha=Pt[1];break;case"BM":this.ctx.globalCompositeOperation=Ct;break;case"SMask":this.current.activeSMask=Ct?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Ct}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const dt=this.inSMaskMode;this.current.activeSMask&&!dt?this.beginSMaskMode():!this.current.activeSMask&&dt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const dt=this.ctx.canvas.width,ot=this.ctx.canvas.height,bt="smaskGroupAt"+this.groupLevel,Pt=this.cachedCanvases.getCanvas(bt,dt,ot);this.suspendedCtx=this.ctx,this.ctx=Pt.context;const Tt=this.ctx;Tt.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),ct(this.suspendedCtx,Tt),h(Tt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ct(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(dt){if(!this.current.activeSMask)return;dt?(dt[0]=Math.floor(dt[0]),dt[1]=Math.floor(dt[1]),dt[2]=Math.ceil(dt[2]),dt[3]=Math.ceil(dt[3])):dt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ot=this.current.activeSMask,bt=this.suspendedCtx;Mt(bt,ot,this.ctx,dt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ct(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const dt=this.current;this.stateStack.push(dt),this.current=dt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ct(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(dt,ot,bt,Pt,Tt,Ct){this.ctx.transform(dt,ot,bt,Pt,Tt,Ct),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(dt,ot,bt){const Pt=this.ctx,Tt=this.current;let Ct=Tt.x,tt=Tt.y,pt,yt;const mt=(0,a.getCurrentTransform)(Pt),_t=mt[0]===0&&mt[3]===0||mt[1]===0&&mt[2]===0,kt=_t?bt.slice(0):null;for(let St=0,gt=0,xt=dt.length;St<xt;St++)switch(dt[St]|0){case c.OPS.rectangle:Ct=ot[gt++],tt=ot[gt++];const $t=ot[gt++],Ft=ot[gt++],Bt=Ct+$t,Ht=tt+Ft;Pt.moveTo(Ct,tt),$t===0||Ft===0?Pt.lineTo(Bt,Ht):(Pt.lineTo(Bt,tt),Pt.lineTo(Bt,Ht),Pt.lineTo(Ct,Ht)),_t||Tt.updateRectMinMax(mt,[Ct,tt,Bt,Ht]),Pt.closePath();break;case c.OPS.moveTo:Ct=ot[gt++],tt=ot[gt++],Pt.moveTo(Ct,tt),_t||Tt.updatePathMinMax(mt,Ct,tt);break;case c.OPS.lineTo:Ct=ot[gt++],tt=ot[gt++],Pt.lineTo(Ct,tt),_t||Tt.updatePathMinMax(mt,Ct,tt);break;case c.OPS.curveTo:pt=Ct,yt=tt,Ct=ot[gt+4],tt=ot[gt+5],Pt.bezierCurveTo(ot[gt],ot[gt+1],ot[gt+2],ot[gt+3],Ct,tt),Tt.updateCurvePathMinMax(mt,pt,yt,ot[gt],ot[gt+1],ot[gt+2],ot[gt+3],Ct,tt,kt),gt+=6;break;case c.OPS.curveTo2:pt=Ct,yt=tt,Pt.bezierCurveTo(Ct,tt,ot[gt],ot[gt+1],ot[gt+2],ot[gt+3]),Tt.updateCurvePathMinMax(mt,pt,yt,Ct,tt,ot[gt],ot[gt+1],ot[gt+2],ot[gt+3],kt),Ct=ot[gt+2],tt=ot[gt+3],gt+=4;break;case c.OPS.curveTo3:pt=Ct,yt=tt,Ct=ot[gt+2],tt=ot[gt+3],Pt.bezierCurveTo(ot[gt],ot[gt+1],Ct,tt,Ct,tt),Tt.updateCurvePathMinMax(mt,pt,yt,ot[gt],ot[gt+1],Ct,tt,Ct,tt,kt),gt+=4;break;case c.OPS.closePath:Pt.closePath();break}_t&&Tt.updateScalingPathMinMax(mt,kt),Tt.setCurrentPoint(Ct,tt)}closePath(){this.ctx.closePath()}stroke(dt){dt=typeof dt<"u"?dt:!0;const ot=this.ctx,bt=this.current.strokeColor;ot.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof bt=="object"&&(bt!=null&&bt.getPattern)?(ot.save(),ot.strokeStyle=bt.getPattern(ot,this,(0,a.getCurrentTransformInverse)(ot),d.PathType.STROKE),this.rescaleAndStroke(!1),ot.restore()):this.rescaleAndStroke(!0)),dt&&this.consumePath(this.current.getClippedPathBoundingBox()),ot.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(dt){dt=typeof dt<"u"?dt:!0;const ot=this.ctx,bt=this.current.fillColor,Pt=this.current.patternFill;let Tt=!1;Pt&&(ot.save(),ot.fillStyle=bt.getPattern(ot,this,(0,a.getCurrentTransformInverse)(ot),d.PathType.FILL),Tt=!0);const Ct=this.current.getClippedPathBoundingBox();this.contentVisible&&Ct!==null&&(this.pendingEOFill?(ot.fill("evenodd"),this.pendingEOFill=!1):ot.fill()),Tt&&ot.restore(),dt&&this.consumePath(Ct)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Nt}eoClip(){this.pendingClip=Lt}beginText(){this.current.textMatrix=c.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const dt=this.pendingTextPaths,ot=this.ctx;if(dt===void 0){ot.beginPath();return}ot.save(),ot.beginPath();for(const bt of dt)ot.setTransform(...bt.transform),ot.translate(bt.x,bt.y),bt.addToPath(ot,bt.fontSize);ot.restore(),ot.clip(),ot.beginPath(),delete this.pendingTextPaths}setCharSpacing(dt){this.current.charSpacing=dt}setWordSpacing(dt){this.current.wordSpacing=dt}setHScale(dt){this.current.textHScale=dt/100}setLeading(dt){this.current.leading=-dt}setFont(dt,ot){const bt=this.commonObjs.get(dt),Pt=this.current;if(!bt)throw new Error(`Can't find font for ${dt}`);if(Pt.fontMatrix=bt.fontMatrix||c.FONT_IDENTITY_MATRIX,(Pt.fontMatrix[0]===0||Pt.fontMatrix[3]===0)&&(0,c.warn)("Invalid font matrix for font "+dt),ot<0?(ot=-ot,Pt.fontDirection=-1):Pt.fontDirection=1,this.current.font=bt,this.current.fontSize=ot,bt.isType3Font)return;const Tt=bt.loadedName||"sans-serif";let Ct="normal";bt.black?Ct="900":bt.bold&&(Ct="bold");const tt=bt.italic?"italic":"normal",pt=`"${Tt}", ${bt.fallbackName}`;let yt=ot;ot<nt?yt=nt:ot>_e&&(yt=_e),this.current.fontSizeScale=ot/yt,this.ctx.font=`${tt} ${Ct} ${yt}px ${pt}`}setTextRenderingMode(dt){this.current.textRenderingMode=dt}setTextRise(dt){this.current.textRise=dt}moveText(dt,ot){this.current.x=this.current.lineX+=dt,this.current.y=this.current.lineY+=ot}setLeadingMoveText(dt,ot){this.setLeading(-ot),this.moveText(dt,ot)}setTextMatrix(dt,ot,bt,Pt,Tt,Ct){this.current.textMatrix=[dt,ot,bt,Pt,Tt,Ct],this.current.textMatrixScale=Math.hypot(dt,ot),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(dt,ot,bt,Pt){const Tt=this.ctx,Ct=this.current,tt=Ct.font,pt=Ct.textRenderingMode,yt=Ct.fontSize/Ct.fontSizeScale,mt=pt&c.TextRenderingMode.FILL_STROKE_MASK,_t=!!(pt&c.TextRenderingMode.ADD_TO_PATH_FLAG),kt=Ct.patternFill&&!tt.missingFile;let St;(tt.disableFontFace||_t||kt)&&(St=tt.getPathGenerator(this.commonObjs,dt)),tt.disableFontFace||kt?(Tt.save(),Tt.translate(ot,bt),Tt.beginPath(),St(Tt,yt),Pt&&Tt.setTransform(...Pt),(mt===c.TextRenderingMode.FILL||mt===c.TextRenderingMode.FILL_STROKE)&&Tt.fill(),(mt===c.TextRenderingMode.STROKE||mt===c.TextRenderingMode.FILL_STROKE)&&Tt.stroke(),Tt.restore()):((mt===c.TextRenderingMode.FILL||mt===c.TextRenderingMode.FILL_STROKE)&&Tt.fillText(dt,ot,bt),(mt===c.TextRenderingMode.STROKE||mt===c.TextRenderingMode.FILL_STROKE)&&Tt.strokeText(dt,ot,bt)),_t&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Tt),x:ot,y:bt,fontSize:yt,addToPath:St})}get isFontSubpixelAAEnabled(){const{context:dt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);dt.scale(1.5,1),dt.fillText("I",0,10);const ot=dt.getImageData(0,0,10,10).data;let bt=!1;for(let Pt=3;Pt<ot.length;Pt+=4)if(ot[Pt]>0&&ot[Pt]<255){bt=!0;break}return(0,c.shadow)(this,"isFontSubpixelAAEnabled",bt)}showText(dt){const ot=this.current,bt=ot.font;if(bt.isType3Font)return this.showType3Text(dt);const Pt=ot.fontSize;if(Pt===0)return;const Tt=this.ctx,Ct=ot.fontSizeScale,tt=ot.charSpacing,pt=ot.wordSpacing,yt=ot.fontDirection,mt=ot.textHScale*yt,_t=dt.length,kt=bt.vertical,St=kt?1:-1,gt=bt.defaultVMetrics,xt=Pt*ot.fontMatrix[0],$t=ot.textRenderingMode===c.TextRenderingMode.FILL&&!bt.disableFontFace&&!ot.patternFill;Tt.save(),Tt.transform(...ot.textMatrix),Tt.translate(ot.x,ot.y+ot.textRise),yt>0?Tt.scale(mt,-1):Tt.scale(mt,1);let Ft;if(ot.patternFill){Tt.save();const Xt=ot.fillColor.getPattern(Tt,this,(0,a.getCurrentTransformInverse)(Tt),d.PathType.FILL);Ft=(0,a.getCurrentTransform)(Tt),Tt.restore(),Tt.fillStyle=Xt}let Bt=ot.lineWidth;const Ht=ot.textMatrixScale;if(Ht===0||Bt===0){const Xt=ot.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;(Xt===c.TextRenderingMode.STROKE||Xt===c.TextRenderingMode.FILL_STROKE)&&(Bt=this.getSinglePixelWidth())}else Bt/=Ht;Ct!==1&&(Tt.scale(Ct,Ct),Bt/=Ct),Tt.lineWidth=Bt;let qt=0,Zt;for(Zt=0;Zt<_t;++Zt){const Xt=dt[Zt];if(typeof Xt=="number"){qt+=St*Xt*Pt/1e3;continue}let rn=!1;const tn=(Xt.isSpace?pt:0)+tt,en=Xt.fontChar,sn=Xt.accent;let on,hn,an=Xt.width;if(kt){const cn=Xt.vmetric||gt,un=-(Xt.vmetric?cn[1]:an*.5)*xt,Sn=cn[2]*xt;an=cn?-cn[0]:an,on=un/Ct,hn=(qt+Sn)/Ct}else on=qt/Ct,hn=0;if(bt.remeasure&&an>0){const cn=Tt.measureText(en).width*1e3/Pt*Ct;if(an<cn&&this.isFontSubpixelAAEnabled){const un=an/cn;rn=!0,Tt.save(),Tt.scale(un,1),on/=un}else an!==cn&&(on+=(an-cn)/2e3*Pt/Ct)}if(this.contentVisible&&(Xt.isInFont||bt.missingFile)){if($t&&!sn)Tt.fillText(en,on,hn);else if(this.paintChar(en,on,hn,Ft),sn){const cn=on+Pt*sn.offset.x/Ct,un=hn-Pt*sn.offset.y/Ct;this.paintChar(sn.fontChar,cn,un,Ft)}}let fn;kt?fn=an*xt-tn*yt:fn=an*xt+tn*yt,qt+=fn,rn&&Tt.restore()}kt?ot.y-=qt:ot.x+=qt*mt,Tt.restore(),this.compose()}showType3Text(dt){const ot=this.ctx,bt=this.current,Pt=bt.font,Tt=bt.fontSize,Ct=bt.fontDirection,tt=Pt.vertical?1:-1,pt=bt.charSpacing,yt=bt.wordSpacing,mt=bt.textHScale*Ct,_t=bt.fontMatrix||c.FONT_IDENTITY_MATRIX,kt=dt.length,St=bt.textRenderingMode===c.TextRenderingMode.INVISIBLE;let gt,xt,$t,Ft;if(!(St||Tt===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ot.save(),ot.transform(...bt.textMatrix),ot.translate(bt.x,bt.y),ot.scale(mt,Ct),gt=0;gt<kt;++gt){if(xt=dt[gt],typeof xt=="number"){Ft=tt*xt*Tt/1e3,this.ctx.translate(Ft,0),bt.x+=Ft*mt;continue}const Bt=(xt.isSpace?yt:0)+pt,Ht=Pt.charProcOperatorList[xt.operatorListId];if(!Ht){(0,c.warn)(`Type3 character "${xt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=xt,this.save(),ot.scale(Tt,Tt),ot.transform(..._t),this.executeOperatorList(Ht),this.restore()),$t=c.Util.applyTransform([xt.width,0],_t)[0]*Tt+Bt,ot.translate($t,0),bt.x+=$t*mt}ot.restore(),this.processingType3=null}}setCharWidth(dt,ot){}setCharWidthAndBounds(dt,ot,bt,Pt,Tt,Ct){this.ctx.rect(bt,Pt,Tt-bt,Ct-Pt),this.ctx.clip(),this.endPath()}getColorN_Pattern(dt){let ot;if(dt[0]==="TilingPattern"){const bt=dt[1],Pt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Tt={createCanvasGraphics:Ct=>new Vt(Ct,this.commonObjs,this.objs,this.canvasFactory)};ot=new d.TilingPattern(dt,bt,this.ctx,Tt,Pt)}else ot=this._getPattern(dt[1],dt[2]);return ot}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(dt,ot,bt){var Tt;const Pt=((Tt=this.selectColor)==null?void 0:Tt.call(this,dt,ot,bt))||c.Util.makeHexColor(dt,ot,bt);this.ctx.strokeStyle=Pt,this.current.strokeColor=Pt}setFillRGBColor(dt,ot,bt){var Tt;const Pt=((Tt=this.selectColor)==null?void 0:Tt.call(this,dt,ot,bt))||c.Util.makeHexColor(dt,ot,bt);this.ctx.fillStyle=Pt,this.current.fillColor=Pt,this.current.patternFill=!1}_getPattern(dt,ot=null){let bt;return this.cachedPatterns.has(dt)?bt=this.cachedPatterns.get(dt):(bt=(0,d.getShadingPattern)(this.objs.get(dt)),this.cachedPatterns.set(dt,bt)),ot&&(bt.matrix=ot),bt}shadingFill(dt){if(!this.contentVisible)return;const ot=this.ctx;this.save();const bt=this._getPattern(dt);ot.fillStyle=bt.getPattern(ot,this,(0,a.getCurrentTransformInverse)(ot),d.PathType.SHADING);const Pt=(0,a.getCurrentTransformInverse)(ot);if(Pt){const Tt=ot.canvas,Ct=Tt.width,tt=Tt.height,pt=c.Util.applyTransform([0,0],Pt),yt=c.Util.applyTransform([0,tt],Pt),mt=c.Util.applyTransform([Ct,0],Pt),_t=c.Util.applyTransform([Ct,tt],Pt),kt=Math.min(pt[0],yt[0],mt[0],_t[0]),St=Math.min(pt[1],yt[1],mt[1],_t[1]),gt=Math.max(pt[0],yt[0],mt[0],_t[0]),xt=Math.max(pt[1],yt[1],mt[1],_t[1]);this.ctx.fillRect(kt,St,gt-kt,xt-St)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,c.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,c.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(dt,ot){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(dt)&&dt.length===6&&this.transform(...dt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),ot)){const bt=ot[2]-ot[0],Pt=ot[3]-ot[1];this.ctx.rect(ot[0],ot[1],bt,Pt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),ot),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(dt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ot=this.ctx;dt.isolated||(0,c.info)("TODO: Support non-isolated groups."),dt.knockout&&(0,c.warn)("Knockout groups not supported.");const bt=(0,a.getCurrentTransform)(ot);if(dt.matrix&&ot.transform(...dt.matrix),!dt.bbox)throw new Error("Bounding box is required.");let Pt=c.Util.getAxialAlignedBoundingBox(dt.bbox,(0,a.getCurrentTransform)(ot));const Tt=[0,0,ot.canvas.width,ot.canvas.height];Pt=c.Util.intersect(Pt,Tt)||[0,0,0,0];const Ct=Math.floor(Pt[0]),tt=Math.floor(Pt[1]);let pt=Math.max(Math.ceil(Pt[2])-Ct,1),yt=Math.max(Math.ceil(Pt[3])-tt,1),mt=1,_t=1;pt>ht&&(mt=pt/ht,pt=ht),yt>ht&&(_t=yt/ht,yt=ht),this.current.startNewPathAndClipBox([0,0,pt,yt]);let kt="groupAt"+this.groupLevel;dt.smask&&(kt+="_smask_"+this.smaskCounter++%2);const St=this.cachedCanvases.getCanvas(kt,pt,yt),gt=St.context;gt.scale(1/mt,1/_t),gt.translate(-Ct,-tt),gt.transform(...bt),dt.smask?this.smaskStack.push({canvas:St.canvas,context:gt,offsetX:Ct,offsetY:tt,scaleX:mt,scaleY:_t,subtype:dt.smask.subtype,backdrop:dt.smask.backdrop,transferMap:dt.smask.transferMap||null,startTransformInverse:null}):(ot.setTransform(1,0,0,1,0,0),ot.translate(Ct,tt),ot.scale(mt,_t),ot.save()),ct(ot,gt),this.ctx=gt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ot),this.groupLevel++}endGroup(dt){if(!this.contentVisible)return;this.groupLevel--;const ot=this.ctx,bt=this.groupStack.pop();if(this.ctx=bt,this.ctx.imageSmoothingEnabled=!1,dt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Pt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Pt);const Tt=c.Util.getAxialAlignedBoundingBox([0,0,ot.canvas.width,ot.canvas.height],Pt);this.ctx.drawImage(ot.canvas,0,0),this.ctx.restore(),this.compose(Tt)}}beginAnnotation(dt,ot,bt,Pt,Tt){if(Yt(this,It,Kn).call(this),b(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ot)&&ot.length===4){const Ct=ot[2]-ot[0],tt=ot[3]-ot[1];if(Tt&&this.annotationCanvasMap){bt=bt.slice(),bt[4]-=ot[0],bt[5]-=ot[1],ot=ot.slice(),ot[0]=ot[1]=0,ot[2]=Ct,ot[3]=tt;const[pt,yt]=c.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:mt}=this,_t=Math.ceil(Ct*this.outputScaleX*mt),kt=Math.ceil(tt*this.outputScaleY*mt);this.annotationCanvas=this.canvasFactory.create(_t,kt);const{canvas:St,context:gt}=this.annotationCanvas;this.annotationCanvasMap.set(dt,St),this.annotationCanvas.savedCtx=this.ctx,this.ctx=gt,this.ctx.setTransform(pt,0,0,-yt,0,tt*yt),b(this.ctx,this.foregroundColor)}else b(this.ctx,this.foregroundColor),this.ctx.rect(ot[0],ot[1],Ct,tt),this.ctx.clip(),this.endPath()}this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...bt),this.transform(...Pt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(dt){if(!this.contentVisible)return;const ot=dt.count;dt=this.getObject(dt.data,dt),dt.count=ot;const bt=this.ctx,Pt=this.processingType3;if(Pt&&(Pt.compiled===void 0&&(Pt.compiled=k(dt)),Pt.compiled)){Pt.compiled(bt);return}const Tt=this._createMaskCanvas(dt),Ct=Tt.canvas;bt.save(),bt.setTransform(1,0,0,1,0,0),bt.drawImage(Ct,Tt.offsetX,Tt.offsetY),bt.restore(),this.compose()}paintImageMaskXObjectRepeat(dt,ot,bt=0,Pt=0,Tt,Ct){if(!this.contentVisible)return;dt=this.getObject(dt.data,dt);const tt=this.ctx;tt.save();const pt=(0,a.getCurrentTransform)(tt);tt.transform(ot,bt,Pt,Tt,0,0);const yt=this._createMaskCanvas(dt);tt.setTransform(1,0,0,1,0,0);for(let mt=0,_t=Ct.length;mt<_t;mt+=2){const kt=c.Util.transform(pt,[ot,bt,Pt,Tt,Ct[mt],Ct[mt+1]]),[St,gt]=c.Util.applyTransform([0,0],kt);tt.drawImage(yt.canvas,St,gt)}tt.restore(),this.compose()}paintImageMaskXObjectGroup(dt){if(!this.contentVisible)return;const ot=this.ctx,bt=this.current.fillColor,Pt=this.current.patternFill;for(const Tt of dt){const{data:Ct,width:tt,height:pt,transform:yt}=Tt,mt=this.cachedCanvases.getCanvas("maskCanvas",tt,pt),_t=mt.context;_t.save();const kt=this.getObject(Ct,Tt);ut(_t,kt),_t.globalCompositeOperation="source-in",_t.fillStyle=Pt?bt.getPattern(_t,this,(0,a.getCurrentTransformInverse)(ot),d.PathType.FILL):bt,_t.fillRect(0,0,tt,pt),_t.restore(),ot.save(),ot.transform(...yt),ot.scale(1,-1),g(ot,mt.canvas,0,0,tt,pt,0,-1,1,1),ot.restore()}this.compose()}paintImageXObject(dt){if(!this.contentVisible)return;const ot=this.getObject(dt);if(!ot){(0,c.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ot)}paintImageXObjectRepeat(dt,ot,bt,Pt){if(!this.contentVisible)return;const Tt=this.getObject(dt);if(!Tt){(0,c.warn)("Dependent image isn't ready yet");return}const Ct=Tt.width,tt=Tt.height,pt=[];for(let yt=0,mt=Pt.length;yt<mt;yt+=2)pt.push({transform:[ot,0,0,bt,Pt[yt],Pt[yt+1]],x:0,y:0,w:Ct,h:tt});this.paintInlineImageXObjectGroup(Tt,pt)}paintInlineImageXObject(dt){if(!this.contentVisible)return;const ot=dt.width,bt=dt.height,Pt=this.ctx;this.save(),Pt.scale(1/ot,-1/bt);let Tt;if(typeof HTMLElement=="function"&&dt instanceof HTMLElement||!dt.data)Tt=dt;else{const yt=this.cachedCanvases.getCanvas("inlineImage",ot,bt),mt=yt.context;j(mt,dt,this.current.transferMaps),Tt=yt.canvas}const Ct=this._scaleImage(Tt,(0,a.getCurrentTransformInverse)(Pt));Pt.imageSmoothingEnabled=Ot((0,a.getCurrentTransform)(Pt),dt.interpolate);const[tt,pt]=g(Pt,Ct.img,0,0,Ct.paintWidth,Ct.paintHeight,0,-bt,ot,bt);if(this.imageLayer){const[yt,mt]=c.Util.applyTransform([0,-bt],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:dt,left:yt,top:mt,width:tt,height:pt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(dt,ot){if(!this.contentVisible)return;const bt=this.ctx,Pt=dt.width,Tt=dt.height,Ct=this.cachedCanvases.getCanvas("inlineImage",Pt,Tt),tt=Ct.context;j(tt,dt,this.current.transferMaps);for(const pt of ot){if(bt.save(),bt.transform(...pt.transform),bt.scale(1,-1),g(bt,Ct.canvas,pt.x,pt.y,pt.w,pt.h,0,-1,1,1),this.imageLayer){const[yt,mt]=c.Util.applyTransform([pt.x,pt.y],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:dt,left:yt,top:mt,width:Pt,height:Tt})}bt.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(dt){}markPointProps(dt,ot){}beginMarkedContent(dt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(dt,ot){dt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ot)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(dt){const ot=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(dt);const bt=this.ctx;this.pendingClip&&(ot||(this.pendingClip===Lt?bt.clip("evenodd"):bt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),bt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const dt=(0,a.getCurrentTransform)(this.ctx);if(dt[1]===0&&dt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(dt[0]),Math.abs(dt[3]));else{const ot=Math.abs(dt[0]*dt[3]-dt[2]*dt[1]),bt=Math.hypot(dt[0],dt[2]),Pt=Math.hypot(dt[1],dt[3]);this._cachedGetSinglePixelWidth=Math.max(bt,Pt)/ot}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:dt}=this.current,ot=(0,a.getCurrentTransform)(this.ctx);let bt,Pt;if(ot[1]===0&&ot[2]===0){const Tt=Math.abs(ot[0]),Ct=Math.abs(ot[3]);if(dt===0)bt=1/Tt,Pt=1/Ct;else{const tt=Tt*dt,pt=Ct*dt;bt=tt<1?1/tt:1,Pt=pt<1?1/pt:1}}else{const Tt=Math.abs(ot[0]*ot[3]-ot[2]*ot[1]),Ct=Math.hypot(ot[0],ot[1]),tt=Math.hypot(ot[2],ot[3]);if(dt===0)bt=tt/Tt,Pt=Ct/Tt;else{const pt=dt*Tt;bt=tt>pt?tt/pt:1,Pt=Ct>pt?Ct/pt:1}}this._cachedScaleForStroking=[bt,Pt]}return this._cachedScaleForStroking}rescaleAndStroke(dt){const{ctx:ot}=this,{lineWidth:bt}=this.current,[Pt,Tt]=this.getScaleForStroking();if(ot.lineWidth=bt||1,Pt===1&&Tt===1){ot.stroke();return}let Ct,tt,pt;dt&&(Ct=(0,a.getCurrentTransform)(ot),tt=ot.getLineDash().slice(),pt=ot.lineDashOffset),ot.scale(Pt,Tt);const yt=Math.max(Pt,Tt);ot.setLineDash(ot.getLineDash().map(mt=>mt/yt)),ot.lineDashOffset/=yt,ot.stroke(),dt&&(ot.setTransform(...Ct),ot.setLineDash(tt),ot.lineDashOffset=pt)}isContentVisible(){for(let dt=this.markedContentStack.length-1;dt>=0;dt--)if(!this.markedContentStack[dt].visible)return!1;return!0}};It=new WeakSet,Kn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Rt=Vt;s.CanvasGraphics=Rt;for(const wt in c.OPS)Rt.prototype[wt]!==void 0&&(Rt.prototype[c.OPS[wt]]=Rt.prototype[wt])},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=et;var a=o(1),c=o(8),d=o(3);const f={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=f;function st(g,k){if(!k||d.isNodeJS)return;const _=k[2]-k[0],j=k[3]-k[1],ut=new Path2D;ut.rect(k[0],k[1],_,j),g.clip(ut)}class nt{constructor(){this.constructor===nt&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class _e extends nt{constructor(k){super(),this._type=k[1],this._bbox=k[2],this._colorStops=k[3],this._p0=k[4],this._p1=k[5],this._r0=k[6],this._r1=k[7],this.matrix=null}_createGradient(k){let _;this._type==="axial"?_=k.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_=k.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const j of this._colorStops)_.addColorStop(j[0],j[1]);return _}getPattern(k,_,j,ut){let ct;if(ut===f.STROKE||ut===f.FILL){const b=_.current.getClippedPathBoundingBox(ut,(0,c.getCurrentTransform)(k))||[0,0,0,0],$=Math.ceil(b[2]-b[0])||1,lt=Math.ceil(b[3]-b[1])||1,vt=_.cachedCanvases.getCanvas("pattern",$,lt,!0),Et=vt.context;Et.clearRect(0,0,Et.canvas.width,Et.canvas.height),Et.beginPath(),Et.rect(0,0,Et.canvas.width,Et.canvas.height),Et.translate(-b[0],-b[1]),j=a.Util.transform(j,[1,0,0,1,b[0],b[1]]),Et.transform(..._.baseTransform),this.matrix&&Et.transform(...this.matrix),st(Et,this._bbox),Et.fillStyle=this._createGradient(Et),Et.fill(),ct=k.createPattern(vt.canvas,"no-repeat");const Mt=new DOMMatrix(j);try{ct.setTransform(Mt)}catch(Ot){(0,a.warn)(`RadialAxialShadingPattern.getPattern: "${Ot==null?void 0:Ot.message}".`)}}else st(k,this._bbox),ct=this._createGradient(k);return ct}}function ht(g,k,_,j,ut,ct,b,$){const lt=k.coords,vt=k.colors,Et=g.data,Mt=g.width*4;let Ot;lt[_+1]>lt[j+1]&&(Ot=_,_=j,j=Ot,Ot=ct,ct=b,b=Ot),lt[j+1]>lt[ut+1]&&(Ot=j,j=ut,ut=Ot,Ot=b,b=$,$=Ot),lt[_+1]>lt[j+1]&&(Ot=_,_=j,j=Ot,Ot=ct,ct=b,b=Ot);const Dt=(lt[_]+k.offsetX)*k.scaleX,Wt=(lt[_+1]+k.offsetY)*k.scaleY,Nt=(lt[j]+k.offsetX)*k.scaleX,Lt=(lt[j+1]+k.offsetY)*k.scaleY,Rt=(lt[ut]+k.offsetX)*k.scaleX,It=(lt[ut+1]+k.offsetY)*k.scaleY;if(Wt>=It)return;const zt=vt[ct],Vt=vt[ct+1],wt=vt[ct+2],dt=vt[b],ot=vt[b+1],bt=vt[b+2],Pt=vt[$],Tt=vt[$+1],Ct=vt[$+2],tt=Math.round(Wt),pt=Math.round(It);let yt,mt,_t,kt,St,gt,xt,$t;for(let Ft=tt;Ft<=pt;Ft++){if(Ft<Lt){let Xt;Ft<Wt?Xt=0:Xt=(Wt-Ft)/(Wt-Lt),yt=Dt-(Dt-Nt)*Xt,mt=zt-(zt-dt)*Xt,_t=Vt-(Vt-ot)*Xt,kt=wt-(wt-bt)*Xt}else{let Xt;Ft>It?Xt=1:Lt===It?Xt=0:Xt=(Lt-Ft)/(Lt-It),yt=Nt-(Nt-Rt)*Xt,mt=dt-(dt-Pt)*Xt,_t=ot-(ot-Tt)*Xt,kt=bt-(bt-Ct)*Xt}let Bt;Ft<Wt?Bt=0:Ft>It?Bt=1:Bt=(Wt-Ft)/(Wt-It),St=Dt-(Dt-Rt)*Bt,gt=zt-(zt-Pt)*Bt,xt=Vt-(Vt-Tt)*Bt,$t=wt-(wt-Ct)*Bt;const Ht=Math.round(Math.min(yt,St)),qt=Math.round(Math.max(yt,St));let Zt=Mt*Ft+Ht*4;for(let Xt=Ht;Xt<=qt;Xt++)Bt=(yt-Xt)/(yt-St),Bt<0?Bt=0:Bt>1&&(Bt=1),Et[Zt++]=mt-(mt-gt)*Bt|0,Et[Zt++]=_t-(_t-xt)*Bt|0,Et[Zt++]=kt-(kt-$t)*Bt|0,Et[Zt++]=255}}function ft(g,k,_){const j=k.coords,ut=k.colors;let ct,b;switch(k.type){case"lattice":const $=k.verticesPerRow,lt=Math.floor(j.length/$)-1,vt=$-1;for(ct=0;ct<lt;ct++){let Et=ct*$;for(let Mt=0;Mt<vt;Mt++,Et++)ht(g,_,j[Et],j[Et+1],j[Et+$],ut[Et],ut[Et+1],ut[Et+$]),ht(g,_,j[Et+$+1],j[Et+1],j[Et+$],ut[Et+$+1],ut[Et+1],ut[Et+$])}break;case"triangles":for(ct=0,b=j.length;ct<b;ct+=3)ht(g,_,j[ct],j[ct+1],j[ct+2],ut[ct],ut[ct+1],ut[ct+2]);break;default:throw new Error("illegal figure")}}class it extends nt{constructor(k){super(),this._coords=k[2],this._colors=k[3],this._figures=k[4],this._bounds=k[5],this._bbox=k[7],this._background=k[8],this.matrix=null}_createMeshCanvas(k,_,j){const $=Math.floor(this._bounds[0]),lt=Math.floor(this._bounds[1]),vt=Math.ceil(this._bounds[2])-$,Et=Math.ceil(this._bounds[3])-lt,Mt=Math.min(Math.ceil(Math.abs(vt*k[0]*1.1)),3e3),Ot=Math.min(Math.ceil(Math.abs(Et*k[1]*1.1)),3e3),Dt=vt/Mt,Wt=Et/Ot,Nt={coords:this._coords,colors:this._colors,offsetX:-$,offsetY:-lt,scaleX:1/Dt,scaleY:1/Wt},Lt=Mt+2*2,Rt=Ot+2*2,It=j.getCanvas("mesh",Lt,Rt,!1),zt=It.context,Vt=zt.createImageData(Mt,Ot);if(_){const dt=Vt.data;for(let ot=0,bt=dt.length;ot<bt;ot+=4)dt[ot]=_[0],dt[ot+1]=_[1],dt[ot+2]=_[2],dt[ot+3]=255}for(const dt of this._figures)ft(Vt,dt,Nt);return zt.putImageData(Vt,2,2),{canvas:It.canvas,offsetX:$-2*Dt,offsetY:lt-2*Wt,scaleX:Dt,scaleY:Wt}}getPattern(k,_,j,ut){st(k,this._bbox);let ct;if(ut===f.SHADING)ct=a.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(k));else if(ct=a.Util.singularValueDecompose2dScale(_.baseTransform),this.matrix){const $=a.Util.singularValueDecompose2dScale(this.matrix);ct=[ct[0]*$[0],ct[1]*$[1]]}const b=this._createMeshCanvas(ct,ut===f.SHADING?null:this._background,_.cachedCanvases);return ut!==f.SHADING&&(k.setTransform(..._.baseTransform),this.matrix&&k.transform(...this.matrix)),k.translate(b.offsetX,b.offsetY),k.scale(b.scaleX,b.scaleY),k.createPattern(b.canvas,"no-repeat")}}class at extends nt{getPattern(){return"hotpink"}}function et(g){switch(g[0]){case"RadialAxial":return new _e(g);case"Mesh":return new it(g);case"Dummy":return new at}throw new Error(`Unknown IR type: ${g[0]}`)}const h={COLORED:1,UNCOLORED:2};class rt{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(k,_,j,ut,ct){this.operatorList=k[2],this.matrix=k[3]||[1,0,0,1,0,0],this.bbox=k[4],this.xstep=k[5],this.ystep=k[6],this.paintType=k[7],this.tilingType=k[8],this.color=_,this.ctx=j,this.canvasGraphicsFactory=ut,this.baseTransform=ct}createPatternCanvas(k){const _=this.operatorList,j=this.bbox,ut=this.xstep,ct=this.ystep,b=this.paintType,$=this.tilingType,lt=this.color,vt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+$);const Et=j[0],Mt=j[1],Ot=j[2],Dt=j[3],Wt=a.Util.singularValueDecompose2dScale(this.matrix),Nt=a.Util.singularValueDecompose2dScale(this.baseTransform),Lt=[Wt[0]*Nt[0],Wt[1]*Nt[1]],Rt=this.getSizeAndScale(ut,this.ctx.canvas.width,Lt[0]),It=this.getSizeAndScale(ct,this.ctx.canvas.height,Lt[1]),zt=k.cachedCanvases.getCanvas("pattern",Rt.size,It.size,!0),Vt=zt.context,wt=vt.createCanvasGraphics(Vt);wt.groupLevel=k.groupLevel,this.setFillAndStrokeStyleToContext(wt,b,lt);let dt=Et,ot=Mt,bt=Ot,Pt=Dt;return Et<0&&(dt=0,bt+=Math.abs(Et)),Mt<0&&(ot=0,Pt+=Math.abs(Mt)),Vt.translate(-(Rt.scale*dt),-(It.scale*ot)),wt.transform(Rt.scale,0,0,It.scale,0,0),Vt.save(),this.clipBbox(wt,dt,ot,bt,Pt),wt.baseTransform=(0,c.getCurrentTransform)(wt.ctx),wt.executeOperatorList(_),wt.endDrawing(),{canvas:zt.canvas,scaleX:Rt.scale,scaleY:It.scale,offsetX:dt,offsetY:ot}}getSizeAndScale(k,_,j){k=Math.abs(k);const ut=Math.max(rt.MAX_PATTERN_SIZE,_);let ct=Math.ceil(k*j);return ct>=ut?ct=ut:j=ct/k,{scale:j,size:ct}}clipBbox(k,_,j,ut,ct){const b=ut-_,$=ct-j;k.ctx.rect(_,j,b,$),k.current.updateRectMinMax((0,c.getCurrentTransform)(k.ctx),[_,j,ut,ct]),k.clip(),k.endPath()}setFillAndStrokeStyleToContext(k,_,j){const ut=k.ctx,ct=k.current;switch(_){case h.COLORED:const b=this.ctx;ut.fillStyle=b.fillStyle,ut.strokeStyle=b.strokeStyle,ct.fillColor=b.fillStyle,ct.strokeColor=b.strokeStyle;break;case h.UNCOLORED:const $=a.Util.makeHexColor(j[0],j[1],j[2]);ut.fillStyle=$,ut.strokeStyle=$,ct.fillColor=$,ct.strokeColor=$;break;default:throw new a.FormatError(`Unsupported paint type: ${_}`)}}getPattern(k,_,j,ut){let ct=j;ut!==f.SHADING&&(ct=a.Util.transform(ct,_.baseTransform),this.matrix&&(ct=a.Util.transform(ct,this.matrix)));const b=this.createPatternCanvas(_);let $=new DOMMatrix(ct);$=$.translate(b.offsetX,b.offsetY),$=$.scale(1/b.scaleX,1/b.scaleY);const lt=k.createPattern(b.canvas,"repeat");try{lt.setTransform($)}catch(vt){(0,a.warn)(`TilingPattern.getPattern: "${vt==null?void 0:vt.message}".`)}return lt}}s.TilingPattern=rt},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=c;var a=o(1);function c({src:d,srcPos:f=0,dest:st,destPos:nt=0,width:_e,height:ht,inverseDecode:ft=!1}){const it=a.FeatureTest.isLittleEndian?4278190080:255,[at,et]=ft?[0,it]:[it,0],h=_e>>3,rt=_e&7,g=d.length;st=new Uint32Array(st.buffer);for(let k=0;k<ht;k++){for(const j=f+h;f<j;f++){const ut=f<g?d[f]:255;st[nt++]=ut&128?et:at,st[nt++]=ut&64?et:at,st[nt++]=ut&32?et:at,st[nt++]=ut&16?et:at,st[nt++]=ut&8?et:at,st[nt++]=ut&4?et:at,st[nt++]=ut&2?et:at,st[nt++]=ut&1?et:at}if(rt===0)continue;const _=f<g?d[f++]:255;for(let j=0;j<rt;j++)st[nt++]=_&1<<7-j?et:at}return{srcPos:f,destPos:nt}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const o=Object.create(null);s.GlobalWorkerOptions=o,o.workerPort=o.workerPort===void 0?null:o.workerPort,o.workerSrc=o.workerSrc===void 0?"":o.workerSrc},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=o(1);const c={DATA:1,ERROR:2},d={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(nt){switch(nt instanceof Error||typeof nt=="object"&&nt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),nt.name){case"AbortException":return new a.AbortException(nt.message);case"MissingPDFException":return new a.MissingPDFException(nt.message);case"PasswordException":return new a.PasswordException(nt.message,nt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(nt.message,nt.status);case"UnknownErrorException":return new a.UnknownErrorException(nt.message,nt.details);default:return new a.UnknownErrorException(nt.message,nt.toString())}}class st{constructor(_e,ht,ft){this.sourceName=_e,this.targetName=ht,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const at=it.data;if(at.targetName!==this.sourceName)return;if(at.stream){this._processStreamMessage(at);return}if(at.callback){const h=at.callbackId,rt=this.callbackCapabilities[h];if(!rt)throw new Error(`Cannot resolve callback ${h}`);if(delete this.callbackCapabilities[h],at.callback===c.DATA)rt.resolve(at.data);else if(at.callback===c.ERROR)rt.reject(f(at.reason));else throw new Error("Unexpected callback case");return}const et=this.actionHandler[at.action];if(!et)throw new Error(`Unknown action from worker: ${at.action}`);if(at.callbackId){const h=this.sourceName,rt=at.sourceName;new Promise(function(g){g(et(at.data))}).then(function(g){ft.postMessage({sourceName:h,targetName:rt,callback:c.DATA,callbackId:at.callbackId,data:g})},function(g){ft.postMessage({sourceName:h,targetName:rt,callback:c.ERROR,callbackId:at.callbackId,reason:f(g)})});return}if(at.streamId){this._createStreamSink(at);return}et(at.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(_e,ht){const ft=this.actionHandler;if(ft[_e])throw new Error(`There is already an actionName called "${_e}"`);ft[_e]=ht}send(_e,ht,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,data:ht},ft)}sendWithPromise(_e,ht,ft){const it=this.callbackId++,at=(0,a.createPromiseCapability)();this.callbackCapabilities[it]=at;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,callbackId:it,data:ht},ft)}catch(et){at.reject(et)}return at.promise}sendWithStream(_e,ht,ft,it){const at=this.streamId++,et=this.sourceName,h=this.targetName,rt=this.comObj;return new ReadableStream({start:g=>{const k=(0,a.createPromiseCapability)();return this.streamControllers[at]={controller:g,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},rt.postMessage({sourceName:et,targetName:h,action:_e,streamId:at,data:ht,desiredSize:g.desiredSize},it),k.promise},pull:g=>{const k=(0,a.createPromiseCapability)();return this.streamControllers[at].pullCall=k,rt.postMessage({sourceName:et,targetName:h,stream:d.PULL,streamId:at,desiredSize:g.desiredSize}),k.promise},cancel:g=>{(0,a.assert)(g instanceof Error,"cancel must have a valid reason");const k=(0,a.createPromiseCapability)();return this.streamControllers[at].cancelCall=k,this.streamControllers[at].isClosed=!0,rt.postMessage({sourceName:et,targetName:h,stream:d.CANCEL,streamId:at,reason:f(g)}),k.promise}},ft)}_createStreamSink(_e){const ht=_e.streamId,ft=this.sourceName,it=_e.sourceName,at=this.comObj,et=this,h=this.actionHandler[_e.action],rt={enqueue(g,k=1,_){if(this.isCancelled)return;const j=this.desiredSize;this.desiredSize-=k,j>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),at.postMessage({sourceName:ft,targetName:it,stream:d.ENQUEUE,streamId:ht,chunk:g},_)},close(){this.isCancelled||(this.isCancelled=!0,at.postMessage({sourceName:ft,targetName:it,stream:d.CLOSE,streamId:ht}),delete et.streamSinks[ht])},error(g){(0,a.assert)(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,at.postMessage({sourceName:ft,targetName:it,stream:d.ERROR,streamId:ht,reason:f(g)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_e.desiredSize,ready:null};rt.sinkCapability.resolve(),rt.ready=rt.sinkCapability.promise,this.streamSinks[ht]=rt,new Promise(function(g){g(h(_e.data,rt))}).then(function(){at.postMessage({sourceName:ft,targetName:it,stream:d.START_COMPLETE,streamId:ht,success:!0})},function(g){at.postMessage({sourceName:ft,targetName:it,stream:d.START_COMPLETE,streamId:ht,reason:f(g)})})}_processStreamMessage(_e){const ht=_e.streamId,ft=this.sourceName,it=_e.sourceName,at=this.comObj,et=this.streamControllers[ht],h=this.streamSinks[ht];switch(_e.stream){case d.START_COMPLETE:_e.success?et.startCall.resolve():et.startCall.reject(f(_e.reason));break;case d.PULL_COMPLETE:_e.success?et.pullCall.resolve():et.pullCall.reject(f(_e.reason));break;case d.PULL:if(!h){at.postMessage({sourceName:ft,targetName:it,stream:d.PULL_COMPLETE,streamId:ht,success:!0});break}h.desiredSize<=0&&_e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=_e.desiredSize,new Promise(function(rt){rt(h.onPull&&h.onPull())}).then(function(){at.postMessage({sourceName:ft,targetName:it,stream:d.PULL_COMPLETE,streamId:ht,success:!0})},function(rt){at.postMessage({sourceName:ft,targetName:it,stream:d.PULL_COMPLETE,streamId:ht,reason:f(rt)})});break;case d.ENQUEUE:if((0,a.assert)(et,"enqueue should have stream controller"),et.isClosed)break;et.controller.enqueue(_e.chunk);break;case d.CLOSE:if((0,a.assert)(et,"close should have stream controller"),et.isClosed)break;et.isClosed=!0,et.controller.close(),this._deleteStreamController(et,ht);break;case d.ERROR:(0,a.assert)(et,"error should have stream controller"),et.controller.error(f(_e.reason)),this._deleteStreamController(et,ht);break;case d.CANCEL_COMPLETE:_e.success?et.cancelCall.resolve():et.cancelCall.reject(f(_e.reason)),this._deleteStreamController(et,ht);break;case d.CANCEL:if(!h)break;new Promise(function(rt){rt(h.onCancel&&h.onCancel(f(_e.reason)))}).then(function(){at.postMessage({sourceName:ft,targetName:it,stream:d.CANCEL_COMPLETE,streamId:ht,success:!0})},function(rt){at.postMessage({sourceName:ft,targetName:it,stream:d.CANCEL_COMPLETE,streamId:ht,reason:f(rt)})}),h.sinkCapability.reject(f(_e.reason)),h.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_e,ht){await Promise.allSettled([_e.startCall&&_e.startCall.promise,_e.pullCall&&_e.pullCall.promise,_e.cancelCall&&_e.cancelCall.promise]),delete this.streamControllers[ht]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=st},(i,s,o)=>{var d,f;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=o(1);class c{constructor({parsedData:nt,rawData:_e}){Kt(this,d);Kt(this,f);Qt(this,d,nt),Qt(this,f,_e)}getRaw(){return At(this,f)}get(nt){return At(this,d).get(nt)??null}getAll(){return(0,a.objectFromMap)(At(this,d))}has(nt){return At(this,d).has(nt)}}d=new WeakMap,f=new WeakMap,s.Metadata=c},(i,s,o)=>{var st,nt,_e,ht,ft,it,Qn;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=o(1);const c=Symbol("INTERNAL");class d{constructor(h,rt){Kt(this,st,!0);this.name=h,this.intent=rt}get visible(){return At(this,st)}_setVisible(h,rt){h!==c&&(0,a.unreachable)("Internal method `_setVisible` called."),Qt(this,st,rt)}}st=new WeakMap;class f{constructor(h){Kt(this,it);Kt(this,nt,!0);Kt(this,_e,new Map);Kt(this,ht,null);Kt(this,ft,null);if(this.name=null,this.creator=null,h!==null){this.name=h.name,this.creator=h.creator,Qt(this,ft,h.order);for(const rt of h.groups)At(this,_e).set(rt.id,new d(rt.name,rt.intent));if(h.baseState==="OFF")for(const rt of At(this,_e).values())rt._setVisible(c,!1);for(const rt of h.on)At(this,_e).get(rt)._setVisible(c,!0);for(const rt of h.off)At(this,_e).get(rt)._setVisible(c,!1);Qt(this,ht,new Map);for(const[rt,g]of At(this,_e))At(this,ht).set(rt,g.visible)}}isVisible(h){if(At(this,_e).size===0)return!0;if(!h)return(0,a.warn)("Optional content group not defined."),!0;if(h.type==="OCG")return At(this,_e).has(h.id)?At(this,_e).get(h.id).visible:((0,a.warn)(`Optional content group not found: ${h.id}`),!0);if(h.type==="OCMD"){if(h.expression)return Yt(this,it,Qn).call(this,h.expression);if(!h.policy||h.policy==="AnyOn"){for(const rt of h.ids){if(!At(this,_e).has(rt))return(0,a.warn)(`Optional content group not found: ${rt}`),!0;if(At(this,_e).get(rt).visible)return!0}return!1}else if(h.policy==="AllOn"){for(const rt of h.ids){if(!At(this,_e).has(rt))return(0,a.warn)(`Optional content group not found: ${rt}`),!0;if(!At(this,_e).get(rt).visible)return!1}return!0}else if(h.policy==="AnyOff"){for(const rt of h.ids){if(!At(this,_e).has(rt))return(0,a.warn)(`Optional content group not found: ${rt}`),!0;if(!At(this,_e).get(rt).visible)return!0}return!1}else if(h.policy==="AllOff"){for(const rt of h.ids){if(!At(this,_e).has(rt))return(0,a.warn)(`Optional content group not found: ${rt}`),!0;if(At(this,_e).get(rt).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${h.policy}.`),!0}return(0,a.warn)(`Unknown group type ${h.type}.`),!0}setVisibility(h,rt=!0){if(!At(this,_e).has(h)){(0,a.warn)(`Optional content group not found: ${h}`);return}At(this,_e).get(h)._setVisible(c,!!rt),Qt(this,nt,null)}get hasInitialVisibility(){if(At(this,nt)!==null)return At(this,nt);for(const[h,rt]of At(this,_e)){const g=At(this,ht).get(h);if(rt.visible!==g)return Qt(this,nt,!1)}return Qt(this,nt,!0)}getOrder(){return At(this,_e).size?At(this,ft)?At(this,ft).slice():[...At(this,_e).keys()]:null}getGroups(){return At(this,_e).size>0?(0,a.objectFromMap)(At(this,_e)):null}getGroup(h){return At(this,_e).get(h)||null}}nt=new WeakMap,_e=new WeakMap,ht=new WeakMap,ft=new WeakMap,it=new WeakSet,Qn=function(h){const rt=h.length;if(rt<2)return!0;const g=h[0];for(let k=1;k<rt;k++){const _=h[k];let j;if(Array.isArray(_))j=Yt(this,it,Qn).call(this,_);else if(At(this,_e).has(_))j=At(this,_e).get(_).visible;else return(0,a.warn)(`Optional content group not found: ${_}`),!0;switch(g){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return g==="And"},s.OptionalContentConfig=f},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=o(1),c=o(8);class d{constructor(_e,ht){(0,a.assert)(ht,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=_e.progressiveDone||!1,this._contentDispositionFilename=_e.contentDispositionFilename||null;const ft=_e.initialData;if((ft==null?void 0:ft.length)>0){const it=new Uint8Array(ft).buffer;this._queuedChunks.push(it)}this._pdfDataRangeTransport=ht,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._contentLength=_e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((it,at)=>{this._onReceiveData({begin:it,chunk:at})}),this._pdfDataRangeTransport.addProgressListener((it,at)=>{this._onProgress({loaded:it,total:at})}),this._pdfDataRangeTransport.addProgressiveReadListener(it=>{this._onReceiveData({chunk:it})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(_e){const ht=new Uint8Array(_e.chunk).buffer;if(_e.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ht):this._queuedChunks.push(ht);else{const ft=this._rangeReaders.some(function(it){return it._begin!==_e.begin?!1:(it._enqueue(ht),!0)});(0,a.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var _e;return((_e=this._fullRequestReader)==null?void 0:_e._loaded)??0}_onProgress(_e){if(_e.total===void 0){const ht=this._rangeReaders[0];ht!=null&&ht.onProgress&&ht.onProgress({loaded:_e.loaded})}else{const ht=this._fullRequestReader;ht!=null&&ht.onProgress&&ht.onProgress({loaded:_e.loaded,total:_e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(_e){const ht=this._rangeReaders.indexOf(_e);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const _e=this._queuedChunks;return this._queuedChunks=null,new f(this,_e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(_e,ht){if(ht<=this._progressiveDataLength)return null;const ft=new st(this,_e,ht);return this._pdfDataRangeTransport.requestDataRange(_e,ht),this._rangeReaders.push(ft),ft}cancelAllRequests(_e){this._fullRequestReader&&this._fullRequestReader.cancel(_e);for(const ht of this._rangeReaders.slice(0))ht.cancel(_e);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=d;class f{constructor(_e,ht,ft=!1,it=null){this._stream=_e,this._done=ft||!1,this._filename=(0,c.isPdfFile)(it)?it:null,this._queuedChunks=ht||[],this._loaded=0;for(const at of this._queuedChunks)this._loaded+=at.byteLength;this._requests=[],this._headersReady=Promise.resolve(),_e._fullRequestReader=this,this.onProgress=null}_enqueue(_e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:_e,done:!1}):this._queuedChunks.push(_e),this._loaded+=_e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=(0,a.createPromiseCapability)();return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class st{constructor(_e,ht,ft){this._stream=_e,this._begin=ht,this._end=ft,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(_e){if(!this._done){if(this._requests.length===0)this._queuedChunk=_e;else{this._requests.shift().resolve({value:_e,done:!1});for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=(0,a.createPromiseCapability)();return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class o{static textContent(c){const d=[],f={items:d,styles:Object.create(null)};function st(nt){var ft;if(!nt)return;let _e=null;const ht=nt.name;if(ht==="#text")_e=nt.value;else if(o.shouldBuildText(ht))(ft=nt==null?void 0:nt.attributes)!=null&&ft.textContent?_e=nt.attributes.textContent:nt.value&&(_e=nt.value);else return;if(_e!==null&&d.push({str:_e}),!!nt.children)for(const it of nt.children)st(it)}return st(c),f}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}s.XfaText=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=o(9);const c=function(nt){return new Promise((_e,ht)=>{require$$5.readFile(nt,(it,at)=>{if(it||!at){ht(new Error(it));return}_e(new Uint8Array(at))})})};class d extends a.BaseCanvasFactory{_createCanvas(_e,ht){return require$$5.createCanvas(_e,ht)}}s.NodeCanvasFactory=d;class f extends a.BaseCMapReaderFactory{_fetchData(_e,ht){return c(_e).then(ft=>({cMapData:ft,compressionType:ht}))}}s.NodeCMapReaderFactory=f;class st extends a.BaseStandardFontDataFactory{_fetchData(_e){return c(_e)}}s.NodeStandardFontDataFactory=st},(i,s,o)=>{var nt,_e,ht,ft,it,at,et,h,rt,Zn,mr,Jn,yr;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=o(7),c=o(1),d=o(23),f=o(24);const ut=class ut{constructor(b){Kt(this,rt);Kt(this,nt);Kt(this,_e,!1);Kt(this,ht,this.pointerup.bind(this));Kt(this,ft,this.pointerdown.bind(this));Kt(this,it,new Map);Kt(this,at,!1);Kt(this,et,!1);Kt(this,h);ut._initialized||(ut._initialized=!0,d.FreeTextEditor.initialize(b.l10n),f.InkEditor.initialize(b.l10n),b.uiManager.registerEditorTypes([d.FreeTextEditor,f.InkEditor])),Qt(this,h,b.uiManager),this.annotationStorage=b.annotationStorage,this.pageIndex=b.pageIndex,this.div=b.div,Qt(this,nt,b.accessibilityManager),At(this,h).addLayer(this)}updateToolbar(b){At(this,h).updateToolbar(b)}updateMode(b=At(this,h).getMode()){Yt(this,rt,yr).call(this),b===c.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),At(this,h).unselectAll()}addInkEditorIfNeeded(b){if(!b&&At(this,h).getMode()!==c.AnnotationEditorType.INK)return;if(!b){for(const lt of At(this,it).values())if(lt.isEmpty()){lt.setInBackground();return}}Yt(this,rt,Jn).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(b){At(this,h).setEditingState(b)}addCommands(b){At(this,h).addCommands(b)}enable(){this.div.style.pointerEvents="auto";for(const b of At(this,it).values())b.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const b of At(this,it).values())b.disableEditing()}setActiveEditor(b){At(this,h).getActive()!==b&&At(this,h).setActiveEditor(b)}enableClick(){this.div.addEventListener("pointerdown",At(this,ft)),this.div.addEventListener("pointerup",At(this,ht))}disableClick(){this.div.removeEventListener("pointerdown",At(this,ft)),this.div.removeEventListener("pointerup",At(this,ht))}attach(b){At(this,it).set(b.id,b)}detach(b){var $;At(this,it).delete(b.id),($=At(this,nt))==null||$.removePointerInTextLayer(b.contentDiv)}remove(b){At(this,h).removeEditor(b),this.detach(b),this.annotationStorage.remove(b.id),b.div.style.display="none",setTimeout(()=>{b.div.style.display="",b.div.remove(),b.isAttachedToDOM=!1,document.activeElement===document.body&&At(this,h).focusMainContainer()},0),At(this,et)||this.addInkEditorIfNeeded(!1)}add(b){if(Yt(this,rt,Zn).call(this,b),At(this,h).addEditor(b),this.attach(b),!b.isAttachedToDOM){const $=b.render();this.div.append($),b.isAttachedToDOM=!0}this.moveEditorInDOM(b),b.onceAdded(),this.addToAnnotationStorage(b)}moveEditorInDOM(b){var $;($=At(this,nt))==null||$.moveElementInDOM(this.div,b.div,b.contentDiv,!0)}addToAnnotationStorage(b){!b.isEmpty()&&!this.annotationStorage.has(b.id)&&this.annotationStorage.setValue(b.id,b)}addOrRebuild(b){b.needsToBeRebuilt()?b.rebuild():this.add(b)}addANewEditor(b){const $=()=>{this.addOrRebuild(b)},lt=()=>{b.remove()};this.addCommands({cmd:$,undo:lt,mustExec:!0})}addUndoableEditor(b){const $=()=>{this.addOrRebuild(b)},lt=()=>{b.remove()};this.addCommands({cmd:$,undo:lt,mustExec:!1})}getNextId(){return At(this,h).getId()}deserialize(b){switch(b.annotationType){case c.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(b,this);case c.AnnotationEditorType.INK:return f.InkEditor.deserialize(b,this)}return null}setSelected(b){At(this,h).setSelected(b)}toggleSelected(b){At(this,h).toggleSelected(b)}isSelected(b){return At(this,h).isSelected(b)}unselect(b){At(this,h).unselect(b)}pointerup(b){const $=a.KeyboardManager.platform.isMac;if(!(b.button!==0||b.ctrlKey&&$)&&b.target===this.div&&At(this,at)){if(Qt(this,at,!1),!At(this,_e)){Qt(this,_e,!0);return}Yt(this,rt,Jn).call(this,b)}}pointerdown(b){const $=a.KeyboardManager.platform.isMac;if(b.button!==0||b.ctrlKey&&$||b.target!==this.div)return;Qt(this,at,!0);const lt=At(this,h).getActive();Qt(this,_e,!lt||lt.isEmpty())}drop(b){const $=b.dataTransfer.getData("text/plain"),lt=At(this,h).getEditor($);if(!lt)return;b.preventDefault(),b.dataTransfer.dropEffect="move",Yt(this,rt,Zn).call(this,lt);const vt=this.div.getBoundingClientRect(),Et=b.clientX-vt.x,Mt=b.clientY-vt.y;lt.translate(Et-lt.startX,Mt-lt.startY),this.moveEditorInDOM(lt),lt.div.focus()}dragover(b){b.preventDefault()}destroy(){var b,$;((b=At(this,h).getActive())==null?void 0:b.parent)===this&&At(this,h).setActiveEditor(null);for(const lt of At(this,it).values())($=At(this,nt))==null||$.removePointerInTextLayer(lt.contentDiv),lt.isAttachedToDOM=!1,lt.div.remove(),lt.parent=null;this.div=null,At(this,it).clear(),At(this,h).removeLayer(this)}render(b){this.viewport=b.viewport,(0,a.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const $ of At(this,h).getEditors(this.pageIndex))this.add($);this.updateMode()}update(b){this.viewport=b.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[b,$,lt,vt]=this.viewport.viewBox,Et=lt-b,Mt=vt-$;return[Et,Mt]}get viewportBaseDimensions(){const{width:b,height:$,rotation:lt}=this.viewport;return lt%180===0?[b,$]:[$,b]}setDimensions(){const{width:b,height:$,rotation:lt}=this.viewport,vt=lt%180!==0,Et=Math.floor(b)+"px",Mt=Math.floor($)+"px";this.div.style.width=vt?Mt:Et,this.div.style.height=vt?Et:Mt,this.div.setAttribute("data-main-rotation",lt)}};nt=new WeakMap,_e=new WeakMap,ht=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,et=new WeakMap,h=new WeakMap,rt=new WeakSet,Zn=function(b){var $;b.parent!==this&&(this.attach(b),b.pageIndex=this.pageIndex,($=b.parent)==null||$.detach(b),b.parent=this,b.div&&b.isAttachedToDOM&&(b.div.remove(),this.div.append(b.div)))},mr=function(b){switch(At(this,h).getMode()){case c.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(b);case c.AnnotationEditorType.INK:return new f.InkEditor(b)}return null},Jn=function(b){const $=this.getNextId(),lt=Yt(this,rt,mr).call(this,{parent:this,id:$,x:b.offsetX,y:b.offsetY});return lt&&this.add(lt),lt},yr=function(){Qt(this,et,!0);for(const b of At(this,it).values())b.isEmpty()&&b.remove();Qt(this,et,!1)},pn(ut,"_initialized",!1);let st=ut;s.AnnotationEditorLayer=st},(i,s,o)=>{var st,nt,_e,ht,ft,it,at,et,vr,_r,Sr,er;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=o(1),c=o(7),d=o(6);const _=class _ extends d.AnnotationEditor{constructor(ct){super({...ct,name:"freeTextEditor"});Kt(this,et);Kt(this,st,this.editorDivBlur.bind(this));Kt(this,nt,this.editorDivFocus.bind(this));Kt(this,_e,this.editorDivKeydown.bind(this));Kt(this,ht);Kt(this,ft,"");Kt(this,it,!1);Kt(this,at);Qt(this,ht,ct.color||_._defaultColor||d.AnnotationEditor._defaultLineColor),Qt(this,at,ct.fontSize||_._defaultFontSize)}static initialize(ct){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map($=>[$,ct.get($)]));const b=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(b.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ct,b){switch(ct){case a.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=b;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=b;break}}updateParams(ct,b){switch(ct){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Yt(this,et,vr).call(this,b);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Yt(this,et,_r).call(this,b);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,At(this,at)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,At(this,ht)]]}getInitialTranslation(){return[-_._internalPadding*this.parent.scaleFactor,-(_._internalPadding+At(this,at))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",At(this,_e)),this.editorDiv.addEventListener("focus",At(this,nt)),this.editorDiv.addEventListener("blur",At(this,st)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",At(this,_e)),this.editorDiv.removeEventListener("focus",At(this,nt)),this.editorDiv.removeEventListener("blur",At(this,st)),this.div.focus(),this.isEditing=!1)}focusin(ct){super.focusin(ct),ct.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),At(this,it)||(Qt(this,it,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Qt(this,ft,Yt(this,et,Sr).call(this).trimEnd()),Yt(this,et,er).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ct){this.enableEditMode(),this.editorDiv.focus()}keydown(ct){ct.target===this.div&&ct.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ct){_._keyboardManager.exec(this,ct)}editorDivFocus(ct){this.isEditing=!0}editorDivBlur(ct){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ct,b;this.width&&(ct=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),_._l10nPromise.get("editor_free_text_aria_label").then(lt=>{var vt;return(vt=this.editorDiv)==null?void 0:vt.setAttribute("aria-label",lt)}),_._l10nPromise.get("free_text_default_content").then(lt=>{var vt;return(vt=this.editorDiv)==null?void 0:vt.setAttribute("default-content",lt)}),this.editorDiv.contentEditable=!0;const{style:$}=this.editorDiv;if($.fontSize=`calc(${At(this,at)}px * var(--scale-factor))`,$.color=At(this,ht),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[lt,vt]=this.parent.viewportBaseDimensions;this.setAt(ct*lt,b*vt,this.width*lt,this.height*vt);for(const Et of At(this,ft).split(`
`)){const Mt=document.createElement("div");Mt.append(Et?document.createTextNode(Et):document.createElement("br")),this.editorDiv.append(Mt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ct,b){const $=super.deserialize(ct,b);return Qt($,at,ct.fontSize),Qt($,ht,a.Util.makeHexColor(...ct.color)),Qt($,ft,ct.value),$}serialize(){if(this.isEmpty())return null;const ct=_._internalPadding*this.parent.scaleFactor,b=this.getRect(ct,ct),$=d.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:a.AnnotationEditorType.FREETEXT,color:$,fontSize:At(this,at),value:At(this,ft),pageIndex:this.parent.pageIndex,rect:b,rotation:this.rotation}}};st=new WeakMap,nt=new WeakMap,_e=new WeakMap,ht=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,et=new WeakSet,vr=function(ct){const b=lt=>{this.editorDiv.style.fontSize=`calc(${lt}px * var(--scale-factor))`,this.translate(0,-(lt-At(this,at))*this.parent.scaleFactor),Qt(this,at,lt),Yt(this,et,er).call(this)},$=At(this,at);this.parent.addCommands({cmd:()=>{b(ct)},undo:()=>{b($)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_r=function(ct){const b=At(this,ht);this.parent.addCommands({cmd:()=>{Qt(this,ht,ct),this.editorDiv.style.color=ct},undo:()=>{Qt(this,ht,b),this.editorDiv.style.color=b},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sr=function(){const ct=this.editorDiv.getElementsByTagName("div");if(ct.length===0)return this.editorDiv.innerText;const b=[];for(let $=0,lt=ct.length;$<lt;$++){const Et=ct[$].firstChild;(Et==null?void 0:Et.nodeName)==="#text"?b.push(Et.data):b.push("")}return b.join(`
`)},er=function(){const[ct,b]=this.parent.viewportBaseDimensions,$=this.div.getBoundingClientRect();this.width=$.width/ct,this.height=$.height/b},pn(_,"_freeTextDefaultContent",""),pn(_,"_l10nPromise"),pn(_,"_internalPadding",0),pn(_,"_defaultColor",null),pn(_,"_defaultFontSize",10),pn(_,"_keyboardManager",new c.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_.prototype.commitOrRemove]])),pn(_,"_type","freetext");let f=_;s.FreeTextEditor=f},(i,s,o)=>{var _e,ht,ft,it,at,et,h,rt,g,k,_,j,ut,ct,b,Er,Ar,br,wr,tr,kr,xr,Cr,_n,nr,jn,Un,Tn,rr,zn,dt,ir,Tr,Pr,Rr,sr,Bn,Pn,or;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return d.fitCurve}});var a=o(1),c=o(6),d=o(25),f=o(7);const st=16,mt=class mt extends c.AnnotationEditor{constructor(St){super({...St,name:"inkEditor"});Kt(this,b);Kt(this,_e,0);Kt(this,ht,0);Kt(this,ft,0);Kt(this,it,this.canvasPointermove.bind(this));Kt(this,at,this.canvasPointerleave.bind(this));Kt(this,et,this.canvasPointerup.bind(this));Kt(this,h,this.canvasPointerdown.bind(this));Kt(this,rt,!1);Kt(this,g,!1);Kt(this,k,null);Kt(this,_,null);Kt(this,j,0);Kt(this,ut,0);Kt(this,ct,null);this.color=St.color||null,this.thickness=St.thickness||null,this.opacity=St.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(St){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(gt=>[gt,St.get(gt)]))}static updateDefaultParams(St,gt){switch(St){case a.AnnotationEditorParamsType.INK_THICKNESS:mt._defaultThickness=gt;break;case a.AnnotationEditorParamsType.INK_COLOR:mt._defaultColor=gt;break;case a.AnnotationEditorParamsType.INK_OPACITY:mt._defaultOpacity=gt/100;break}}updateParams(St,gt){switch(St){case a.AnnotationEditorParamsType.INK_THICKNESS:Yt(this,b,Er).call(this,gt);break;case a.AnnotationEditorParamsType.INK_COLOR:Yt(this,b,Ar).call(this,gt);break;case a.AnnotationEditorParamsType.INK_OPACITY:Yt(this,b,br).call(this,gt);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,mt._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,mt._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(mt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||mt._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||mt._defaultColor||c.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??mt._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Yt(this,b,jn).call(this),Yt(this,b,Un).call(this)),this.isAttachedToDOM||(this.parent.add(this),Yt(this,b,Tn).call(this)),Yt(this,b,Pn).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,At(this,_).disconnect(),Qt(this,_,null),super.remove())}enableEditMode(){At(this,rt)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",At(this,h)),this.canvas.addEventListener("pointerup",At(this,et)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",At(this,h)),this.canvas.removeEventListener("pointerup",At(this,et)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){At(this,rt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Qt(this,rt,!0),this.div.classList.add("disabled"),Yt(this,b,Pn).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(St){super.focusin(St),this.enableEditMode()}canvasPointerdown(St){St.button!==0||!this.isInEditMode()||At(this,rt)||(this.setInForeground(),St.type!=="mouse"&&this.div.focus(),St.stopPropagation(),this.canvas.addEventListener("pointerleave",At(this,at)),this.canvas.addEventListener("pointermove",At(this,it)),Yt(this,b,kr).call(this,St.offsetX,St.offsetY))}canvasPointermove(St){St.stopPropagation(),Yt(this,b,xr).call(this,St.offsetX,St.offsetY)}canvasPointerup(St){St.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(St.stopPropagation(),Yt(this,b,nr).call(this,St),this.setInBackground())}canvasPointerleave(St){Yt(this,b,nr).call(this,St),this.setInBackground()}render(){if(this.div)return this.div;let St,gt;this.width&&(St=this.x,gt=this.y),super.render(),mt._l10nPromise.get("editor_ink_aria_label").then(Ht=>{var qt;return(qt=this.div)==null?void 0:qt.setAttribute("aria-label",Ht)});const[xt,$t,Ft,Bt]=Yt(this,b,wr).call(this);if(this.setAt(xt,$t,0,0),this.setDims(Ft,Bt),Yt(this,b,jn).call(this),this.width){const[Ht,qt]=this.parent.viewportBaseDimensions;this.setAt(St*Ht,gt*qt,this.width*Ht,this.height*qt),Qt(this,g,!0),Yt(this,b,Tn).call(this),this.setDims(this.width*Ht,this.height*qt),Yt(this,b,_n).call(this),Yt(this,b,or).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Yt(this,b,Un).call(this),this.div}setDimensions(St,gt){const xt=Math.round(St),$t=Math.round(gt);if(At(this,j)===xt&&At(this,ut)===$t)return;Qt(this,j,xt),Qt(this,ut,$t),this.canvas.style.visibility="hidden",At(this,_e)&&Math.abs(At(this,_e)-St/gt)>.01&&(gt=Math.ceil(St/At(this,_e)),this.setDims(St,gt));const[Ft,Bt]=this.parent.viewportBaseDimensions;this.width=St/Ft,this.height=gt/Bt,At(this,rt)&&Yt(this,b,rr).call(this,St,gt),Yt(this,b,Tn).call(this),Yt(this,b,_n).call(this),this.canvas.style.visibility="visible"}static deserialize(St,gt){var rn,tn;const xt=super.deserialize(St,gt);xt.thickness=St.thickness,xt.color=a.Util.makeHexColor(...St.color),xt.opacity=St.opacity;const[$t,Ft]=gt.pageDimensions,Bt=xt.width*$t,Ht=xt.height*Ft,qt=gt.scaleFactor,Zt=St.thickness/2;Qt(xt,_e,Bt/Ht),Qt(xt,rt,!0),Qt(xt,j,Math.round(Bt)),Qt(xt,ut,Math.round(Ht));for(const{bezier:en}of St.paths){const sn=[];xt.paths.push(sn);let on=qt*(en[0]-Zt),hn=qt*(Ht-en[1]-Zt);for(let fn=2,cn=en.length;fn<cn;fn+=6){const un=qt*(en[fn]-Zt),Sn=qt*(Ht-en[fn+1]-Zt),wn=qt*(en[fn+2]-Zt),kn=qt*(Ht-en[fn+3]-Zt),Gt=qt*(en[fn+4]-Zt),jt=qt*(Ht-en[fn+5]-Zt);sn.push([[on,hn],[un,Sn],[wn,kn],[Gt,jt]]),on=Gt,hn=jt}const an=Yt(this,dt,ir).call(this,sn);xt.bezierPath2D.push(an)}const Xt=Yt(rn=xt,b,sr).call(rn);return Qt(xt,ft,Math.max(st,Xt[2]-Xt[0])),Qt(xt,ht,Math.max(st,Xt[3]-Xt[1])),Yt(tn=xt,b,rr).call(tn,Bt,Ht),xt}serialize(){if(this.isEmpty())return null;const St=this.getRect(0,0),gt=this.rotation%180===0?St[3]-St[1]:St[2]-St[0],xt=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:xt,thickness:this.thickness,opacity:this.opacity,paths:Yt(this,b,Tr).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,gt),pageIndex:this.parent.pageIndex,rect:St,rotation:this.rotation}}};_e=new WeakMap,ht=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,et=new WeakMap,h=new WeakMap,rt=new WeakMap,g=new WeakMap,k=new WeakMap,_=new WeakMap,j=new WeakMap,ut=new WeakMap,ct=new WeakMap,b=new WeakSet,Er=function(St){const gt=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=St,Yt(this,b,Pn).call(this)},undo:()=>{this.thickness=gt,Yt(this,b,Pn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ar=function(St){const gt=this.color;this.parent.addCommands({cmd:()=>{this.color=St,Yt(this,b,_n).call(this)},undo:()=>{this.color=gt,Yt(this,b,_n).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},br=function(St){St/=100;const gt=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=St,Yt(this,b,_n).call(this)},undo:()=>{this.opacity=gt,Yt(this,b,_n).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wr=function(){const{width:St,height:gt,rotation:xt}=this.parent.viewport;switch(xt){case 90:return[0,St,St,gt];case 180:return[St,gt,St,gt];case 270:return[gt,0,St,gt];default:return[0,0,St,gt]}},tr=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,f.opacityToHex)(this.opacity)}`},kr=function(St,gt){this.isEditing=!0,At(this,g)||(Qt(this,g,!0),Yt(this,b,Tn).call(this),this.thickness||(this.thickness=mt._defaultThickness),this.color||(this.color=mt._defaultColor||c.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=mt._defaultOpacity)),this.currentPath.push([St,gt]),Qt(this,k,null),Yt(this,b,tr).call(this),this.ctx.beginPath(),this.ctx.moveTo(St,gt),Qt(this,ct,()=>{At(this,ct)&&(At(this,k)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Yt(this,b,_n).call(this),this.ctx.lineTo(...At(this,k)),Qt(this,k,null),this.ctx.stroke()),window.requestAnimationFrame(At(this,ct)))}),window.requestAnimationFrame(At(this,ct))},xr=function(St,gt){const[xt,$t]=this.currentPath.at(-1);St===xt&&gt===$t||(this.currentPath.push([St,gt]),Qt(this,k,[St,gt]))},Cr=function(St,gt){var Zt;this.ctx.closePath(),Qt(this,ct,null),St=Math.min(Math.max(St,0),this.canvas.width),gt=Math.min(Math.max(gt,0),this.canvas.height);const[xt,$t]=this.currentPath.at(-1);(St!==xt||gt!==$t)&&this.currentPath.push([St,gt]);let Ft;if(this.currentPath.length!==1)Ft=(0,d.fitCurve)(this.currentPath,30,null);else{const Xt=[St,gt];Ft=[[Xt,Xt.slice(),Xt.slice(),Xt]]}const Bt=Yt(Zt=mt,dt,ir).call(Zt,Ft);this.currentPath.length=0;const Ht=()=>{this.paths.push(Ft),this.bezierPath2D.push(Bt),this.rebuild()},qt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Yt(this,b,jn).call(this),Yt(this,b,Un).call(this)),Yt(this,b,Pn).call(this))};this.parent.addCommands({cmd:Ht,undo:qt,mustExec:!0})},_n=function(){if(this.isEmpty()){Yt(this,b,zn).call(this);return}Yt(this,b,tr).call(this);const{canvas:St,ctx:gt}=this;gt.setTransform(1,0,0,1,0,0),gt.clearRect(0,0,St.width,St.height),Yt(this,b,zn).call(this);for(const xt of this.bezierPath2D)gt.stroke(xt)},nr=function(St){Yt(this,b,Cr).call(this,St.offsetX,St.offsetY),this.canvas.removeEventListener("pointerleave",At(this,at)),this.canvas.removeEventListener("pointermove",At(this,it)),this.parent.addToAnnotationStorage(this)},jn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",mt._l10nPromise.get("editor_ink_canvas_aria_label").then(St=>{var gt;return(gt=this.canvas)==null?void 0:gt.setAttribute("aria-label",St)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Un=function(){Qt(this,_,new ResizeObserver(St=>{const gt=St[0].contentRect;gt.width&&gt.height&&this.setDimensions(gt.width,gt.height)})),At(this,_).observe(this.div)},Tn=function(){if(!At(this,g))return;const[St,gt]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*St),this.canvas.height=Math.ceil(this.height*gt),Yt(this,b,zn).call(this)},rr=function(St,gt){const xt=Yt(this,b,Bn).call(this),$t=(St-xt)/At(this,ft),Ft=(gt-xt)/At(this,ht);this.scaleFactor=Math.min($t,Ft)},zn=function(){const St=Yt(this,b,Bn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+St,this.translationY*this.scaleFactor+St)},dt=new WeakSet,ir=function(St){const gt=new Path2D;for(let xt=0,$t=St.length;xt<$t;xt++){const[Ft,Bt,Ht,qt]=St[xt];xt===0&&gt.moveTo(...Ft),gt.bezierCurveTo(Bt[0],Bt[1],Ht[0],Ht[1],qt[0],qt[1])}return gt},Tr=function(St,gt,xt,$t){const Bt=[],Ht=this.thickness/2;let qt,Zt;for(const Xt of this.paths){qt=[],Zt=[];for(let rn=0,tn=Xt.length;rn<tn;rn++){const[en,sn,on,hn]=Xt[rn],an=St*(en[0]+gt)+Ht,fn=$t-St*(en[1]+xt)-Ht,cn=St*(sn[0]+gt)+Ht,un=$t-St*(sn[1]+xt)-Ht,Sn=St*(on[0]+gt)+Ht,wn=$t-St*(on[1]+xt)-Ht,kn=St*(hn[0]+gt)+Ht,Gt=$t-St*(hn[1]+xt)-Ht;rn===0&&(qt.push(an,fn),Zt.push(an,fn)),qt.push(cn,un,Sn,wn,kn,Gt),Yt(this,b,Pr).call(this,an,fn,cn,un,Sn,wn,kn,Gt,4,Zt)}Bt.push({bezier:qt,points:Zt})}return Bt},Pr=function(St,gt,xt,$t,Ft,Bt,Ht,qt,Zt,Xt){if(Yt(this,b,Rr).call(this,St,gt,xt,$t,Ft,Bt,Ht,qt)){Xt.push(Ht,qt);return}for(let rn=1;rn<Zt-1;rn++){const tn=rn/Zt,en=1-tn;let sn=tn*St+en*xt,on=tn*gt+en*$t,hn=tn*xt+en*Ft,an=tn*$t+en*Bt;const fn=tn*Ft+en*Ht,cn=tn*Bt+en*qt;sn=tn*sn+en*hn,on=tn*on+en*an,hn=tn*hn+en*fn,an=tn*an+en*cn,sn=tn*sn+en*hn,on=tn*on+en*an,Xt.push(sn,on)}Xt.push(Ht,qt)},Rr=function(St,gt,xt,$t,Ft,Bt,Ht,qt){const Xt=(3*xt-2*St-Ht)**2,rn=(3*$t-2*gt-qt)**2,tn=(3*Ft-St-2*Ht)**2,en=(3*Bt-gt-2*qt)**2;return Math.max(Xt,tn)+Math.max(rn,en)<=10},sr=function(){let St=1/0,gt=-1/0,xt=1/0,$t=-1/0;for(const Ft of this.paths)for(const[Bt,Ht,qt,Zt]of Ft){const Xt=a.Util.bezierBoundingBox(...Bt,...Ht,...qt,...Zt);St=Math.min(St,Xt[0]),xt=Math.min(xt,Xt[1]),gt=Math.max(gt,Xt[2]),$t=Math.max($t,Xt[3])}return[St,xt,gt,$t]},Bn=function(){return At(this,rt)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Pn=function(St=!1){if(this.isEmpty())return;if(!At(this,rt)){Yt(this,b,_n).call(this);return}const gt=Yt(this,b,sr).call(this),xt=Yt(this,b,Bn).call(this);Qt(this,ft,Math.max(st,gt[2]-gt[0])),Qt(this,ht,Math.max(st,gt[3]-gt[1]));const $t=Math.ceil(xt+At(this,ft)*this.scaleFactor),Ft=Math.ceil(xt+At(this,ht)*this.scaleFactor),[Bt,Ht]=this.parent.viewportBaseDimensions;this.width=$t/Bt,this.height=Ft/Ht,Qt(this,_e,$t/Ft),Yt(this,b,or).call(this);const qt=this.translationX,Zt=this.translationY;this.translationX=-gt[0],this.translationY=-gt[1],Yt(this,b,Tn).call(this),Yt(this,b,_n).call(this),Qt(this,j,$t),Qt(this,ut,Ft),this.setDims($t,Ft);const Xt=St?xt/this.scaleFactor/2:0;this.translate(qt-this.translationX-Xt,Zt-this.translationY-Xt)},or=function(){const{style:St}=this.div;At(this,_e)>=1?(St.minHeight=`${st}px`,St.minWidth=`${Math.round(At(this,_e)*st)}px`):(St.minWidth=`${st}px`,St.minHeight=`${Math.round(st/At(this,_e))}px`)},Kt(mt,dt),pn(mt,"_defaultColor",null),pn(mt,"_defaultOpacity",1),pn(mt,"_defaultThickness",1),pn(mt,"_l10nPromise"),pn(mt,"_type","ink");let nt=mt;s.InkEditor=nt},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const a=o(26);s.fitCurve=a},i=>{function s(et,h,rt){if(!Array.isArray(et))throw new TypeError("First argument should be an array");if(et.forEach(j=>{if(!Array.isArray(j)||j.some(ut=>typeof ut!="number")||j.length!==et[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),et=et.filter((j,ut)=>ut===0||!j.every((ct,b)=>ct===et[ut-1][b])),et.length<2)return[];const g=et.length,k=ft(et[1],et[0]),_=ft(et[g-2],et[g-1]);return o(et,k,_,h,rt)}function o(et,h,rt,g,k){var j,ut,ct,b,$,lt,vt,Et,Mt,Ot,Dt,Wt,Nt;if(et.length===2)return Wt=it.vectorLen(it.subtract(et[0],et[1]))/3,j=[et[0],it.addArrays(et[0],it.mulItems(h,Wt)),it.addArrays(et[1],it.mulItems(rt,Wt)),et[1]],[j];if(ut=st(et),[j,b,lt]=a(et,ut,ut,h,rt,k),b===0||b<g)return[j];if(b<g*g)for(ct=ut,$=b,vt=lt,Nt=0;Nt<20;Nt++){if(ct=d(j,et,ct),[j,b,lt]=a(et,ut,ct,h,rt,k),b<g)return[j];if(lt===vt){let Lt=b/$;if(Lt>.9999&&Lt<1.0001)break}$=b,vt=lt}return Dt=[],Et=it.subtract(et[lt-1],et[lt+1]),Et.every(Lt=>Lt===0)&&(Et=it.subtract(et[lt-1],et[lt]),[Et[0],Et[1]]=[-Et[1],Et[0]]),Mt=it.normalize(Et),Ot=it.mulItems(Mt,-1),Dt=Dt.concat(o(et.slice(0,lt+1),h,Mt,g,k)),Dt=Dt.concat(o(et.slice(lt),Ot,rt,g,k)),Dt}function a(et,h,rt,g,k,_){var j,ut,ct;return j=c(et,rt,g,k),[ut,ct]=nt(et,j,h),_&&_({bez:j,points:et,params:h,maxErr:ut,maxPoint:ct}),[j,ut,ct]}function c(et,h,rt,g){var k,_,j,ut,ct,b,$,lt,vt,Et,Mt,Ot,Dt,Wt,Nt,Lt,Rt,It=et[0],zt=et[et.length-1];for(k=[It,null,null,zt],_=it.zeros_Xx2x2(h.length),Dt=0,Wt=h.length;Dt<Wt;Dt++)Lt=h[Dt],Rt=1-Lt,j=_[Dt],j[0]=it.mulItems(rt,3*Lt*(Rt*Rt)),j[1]=it.mulItems(g,3*Rt*(Lt*Lt));for(ut=[[0,0],[0,0]],ct=[0,0],Dt=0,Wt=et.length;Dt<Wt;Dt++)Lt=h[Dt],j=_[Dt],ut[0][0]+=it.dot(j[0],j[0]),ut[0][1]+=it.dot(j[0],j[1]),ut[1][0]+=it.dot(j[0],j[1]),ut[1][1]+=it.dot(j[1],j[1]),Nt=it.subtract(et[Dt],at.q([It,It,zt,zt],Lt)),ct[0]+=it.dot(j[0],Nt),ct[1]+=it.dot(j[1],Nt);return b=ut[0][0]*ut[1][1]-ut[1][0]*ut[0][1],$=ut[0][0]*ct[1]-ut[1][0]*ct[0],lt=ct[0]*ut[1][1]-ct[1]*ut[0][1],vt=b===0?0:lt/b,Et=b===0?0:$/b,Ot=it.vectorLen(it.subtract(It,zt)),Mt=1e-6*Ot,vt<Mt||Et<Mt?(k[1]=it.addArrays(It,it.mulItems(rt,Ot/3)),k[2]=it.addArrays(zt,it.mulItems(g,Ot/3))):(k[1]=it.addArrays(It,it.mulItems(rt,vt)),k[2]=it.addArrays(zt,it.mulItems(g,Et))),k}function d(et,h,rt){return rt.map((g,k)=>f(et,h[k],g))}function f(et,h,rt){var g=it.subtract(at.q(et,rt),h),k=at.qprime(et,rt),_=it.mulMatrix(g,k),j=it.sum(it.squareItems(k))+2*it.mulMatrix(g,at.qprimeprime(et,rt));return j===0?rt:rt-_/j}function st(et){var h=[],rt,g,k;return et.forEach((_,j)=>{rt=j?g+it.vectorLen(it.subtract(_,k)):0,h.push(rt),g=rt,k=_}),h=h.map(_=>_/g),h}function nt(et,h,rt){var g,k,_,j,ut,ct,b,$;k=0,_=Math.floor(et.length/2);const lt=_e(h,10);for(ut=0,ct=et.length;ut<ct;ut++)b=et[ut],$=ht(h,rt[ut],lt,10),j=it.subtract(at.q(h,$),b),g=j[0]*j[0]+j[1]*j[1],g>k&&(k=g,_=ut);return[k,_]}var _e=function(et,h){for(var rt,g=[0],k=et[0],_=0,j=1;j<=h;j++)rt=at.q(et,j/h),_+=it.vectorLen(it.subtract(rt,k)),g.push(_),k=rt;return g=g.map(ut=>ut/_),g};function ht(et,h,rt,g){if(h<0)return 0;if(h>1)return 1;for(var k,_,j,ut,ct,b=1;b<=g;b++)if(h<=rt[b]){ut=(b-1)/g,j=b/g,_=rt[b-1],k=rt[b],ct=(h-_)/(k-_)*(j-ut)+ut;break}return ct}function ft(et,h){return it.normalize(it.subtract(et,h))}class it{static zeros_Xx2x2(h){for(var rt=[];h--;)rt.push([0,0]);return rt}static mulItems(h,rt){return h.map(g=>g*rt)}static mulMatrix(h,rt){return h.reduce((g,k,_)=>g+k*rt[_],0)}static subtract(h,rt){return h.map((g,k)=>g-rt[k])}static addArrays(h,rt){return h.map((g,k)=>g+rt[k])}static addItems(h,rt){return h.map(g=>g+rt)}static sum(h){return h.reduce((rt,g)=>rt+g)}static dot(h,rt){return it.mulMatrix(h,rt)}static vectorLen(h){return Math.hypot(...h)}static divItems(h,rt){return h.map(g=>g/rt)}static squareItems(h){return h.map(rt=>rt*rt)}static normalize(h){return this.divItems(h,this.vectorLen(h))}}class at{static q(h,rt){var g=1-rt,k=it.mulItems(h[0],g*g*g),_=it.mulItems(h[1],3*g*g*rt),j=it.mulItems(h[2],3*g*rt*rt),ut=it.mulItems(h[3],rt*rt*rt);return it.addArrays(it.addArrays(k,_),it.addArrays(j,ut))}static qprime(h,rt){var g=1-rt,k=it.mulItems(it.subtract(h[1],h[0]),3*g*g),_=it.mulItems(it.subtract(h[2],h[1]),6*g*rt),j=it.mulItems(it.subtract(h[3],h[2]),3*rt*rt);return it.addArrays(it.addArrays(k,_),j)}static qprimeprime(h,rt){return it.addArrays(it.mulItems(it.addArrays(it.subtract(h[2],it.mulItems(h[1],2)),h[0]),6*(1-rt)),it.mulItems(it.addArrays(it.subtract(h[3],it.mulItems(h[2],2)),h[1]),6*rt))}}i.exports=s,i.exports.fitCubic=o,i.exports.createTangent=ft},(i,s,o)=>{var dt,ar,lr,cr;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var a=o(1),c=o(8),d=o(5),f=o(28),st=o(29);const nt=1e3,_e=9,ht=new WeakSet;function ft(Ct){return{width:Ct[2]-Ct[0],height:Ct[3]-Ct[1]}}class it{static create(tt){switch(tt.data.annotationType){case a.AnnotationType.LINK:return new et(tt);case a.AnnotationType.TEXT:return new h(tt);case a.AnnotationType.WIDGET:switch(tt.data.fieldType){case"Tx":return new g(tt);case"Btn":return tt.data.radioButton?new _(tt):tt.data.checkBox?new k(tt):new j(tt);case"Ch":return new ut(tt)}return new rt(tt);case a.AnnotationType.POPUP:return new ct(tt);case a.AnnotationType.FREETEXT:return new $(tt);case a.AnnotationType.LINE:return new lt(tt);case a.AnnotationType.SQUARE:return new vt(tt);case a.AnnotationType.CIRCLE:return new Et(tt);case a.AnnotationType.POLYLINE:return new Mt(tt);case a.AnnotationType.CARET:return new Dt(tt);case a.AnnotationType.INK:return new Wt(tt);case a.AnnotationType.POLYGON:return new Ot(tt);case a.AnnotationType.HIGHLIGHT:return new Nt(tt);case a.AnnotationType.UNDERLINE:return new Lt(tt);case a.AnnotationType.SQUIGGLY:return new Rt(tt);case a.AnnotationType.STRIKEOUT:return new It(tt);case a.AnnotationType.STAMP:return new zt(tt);case a.AnnotationType.FILEATTACHMENT:return new Vt(tt);default:return new at(tt)}}}class at{constructor(tt,{isRenderable:pt=!1,ignoreBorder:yt=!1,createQuadrilaterals:mt=!1}={}){this.isRenderable=pt,this.data=tt.data,this.layer=tt.layer,this.page=tt.page,this.viewport=tt.viewport,this.linkService=tt.linkService,this.downloadManager=tt.downloadManager,this.imageResourcesPath=tt.imageResourcesPath,this.renderForms=tt.renderForms,this.svgFactory=tt.svgFactory,this.annotationStorage=tt.annotationStorage,this.enableScripting=tt.enableScripting,this.hasJSActions=tt.hasJSActions,this._fieldObjects=tt.fieldObjects,this._mouseState=tt.mouseState,pt&&(this.container=this._createContainer(yt)),mt&&(this.quadrilaterals=this._createQuadrilaterals(yt))}_createContainer(tt=!1){const pt=this.data,yt=this.page,mt=this.viewport,_t=document.createElement("section"),{width:kt,height:St}=ft(pt.rect),[gt,xt,$t,Ft]=mt.viewBox,Bt=$t-gt,Ht=Ft-xt;_t.setAttribute("data-annotation-id",pt.id);const qt=a.Util.normalizeRect([pt.rect[0],yt.view[3]-pt.rect[1]+yt.view[1],pt.rect[2],yt.view[3]-pt.rect[3]+yt.view[1]]);if(!tt&&pt.borderStyle.width>0){_t.style.borderWidth=`${pt.borderStyle.width}px`;const Xt=pt.borderStyle.horizontalCornerRadius,rn=pt.borderStyle.verticalCornerRadius;if(Xt>0||rn>0){const en=`calc(${Xt}px * var(--scale-factor)) / calc(${rn}px * var(--scale-factor))`;_t.style.borderRadius=en}else if(this instanceof _){const en=`calc(${kt}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;_t.style.borderRadius=en}switch(pt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:_t.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:_t.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:_t.style.borderBottomStyle="solid";break}const tn=pt.borderColor||null;tn?_t.style.borderColor=a.Util.makeHexColor(tn[0]|0,tn[1]|0,tn[2]|0):_t.style.borderWidth=0}_t.style.left=`${100*(qt[0]-gt)/Bt}%`,_t.style.top=`${100*(qt[1]-xt)/Ht}%`;const{rotation:Zt}=pt;return pt.hasOwnCanvas||Zt===0?(_t.style.width=`${100*kt/Bt}%`,_t.style.height=`${100*St/Ht}%`):this.setRotation(Zt,_t),_t}setRotation(tt,pt=this.container){const[yt,mt,_t,kt]=this.viewport.viewBox,St=_t-yt,gt=kt-mt,{width:xt,height:$t}=ft(this.data.rect);let Ft,Bt;tt%180===0?(Ft=100*xt/St,Bt=100*$t/gt):(Ft=100*$t/St,Bt=100*xt/gt),pt.style.width=`${Ft}%`,pt.style.height=`${Bt}%`,pt.setAttribute("data-main-rotation",(360-tt)%360)}get _commonActions(){const tt=(pt,yt,mt)=>{const _t=mt.detail[pt];mt.target.style[yt]=f.ColorConverters[`${_t[0]}_HTML`](_t.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:pt=>{const yt=pt.detail.display%2===1;this.container.style.visibility=yt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:yt,print:pt.detail.display===0||pt.detail.display===3})},print:pt=>{this.annotationStorage.setValue(this.data.id,{print:pt.detail.print})},hidden:pt=>{this.container.style.visibility=pt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:pt.detail.hidden})},focus:pt=>{setTimeout(()=>pt.target.focus({preventScroll:!1}),0)},userName:pt=>{pt.target.title=pt.detail.userName},readonly:pt=>{pt.detail.readonly?pt.target.setAttribute("readonly",""):pt.target.removeAttribute("readonly")},required:pt=>{this._setRequired(pt.target,pt.detail.required)},bgColor:pt=>{tt("bgColor","backgroundColor",pt)},fillColor:pt=>{tt("fillColor","backgroundColor",pt)},fgColor:pt=>{tt("fgColor","color",pt)},textColor:pt=>{tt("textColor","color",pt)},borderColor:pt=>{tt("borderColor","borderColor",pt)},strokeColor:pt=>{tt("strokeColor","borderColor",pt)},rotation:pt=>{const yt=pt.detail.rotation;this.setRotation(yt),this.annotationStorage.setValue(this.data.id,{rotation:yt})}})}_dispatchEventFromSandbox(tt,pt){const yt=this._commonActions;for(const mt of Object.keys(pt.detail)){const _t=tt[mt]||yt[mt];_t&&_t(pt)}}_setDefaultPropertiesFromJS(tt){if(!this.enableScripting)return;const pt=this.annotationStorage.getRawValue(this.data.id);if(!pt)return;const yt=this._commonActions;for(const[mt,_t]of Object.entries(pt)){const kt=yt[mt];if(kt){const St={detail:{[mt]:_t},target:tt};kt(St),delete pt[mt]}}}_createQuadrilaterals(tt=!1){if(!this.data.quadPoints)return null;const pt=[],yt=this.data.rect;for(const mt of this.data.quadPoints)this.data.rect=[mt[2].x,mt[2].y,mt[1].x,mt[1].y],pt.push(this._createContainer(tt));return this.data.rect=yt,pt}_createPopup(tt,pt){let yt=this.container;this.quadrilaterals&&(tt=tt||this.quadrilaterals,yt=this.quadrilaterals[0]),tt||(tt=document.createElement("div"),tt.className="popupTriggerArea",yt.append(tt));const _t=new b({container:yt,trigger:tt,color:pt.color,titleObj:pt.titleObj,modificationDate:pt.modificationDate,contentsObj:pt.contentsObj,richText:pt.richText,hideWrapper:!0}).render();_t.style.left="100%",yt.append(_t)}_renderQuadrilaterals(tt){for(const pt of this.quadrilaterals)pt.className=tt;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(tt,pt=null){const yt=[];if(this._fieldObjects){const mt=this._fieldObjects[tt];if(mt)for(const{page:_t,id:kt,exportValues:St}of mt){if(_t===-1||kt===pt)continue;const gt=typeof St=="string"?St:null,xt=document.querySelector(`[data-element-id="${kt}"]`);if(xt&&!ht.has(xt)){(0,a.warn)(`_getElementsByName - element not allowed: ${kt}`);continue}yt.push({id:kt,exportValue:gt,domElement:xt})}return yt}for(const mt of document.getElementsByName(tt)){const{id:_t,exportValue:kt}=mt;_t!==pt&&ht.has(mt)&&yt.push({id:_t,exportValue:kt,domElement:mt})}return yt}static get platform(){const tt=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:tt.includes("Win"),isMac:tt.includes("Mac")})}}class et extends at{constructor(tt,pt=null){super(tt,{isRenderable:!0,ignoreBorder:!!(pt!=null&&pt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=tt.data.isTooltipOnly}render(){const{data:tt,linkService:pt}=this,yt=document.createElement("a");yt.setAttribute("data-element-id",tt.id);let mt=!1;return tt.url?(pt.addLinkAttributes(yt,tt.url,tt.newWindow),mt=!0):tt.action?(this._bindNamedAction(yt,tt.action),mt=!0):tt.dest?(this._bindLink(yt,tt.dest),mt=!0):(tt.actions&&(tt.actions.Action||tt.actions["Mouse Up"]||tt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(yt,tt),mt=!0),tt.resetForm?(this._bindResetFormAction(yt,tt.resetForm),mt=!0):this.isTooltipOnly&&!mt&&(this._bindLink(yt,""),mt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_t,kt)=>{const St=kt===0?yt:yt.cloneNode();return _t.append(St),_t}):(this.container.className="linkAnnotation",mt&&this.container.append(yt),this.container)}_bindLink(tt,pt){tt.href=this.linkService.getDestinationHash(pt),tt.onclick=()=>(pt&&this.linkService.goToDestination(pt),!1),(pt||pt==="")&&(tt.className="internalLink")}_bindNamedAction(tt,pt){tt.href=this.linkService.getAnchorUrl(""),tt.onclick=()=>(this.linkService.executeNamedAction(pt),!1),tt.className="internalLink"}_bindJSAction(tt,pt){tt.href=this.linkService.getAnchorUrl("");const yt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const mt of Object.keys(pt.actions)){const _t=yt.get(mt);_t&&(tt[_t]=()=>{var kt;return(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt.id,name:mt}}),!1})}tt.onclick||(tt.onclick=()=>!1),tt.className="internalLink"}_bindResetFormAction(tt,pt){const yt=tt.onclick;if(yt||(tt.href=this.linkService.getAnchorUrl("")),tt.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),yt||(tt.onclick=()=>!1);return}tt.onclick=()=>{var $t;yt&&yt();const{fields:mt,refs:_t,include:kt}=pt,St=[];if(mt.length!==0||_t.length!==0){const Ft=new Set(_t);for(const Bt of mt){const Ht=this._fieldObjects[Bt]||[];for(const{id:qt}of Ht)Ft.add(qt)}for(const Bt of Object.values(this._fieldObjects))for(const Ht of Bt)Ft.has(Ht.id)===kt&&St.push(Ht)}else for(const Ft of Object.values(this._fieldObjects))St.push(...Ft);const gt=this.annotationStorage,xt=[];for(const Ft of St){const{id:Bt}=Ft;switch(xt.push(Bt),Ft.type){case"text":{const qt=Ft.defaultValue||"";gt.setValue(Bt,{value:qt});break}case"checkbox":case"radiobutton":{const qt=Ft.defaultValue===Ft.exportValues;gt.setValue(Bt,{value:qt});break}case"combobox":case"listbox":{const qt=Ft.defaultValue||"";gt.setValue(Bt,{value:qt});break}default:continue}const Ht=document.querySelector(`[data-element-id="${Bt}"]`);if(Ht){if(!ht.has(Ht)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Bt}`);continue}}else continue;Ht.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xt,name:"ResetForm"}})),!1}}}class h extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt})}render(){this.container.className="textAnnotation";const tt=document.createElement("img");return tt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",tt.alt="[{{type}} Annotation]",tt.dataset.l10nId="text_annotation_type",tt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(tt,this.data),this.container.append(tt),this.container}}class rt extends at{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(tt){const{isWin:pt,isMac:yt}=at.platform;return pt&&tt.ctrlKey||yt&&tt.metaKey}_setEventListener(tt,pt,yt,mt){pt.includes("mouse")?tt.addEventListener(pt,_t=>{var kt;(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:mt(_t),shift:_t.shiftKey,modifier:this._getKeyModifier(_t)}})}):tt.addEventListener(pt,_t=>{var kt;(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:yt,value:mt(_t)}})})}_setEventListeners(tt,pt,yt){var mt;for(const[_t,kt]of pt)(kt==="Action"||(mt=this.data.actions)!=null&&mt[kt])&&this._setEventListener(tt,_t,kt,yt)}_setBackgroundColor(tt){const pt=this.data.backgroundColor||null;tt.style.backgroundColor=pt===null?"transparent":a.Util.makeHexColor(pt[0],pt[1],pt[2])}_setTextStyle(tt){const pt=["left","center","right"],{fontColor:yt}=this.data.defaultAppearanceData,mt=this.data.defaultAppearanceData.fontSize||_e,_t=tt.style;let kt;if(this.data.multiLine){const St=Math.abs(this.data.rect[3]-this.data.rect[1]),gt=Math.round(St/(a.LINE_FACTOR*mt))||1,xt=St/gt;kt=Math.min(mt,Math.round(xt/a.LINE_FACTOR))}else{const St=Math.abs(this.data.rect[3]-this.data.rect[1]);kt=Math.min(mt,Math.round(St/a.LINE_FACTOR))}_t.fontSize=`calc(${kt}px * var(--scale-factor))`,_t.color=a.Util.makeHexColor(yt[0],yt[1],yt[2]),this.data.textAlignment!==null&&(_t.textAlign=pt[this.data.textAlignment])}_setRequired(tt,pt){pt?tt.setAttribute("required",!0):tt.removeAttribute("required"),tt.setAttribute("aria-required",pt)}}class g extends rt{constructor(tt){const pt=tt.renderForms||!tt.data.hasAppearance&&!!tt.data.fieldValue;super(tt,{isRenderable:pt})}setPropertyOnSiblings(tt,pt,yt,mt){const _t=this.annotationStorage;for(const kt of this._getElementsByName(tt.name,tt.id))kt.domElement&&(kt.domElement[pt]=yt),_t.setValue(kt.id,{[mt]:yt})}render(){var mt;const tt=this.annotationStorage,pt=this.data.id;this.container.className="textWidgetAnnotation";let yt=null;if(this.renderForms){const _t=tt.getValue(pt,{value:this.data.fieldValue});let kt=_t.formattedValue||_t.value||"";const St=tt.getValue(pt,{charLimit:this.data.maxLen}).charLimit;St&&kt.length>St&&(kt=kt.slice(0,St));const gt={userValue:kt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(yt=document.createElement("textarea"),yt.textContent=kt,this.data.doNotScroll&&(yt.style.overflowY="hidden")):(yt=document.createElement("input"),yt.type="text",yt.setAttribute("value",kt),this.data.doNotScroll&&(yt.style.overflowX="hidden")),ht.add(yt),yt.setAttribute("data-element-id",pt),yt.disabled=this.data.readOnly,yt.name=this.data.fieldName,yt.tabIndex=nt,this._setRequired(yt,this.data.required),St&&(yt.maxLength=St),yt.addEventListener("input",$t=>{tt.setValue(pt,{value:$t.target.value}),this.setPropertyOnSiblings(yt,"value",$t.target.value,"value")}),yt.addEventListener("resetform",$t=>{const Ft=this.data.defaultFieldValue??"";yt.value=gt.userValue=Ft,gt.formattedValue=null});let xt=$t=>{const{formattedValue:Ft}=gt;Ft!=null&&($t.target.value=Ft),$t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){yt.addEventListener("focus",Ft=>{gt.userValue&&(Ft.target.value=gt.userValue),gt.valueOnFocus=Ft.target.value}),yt.addEventListener("updatefromsandbox",Ft=>{const Bt={value(Ht){gt.userValue=Ht.detail.value??"",tt.setValue(pt,{value:gt.userValue.toString()}),Ht.target.value=gt.userValue},formattedValue(Ht){const{formattedValue:qt}=Ht.detail;gt.formattedValue=qt,qt!=null&&Ht.target!==document.activeElement&&(Ht.target.value=qt),tt.setValue(pt,{formattedValue:qt})},selRange(Ht){Ht.target.setSelectionRange(...Ht.detail.selRange)},charLimit:Ht=>{var rn;const{charLimit:qt}=Ht.detail,{target:Zt}=Ht;if(qt===0){Zt.removeAttribute("maxLength");return}Zt.setAttribute("maxLength",qt);let Xt=gt.userValue;!Xt||Xt.length<=qt||(Xt=Xt.slice(0,qt),Zt.value=gt.userValue=Xt,tt.setValue(pt,{value:Xt}),(rn=this.linkService.eventBus)==null||rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt,name:"Keystroke",value:Xt,willCommit:!0,commitKey:1,selStart:Zt.selectionStart,selEnd:Zt.selectionEnd}}))}};this._dispatchEventFromSandbox(Bt,Ft)}),yt.addEventListener("keydown",Ft=>{var qt;let Bt=-1;if(Ft.key==="Escape"?Bt=0:Ft.key==="Enter"?Bt=2:Ft.key==="Tab"&&(Bt=3),Bt===-1)return;const{value:Ht}=Ft.target;gt.valueOnFocus!==Ht&&(gt.userValue=Ht,(qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt,name:"Keystroke",value:Ht,willCommit:!0,commitKey:Bt,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}}))});const $t=xt;xt=null,yt.addEventListener("blur",Ft=>{var Ht;const{value:Bt}=Ft.target;gt.userValue=Bt,this._mouseState.isDown&&gt.valueOnFocus!==Bt&&((Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt,name:"Keystroke",value:Bt,willCommit:!0,commitKey:1,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}})),$t(Ft)}),(mt=this.data.actions)!=null&&mt.Keystroke&&yt.addEventListener("beforeinput",Ft=>{var en;const{data:Bt,target:Ht}=Ft,{value:qt,selectionStart:Zt,selectionEnd:Xt}=Ht;let rn=Zt,tn=Xt;switch(Ft.inputType){case"deleteWordBackward":{const sn=qt.substring(0,Zt).match(/\w*[^\w]*$/);sn&&(rn-=sn[0].length);break}case"deleteWordForward":{const sn=qt.substring(Zt).match(/^[^\w]*\w*/);sn&&(tn+=sn[0].length);break}case"deleteContentBackward":Zt===Xt&&(rn-=1);break;case"deleteContentForward":Zt===Xt&&(tn+=1);break}Ft.preventDefault(),(en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt,name:"Keystroke",value:qt,change:Bt||"",willCommit:!1,selStart:rn,selEnd:tn}})}),this._setEventListeners(yt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.value)}if(xt&&yt.addEventListener("blur",xt),this.data.comb){const Ft=(this.data.rect[2]-this.data.rect[0])/St;yt.classList.add("comb"),yt.style.letterSpacing=`calc(${Ft}px * var(--scale-factor) - 1ch)`}}else yt=document.createElement("div"),yt.textContent=this.data.fieldValue,yt.style.verticalAlign="middle",yt.style.display="table-cell";return this._setTextStyle(yt),this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class k extends rt{constructor(tt){super(tt,{isRenderable:tt.renderForms})}render(){const tt=this.annotationStorage,pt=this.data,yt=pt.id;let mt=tt.getValue(yt,{value:pt.exportValue===pt.fieldValue}).value;typeof mt=="string"&&(mt=mt!=="Off",tt.setValue(yt,{value:mt})),this.container.className="buttonWidgetAnnotation checkBox";const _t=document.createElement("input");return ht.add(_t),_t.setAttribute("data-element-id",yt),_t.disabled=pt.readOnly,this._setRequired(_t,this.data.required),_t.type="checkbox",_t.name=pt.fieldName,mt&&_t.setAttribute("checked",!0),_t.setAttribute("exportValue",pt.exportValue),_t.tabIndex=nt,_t.addEventListener("change",kt=>{const{name:St,checked:gt}=kt.target;for(const xt of this._getElementsByName(St,yt)){const $t=gt&&xt.exportValue===pt.exportValue;xt.domElement&&(xt.domElement.checked=$t),tt.setValue(xt.id,{value:$t})}tt.setValue(yt,{value:gt})}),_t.addEventListener("resetform",kt=>{const St=pt.defaultFieldValue||"Off";kt.target.checked=St===pt.exportValue}),this.enableScripting&&this.hasJSActions&&(_t.addEventListener("updatefromsandbox",kt=>{const St={value(gt){gt.target.checked=gt.detail.value!=="Off",tt.setValue(yt,{value:gt.target.checked})}};this._dispatchEventFromSandbox(St,kt)}),this._setEventListeners(_t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],kt=>kt.target.checked)),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class _ extends rt{constructor(tt){super(tt,{isRenderable:tt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const tt=this.annotationStorage,pt=this.data,yt=pt.id;let mt=tt.getValue(yt,{value:pt.fieldValue===pt.buttonValue}).value;typeof mt=="string"&&(mt=mt!==pt.buttonValue,tt.setValue(yt,{value:mt}));const _t=document.createElement("input");if(ht.add(_t),_t.setAttribute("data-element-id",yt),_t.disabled=pt.readOnly,this._setRequired(_t,this.data.required),_t.type="radio",_t.name=pt.fieldName,mt&&_t.setAttribute("checked",!0),_t.tabIndex=nt,_t.addEventListener("change",kt=>{const{name:St,checked:gt}=kt.target;for(const xt of this._getElementsByName(St,yt))tt.setValue(xt.id,{value:!1});tt.setValue(yt,{value:gt})}),_t.addEventListener("resetform",kt=>{const St=pt.defaultFieldValue;kt.target.checked=St!=null&&St===pt.buttonValue}),this.enableScripting&&this.hasJSActions){const kt=pt.buttonValue;_t.addEventListener("updatefromsandbox",St=>{const gt={value:xt=>{const $t=kt===xt.detail.value;for(const Ft of this._getElementsByName(xt.target.name)){const Bt=$t&&Ft.id===yt;Ft.domElement&&(Ft.domElement.checked=Bt),tt.setValue(Ft.id,{value:Bt})}}};this._dispatchEventFromSandbox(gt,St)}),this._setEventListeners(_t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],St=>St.target.checked)}return this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class j extends et{constructor(tt){super(tt,{ignoreBorder:tt.data.hasAppearance})}render(){const tt=super.render();tt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(tt.title=this.data.alternativeText);const pt=tt.lastChild;return this.enableScripting&&this.hasJSActions&&pt&&(this._setDefaultPropertiesFromJS(pt),pt.addEventListener("updatefromsandbox",yt=>{this._dispatchEventFromSandbox({},yt)})),tt}}class ut extends rt{constructor(tt){super(tt,{isRenderable:tt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const tt=this.annotationStorage,pt=this.data.id,yt=tt.getValue(pt,{value:this.data.fieldValue}),mt=document.createElement("select");ht.add(mt),mt.setAttribute("data-element-id",pt),mt.disabled=this.data.readOnly,this._setRequired(mt,this.data.required),mt.name=this.data.fieldName,mt.tabIndex=nt;let _t=this.data.combo&&this.data.options.length>0;this.data.combo||(mt.size=this.data.options.length,this.data.multiSelect&&(mt.multiple=!0)),mt.addEventListener("resetform",xt=>{const $t=this.data.defaultFieldValue;for(const Ft of mt.options)Ft.selected=Ft.value===$t});for(const xt of this.data.options){const $t=document.createElement("option");$t.textContent=xt.displayValue,$t.value=xt.exportValue,yt.value.includes(xt.exportValue)&&($t.setAttribute("selected",!0),_t=!1),mt.append($t)}let kt=null;if(_t){const xt=document.createElement("option");xt.value=" ",xt.setAttribute("hidden",!0),xt.setAttribute("selected",!0),mt.prepend(xt),kt=()=>{xt.remove(),mt.removeEventListener("input",kt),kt=null},mt.addEventListener("input",kt)}const St=(xt,$t)=>{const Ft=$t?"value":"textContent",Bt=xt.target.options;return xt.target.multiple?Array.prototype.filter.call(Bt,Ht=>Ht.selected).map(Ht=>Ht[Ft]):Bt.selectedIndex===-1?null:Bt[Bt.selectedIndex][Ft]},gt=xt=>{const $t=xt.target.options;return Array.prototype.map.call($t,Ft=>({displayValue:Ft.textContent,exportValue:Ft.value}))};return this.enableScripting&&this.hasJSActions?(mt.addEventListener("updatefromsandbox",xt=>{const $t={value(Ft){kt==null||kt();const Bt=Ft.detail.value,Ht=new Set(Array.isArray(Bt)?Bt:[Bt]);for(const qt of mt.options)qt.selected=Ht.has(qt.value);tt.setValue(pt,{value:St(Ft,!0)})},multipleSelection(Ft){mt.multiple=!0},remove(Ft){const Bt=mt.options,Ht=Ft.detail.remove;Bt[Ht].selected=!1,mt.remove(Ht),Bt.length>0&&Array.prototype.findIndex.call(Bt,Zt=>Zt.selected)===-1&&(Bt[0].selected=!0),tt.setValue(pt,{value:St(Ft,!0),items:gt(Ft)})},clear(Ft){for(;mt.length!==0;)mt.remove(0);tt.setValue(pt,{value:null,items:[]})},insert(Ft){const{index:Bt,displayValue:Ht,exportValue:qt}=Ft.detail.insert,Zt=mt.children[Bt],Xt=document.createElement("option");Xt.textContent=Ht,Xt.value=qt,Zt?Zt.before(Xt):mt.append(Xt),tt.setValue(pt,{value:St(Ft,!0),items:gt(Ft)})},items(Ft){const{items:Bt}=Ft.detail;for(;mt.length!==0;)mt.remove(0);for(const Ht of Bt){const{displayValue:qt,exportValue:Zt}=Ht,Xt=document.createElement("option");Xt.textContent=qt,Xt.value=Zt,mt.append(Xt)}mt.options.length>0&&(mt.options[0].selected=!0),tt.setValue(pt,{value:St(Ft,!0),items:gt(Ft)})},indices(Ft){const Bt=new Set(Ft.detail.indices);for(const Ht of Ft.target.options)Ht.selected=Bt.has(Ht.index);tt.setValue(pt,{value:St(Ft,!0)})},editable(Ft){Ft.target.disabled=!Ft.detail.editable}};this._dispatchEventFromSandbox($t,xt)}),mt.addEventListener("input",xt=>{var Bt;const $t=St(xt,!0),Ft=St(xt,!1);tt.setValue(pt,{value:$t}),(Bt=this.linkService.eventBus)==null||Bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:pt,name:"Keystroke",value:Ft,changeEx:$t,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],xt=>xt.target.checked)):mt.addEventListener("input",function(xt){tt.setValue(pt,{value:St(xt,!0)})}),this.data.combo&&this._setTextStyle(mt),this._setBackgroundColor(mt),this._setDefaultPropertiesFromJS(mt),this.container.append(mt),this.container}}class ct extends at{constructor(tt){var yt,mt,_t;const pt=!!((yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt})}render(){const tt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",tt.includes(this.data.parentType))return this.container;const pt=`[data-annotation-id="${this.data.parentId}"]`,yt=this.layer.querySelectorAll(pt);if(yt.length===0)return this.container;const mt=new b({container:this.container,trigger:Array.from(yt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),_t=this.page,kt=a.Util.normalizeRect([this.data.parentRect[0],_t.view[3]-this.data.parentRect[1]+_t.view[1],this.data.parentRect[2],_t.view[3]-this.data.parentRect[3]+_t.view[1]]),St=kt[0]+this.data.parentRect[2]-this.data.parentRect[0],gt=kt[1],[xt,$t,Ft,Bt]=this.viewport.viewBox,Ht=Ft-xt,qt=Bt-$t;return this.container.style.left=`${100*(St-xt)/Ht}%`,this.container.style.top=`${100*(gt-$t)/qt}%`,this.container.append(mt.render()),this.container}}class b{constructor(tt){this.container=tt.container,this.trigger=tt.trigger,this.color=tt.color,this.titleObj=tt.titleObj,this.modificationDate=tt.modificationDate,this.contentsObj=tt.contentsObj,this.richText=tt.richText,this.hideWrapper=tt.hideWrapper||!1,this.pinned=!1}render(){var St,gt;const pt=document.createElement("div");pt.className="popupWrapper",this.hideElement=this.hideWrapper?pt:this.container,this.hideElement.hidden=!0;const yt=document.createElement("div");yt.className="popup";const mt=this.color;if(mt){const xt=.7*(255-mt[0])+mt[0],$t=.7*(255-mt[1])+mt[1],Ft=.7*(255-mt[2])+mt[2];yt.style.backgroundColor=a.Util.makeHexColor(xt|0,$t|0,Ft|0)}const _t=document.createElement("h1");_t.dir=this.titleObj.dir,_t.textContent=this.titleObj.str,yt.append(_t);const kt=c.PDFDateString.toDateObject(this.modificationDate);if(kt){const xt=document.createElement("span");xt.className="popupDate",xt.textContent="{{date}}, {{time}}",xt.dataset.l10nId="annotation_date_string",xt.dataset.l10nArgs=JSON.stringify({date:kt.toLocaleDateString(),time:kt.toLocaleTimeString()}),yt.append(xt)}if((St=this.richText)!=null&&St.str&&(!((gt=this.contentsObj)!=null&&gt.str)||this.contentsObj.str===this.richText.str))st.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:yt}),yt.lastChild.className="richText popupContent";else{const xt=this._formatContents(this.contentsObj);yt.append(xt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const xt of this.trigger)xt.addEventListener("click",this._toggle.bind(this)),xt.addEventListener("mouseover",this._show.bind(this,!1)),xt.addEventListener("mouseout",this._hide.bind(this,!1));return yt.addEventListener("click",this._hide.bind(this,!0)),pt.append(yt),pt}_formatContents({str:tt,dir:pt}){const yt=document.createElement("p");yt.className="popupContent",yt.dir=pt;const mt=tt.split(/(?:\r\n?|\n)/);for(let _t=0,kt=mt.length;_t<kt;++_t){const St=mt[_t];yt.append(document.createTextNode(St)),_t<kt-1&&yt.append(document.createElement("br"))}return yt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(tt=!1){tt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(tt=!0){tt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class $ extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0}),this.textContent=tt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const tt=document.createElement("div");tt.className="annotationTextContent",tt.setAttribute("role","comment");for(const pt of this.textContent){const yt=document.createElement("span");yt.textContent=pt,tt.append(yt)}this.container.append(tt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class lt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const tt=this.data,{width:pt,height:yt}=ft(tt.rect),mt=this.svgFactory.create(pt,yt,!0),_t=this.svgFactory.createElement("svg:line");return _t.setAttribute("x1",tt.rect[2]-tt.lineCoordinates[0]),_t.setAttribute("y1",tt.rect[3]-tt.lineCoordinates[1]),_t.setAttribute("x2",tt.rect[2]-tt.lineCoordinates[2]),_t.setAttribute("y2",tt.rect[3]-tt.lineCoordinates[3]),_t.setAttribute("stroke-width",tt.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),mt.append(_t),this.container.append(mt),this._createPopup(_t,tt),this.container}}class vt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const tt=this.data,{width:pt,height:yt}=ft(tt.rect),mt=this.svgFactory.create(pt,yt,!0),_t=tt.borderStyle.width,kt=this.svgFactory.createElement("svg:rect");return kt.setAttribute("x",_t/2),kt.setAttribute("y",_t/2),kt.setAttribute("width",pt-_t),kt.setAttribute("height",yt-_t),kt.setAttribute("stroke-width",_t||1),kt.setAttribute("stroke","transparent"),kt.setAttribute("fill","transparent"),mt.append(kt),this.container.append(mt),this._createPopup(kt,tt),this.container}}class Et extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const tt=this.data,{width:pt,height:yt}=ft(tt.rect),mt=this.svgFactory.create(pt,yt,!0),_t=tt.borderStyle.width,kt=this.svgFactory.createElement("svg:ellipse");return kt.setAttribute("cx",pt/2),kt.setAttribute("cy",yt/2),kt.setAttribute("rx",pt/2-_t/2),kt.setAttribute("ry",yt/2-_t/2),kt.setAttribute("stroke-width",_t||1),kt.setAttribute("stroke","transparent"),kt.setAttribute("fill","transparent"),mt.append(kt),this.container.append(mt),this._createPopup(kt,tt),this.container}}class Mt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const tt=this.data,{width:pt,height:yt}=ft(tt.rect),mt=this.svgFactory.create(pt,yt,!0);let _t=[];for(const St of tt.vertices){const gt=St.x-tt.rect[0],xt=tt.rect[3]-St.y;_t.push(gt+","+xt)}_t=_t.join(" ");const kt=this.svgFactory.createElement(this.svgElementName);return kt.setAttribute("points",_t),kt.setAttribute("stroke-width",tt.borderStyle.width||1),kt.setAttribute("stroke","transparent"),kt.setAttribute("fill","transparent"),mt.append(kt),this.container.append(mt),this._createPopup(kt,tt),this.container}}class Ot extends Mt{constructor(tt){super(tt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Dt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Wt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const tt=this.data,{width:pt,height:yt}=ft(tt.rect),mt=this.svgFactory.create(pt,yt,!0);for(const _t of tt.inkLists){let kt=[];for(const gt of _t){const xt=gt.x-tt.rect[0],$t=tt.rect[3]-gt.y;kt.push(`${xt},${$t}`)}kt=kt.join(" ");const St=this.svgFactory.createElement(this.svgElementName);St.setAttribute("points",kt),St.setAttribute("stroke-width",tt.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),this._createPopup(St,tt),mt.append(St)}return this.container.append(mt),this.container}}class Nt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Lt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Rt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class It extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class zt extends at{constructor(tt){var yt,mt,_t;const pt=!!(tt.data.hasPopup||(yt=tt.data.titleObj)!=null&&yt.str||(mt=tt.data.contentsObj)!=null&&mt.str||(_t=tt.data.richText)!=null&&_t.str);super(tt,{isRenderable:pt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Vt extends at{constructor(tt){var mt;super(tt,{isRenderable:!0});const{filename:pt,content:yt}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(pt),this.content=yt,(mt=this.linkService.eventBus)==null||mt.dispatch("fileattachmentannotation",{source:this,filename:pt,content:yt})}render(){var pt,yt;this.container.className="fileAttachmentAnnotation";const tt=document.createElement("div");return tt.className="popupTriggerArea",tt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((pt=this.data.titleObj)!=null&&pt.str||(yt=this.data.contentsObj)!=null&&yt.str||this.data.richText)&&this._createPopup(tt,this.data),this.container.append(tt),this.container}_download(){var tt;(tt=this.downloadManager)==null||tt.openOrDownloadData(this.container,this.content,this.filename)}}const Tt=class Tt{static render(tt){var St,gt;const{annotations:pt,div:yt,viewport:mt,accessibilityManager:_t}=tt;Yt(this,dt,lr).call(this,yt,mt);let kt=0;for(const xt of pt){if(xt.annotationType!==a.AnnotationType.POPUP){const{width:Ft,height:Bt}=ft(xt.rect);if(Ft<=0||Bt<=0)continue}const $t=it.create({data:xt,layer:yt,page:tt.page,viewport:mt,linkService:tt.linkService,downloadManager:tt.downloadManager,imageResourcesPath:tt.imageResourcesPath||"",renderForms:tt.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:tt.annotationStorage||new d.AnnotationStorage,enableScripting:tt.enableScripting,hasJSActions:tt.hasJSActions,fieldObjects:tt.fieldObjects,mouseState:tt.mouseState||{isDown:!1}});if($t.isRenderable){const Ft=$t.render();if(xt.hidden&&(Ft.style.visibility="hidden"),Array.isArray(Ft))for(const Bt of Ft)Bt.style.zIndex=kt++,Yt(St=Tt,dt,ar).call(St,Bt,xt.id,yt,_t);else Ft.style.zIndex=kt++,$t instanceof ct?yt.prepend(Ft):Yt(gt=Tt,dt,ar).call(gt,Ft,xt.id,yt,_t)}}Yt(this,dt,cr).call(this,yt,tt.annotationCanvasMap)}static update(tt){const{annotationCanvasMap:pt,div:yt,viewport:mt}=tt;Yt(this,dt,lr).call(this,yt,mt),Yt(this,dt,cr).call(this,yt,pt),yt.hidden=!1}};dt=new WeakSet,ar=function(tt,pt,yt,mt){const _t=tt.firstChild||tt;_t.id=`${c.AnnotationPrefix}${pt}`,yt.append(tt),mt==null||mt.moveElementInDOM(yt,tt,_t,!1)},lr=function(tt,{width:pt,height:yt,rotation:mt}){const{style:_t}=tt,kt=mt%180!==0,St=Math.floor(pt)+"px",gt=Math.floor(yt)+"px";_t.width=kt?gt:St,_t.height=kt?St:gt,tt.setAttribute("data-main-rotation",mt)},cr=function(tt,pt){if(pt){for(const[yt,mt]of pt){const _t=tt.querySelector(`[data-annotation-id="${yt}"]`);if(!_t)continue;const{firstChild:kt}=_t;kt?kt.nodeName==="CANVAS"?kt.replaceWith(mt):kt.before(mt):_t.append(mt)}pt.clear()}},Kt(Tt,dt);let wt=Tt;s.AnnotationLayer=wt},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function o(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([d,f,st,nt]){return["G",1-Math.min(1,.3*d+.59*st+.11*f+nt)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_HTML([d]){const f=o(d);return`#${f}${f}${f}`}static RGB_G([d,f,st]){return["G",.3*d+.59*f+.11*st]}static RGB_HTML([d,f,st]){const nt=o(d),_e=o(f),ht=o(st);return`#${nt}${_e}${ht}`}static T_HTML(){return"#00000000"}static CMYK_RGB([d,f,st,nt]){return["RGB",1-Math.min(1,d+nt),1-Math.min(1,st+nt),1-Math.min(1,f+nt)]}static CMYK_HTML(d){const f=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([d,f,st]){const nt=1-d,_e=1-f,ht=1-st,ft=Math.min(nt,_e,ht);return["CMYK",nt,_e,ht,ft]}}s.ColorConverters=a},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=o(20);class c{static setupStorage(f,st,nt,_e,ht){const ft=_e.getValue(st,{value:null});switch(nt.name){case"textarea":if(ft.value!==null&&(f.textContent=ft.value),ht==="print")break;f.addEventListener("input",it=>{_e.setValue(st,{value:it.target.value})});break;case"input":if(nt.attributes.type==="radio"||nt.attributes.type==="checkbox"){if(ft.value===nt.attributes.xfaOn?f.setAttribute("checked",!0):ft.value===nt.attributes.xfaOff&&f.removeAttribute("checked"),ht==="print")break;f.addEventListener("change",it=>{_e.setValue(st,{value:it.target.checked?it.target.getAttribute("xfaOn"):it.target.getAttribute("xfaOff")})})}else{if(ft.value!==null&&f.setAttribute("value",ft.value),ht==="print")break;f.addEventListener("input",it=>{_e.setValue(st,{value:it.target.value})})}break;case"select":if(ft.value!==null)for(const it of nt.children)it.attributes.value===ft.value&&(it.attributes.selected=!0);f.addEventListener("input",it=>{const at=it.target.options,et=at.selectedIndex===-1?"":at[at.selectedIndex].value;_e.setValue(st,{value:et})});break}}static setAttributes({html:f,element:st,storage:nt=null,intent:_e,linkService:ht}){const{attributes:ft}=st,it=f instanceof HTMLAnchorElement;ft.type==="radio"&&(ft.name=`${ft.name}-${_e}`);for(const[at,et]of Object.entries(ft))if(et!=null)switch(at){case"class":et.length&&f.setAttribute(at,et.join(" "));break;case"dataId":break;case"id":f.setAttribute("data-element-id",et);break;case"style":Object.assign(f.style,et);break;case"textContent":f.textContent=et;break;default:(!it||at!=="href"&&at!=="newWindow")&&f.setAttribute(at,et)}it&&ht.addLinkAttributes(f,ft.href,ft.newWindow),nt&&ft.dataId&&this.setupStorage(f,ft.dataId,st,nt)}static render(f){var h;const st=f.annotationStorage,nt=f.linkService,_e=f.xfaHtml,ht=f.intent||"display",ft=document.createElement(_e.name);_e.attributes&&this.setAttributes({html:ft,element:_e,intent:ht,linkService:nt});const it=[[_e,-1,ft]],at=f.div;if(at.append(ft),f.viewport){const rt=`matrix(${f.viewport.transform.join(",")})`;at.style.transform=rt}ht!=="richText"&&at.setAttribute("class","xfaLayer xfaFont");const et=[];for(;it.length>0;){const[rt,g,k]=it.at(-1);if(g+1===rt.children.length){it.pop();continue}const _=rt.children[++it.at(-1)[1]];if(_===null)continue;const{name:j}=_;if(j==="#text"){const ct=document.createTextNode(_.value);et.push(ct),k.append(ct);continue}let ut;if((h=_==null?void 0:_.attributes)!=null&&h.xmlns?ut=document.createElementNS(_.attributes.xmlns,j):ut=document.createElement(j),k.append(ut),_.attributes&&this.setAttributes({html:ut,element:_,storage:st,intent:ht,linkService:nt}),_.children&&_.children.length>0)it.push([_,-1,ut]);else if(_.value){const ct=document.createTextNode(_.value);a.XfaText.shouldBuildText(j)&&et.push(ct),ut.append(ct)}}for(const rt of at.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))rt.setAttribute("readOnly",!0);return{textDivs:et}}static update(f){const st=`matrix(${f.viewport.transform.join(",")})`;f.div.style.transform=st,f.div.hidden=!1}}s.XfaLayer=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=k;var a=o(1),c=o(8);const d=1e5,f=30,st=.8,nt=new Map,_e=/^\s+$/g;function ht(_,j){const ut=nt.get(_);if(ut)return ut;j.save(),j.font=`${f}px ${_}`;const ct=j.measureText("");let b=ct.fontBoundingBoxAscent,$=Math.abs(ct.fontBoundingBoxDescent);if(b){j.restore();const vt=b/(b+$);return nt.set(_,vt),vt}j.strokeStyle="red",j.clearRect(0,0,f,f),j.strokeText("g",0,0);let lt=j.getImageData(0,0,f,f).data;$=0;for(let vt=lt.length-1-3;vt>=0;vt-=4)if(lt[vt]>0){$=Math.ceil(vt/4/f);break}j.clearRect(0,0,f,f),j.strokeText("A",0,f),lt=j.getImageData(0,0,f,f).data,b=0;for(let vt=0,Et=lt.length;vt<Et;vt+=4)if(lt[vt]>0){b=f-Math.floor(vt/4/f);break}if(j.restore(),b){const vt=b/(b+$);return nt.set(_,vt),vt}return nt.set(_,st),st}function ft(_,j,ut,ct){const b=document.createElement("span"),$=_._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:j.str!=="",hasEOL:j.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:j.str!=="",hasEOL:j.hasEOL,fontSize:0};_._textDivs.push(b);const lt=a.Util.transform(_._viewport.transform,j.transform);let vt=Math.atan2(lt[1],lt[0]);const Et=ut[j.fontName];Et.vertical&&(vt+=Math.PI/2);const Mt=Math.hypot(lt[2],lt[3]),Ot=Mt*ht(Et.fontFamily,ct);let Dt,Wt;vt===0?(Dt=lt[4],Wt=lt[5]-Ot):(Dt=lt[4]+Ot*Math.sin(vt),Wt=lt[5]-Ot*Math.cos(vt)),b.style.left=`${Dt}px`,b.style.top=`${Wt}px`,b.style.fontSize=`${Mt}px`,b.style.fontFamily=Et.fontFamily,$.fontSize=Mt,b.setAttribute("role","presentation"),b.textContent=j.str,b.dir=j.dir,_._fontInspectorEnabled&&(b.dataset.fontName=j.fontName),vt!==0&&($.angle=vt*(180/Math.PI));let Nt=!1;if(j.str.length>1||_._enhanceTextSelection&&_e.test(j.str))Nt=!0;else if(j.str!==" "&&j.transform[0]!==j.transform[3]){const Lt=Math.abs(j.transform[0]),Rt=Math.abs(j.transform[3]);Lt!==Rt&&Math.max(Lt,Rt)/Math.min(Lt,Rt)>1.5&&(Nt=!0)}if(Nt&&(Et.vertical?$.canvasWidth=j.height*_._viewport.scale:$.canvasWidth=j.width*_._viewport.scale),_._textDivProperties.set(b,$),_._textContentStream&&_._layoutText(b),_._enhanceTextSelection&&$.hasText){let Lt=1,Rt=0;vt!==0&&(Lt=Math.cos(vt),Rt=Math.sin(vt));const It=(Et.vertical?j.height:j.width)*_._viewport.scale,zt=Mt;let Vt,wt;vt!==0?(Vt=[Lt,Rt,-Rt,Lt,Dt,Wt],wt=a.Util.getAxialAlignedBoundingBox([0,0,It,zt],Vt)):wt=[Dt,Wt,Dt+It,Wt+zt],_._bounds.push({left:wt[0],top:wt[1],right:wt[2],bottom:wt[3],div:b,size:[It,zt],m:Vt})}}function it(_){if(_._canceled)return;const j=_._textDivs,ut=_._capability,ct=j.length;if(ct>d){_._renderingDone=!0,ut.resolve();return}if(!_._textContentStream)for(let b=0;b<ct;b++)_._layoutText(j[b]);_._renderingDone=!0,ut.resolve()}function at(_,j,ut){let ct=0;for(let b=0;b<ut;b++){const $=_[j++];$>0&&(ct=ct?Math.min($,ct):$)}return ct}function et(_){const j=_._bounds,ut=_._viewport,ct=h(ut.width,ut.height,j);for(let b=0;b<ct.length;b++){const $=j[b].div,lt=_._textDivProperties.get($);if(lt.angle===0){lt.paddingLeft=j[b].left-ct[b].left,lt.paddingTop=j[b].top-ct[b].top,lt.paddingRight=ct[b].right-j[b].right,lt.paddingBottom=ct[b].bottom-j[b].bottom,_._textDivProperties.set($,lt);continue}const vt=ct[b],Et=j[b],Mt=Et.m,Ot=Mt[0],Dt=Mt[1],Wt=[[0,0],[0,Et.size[1]],[Et.size[0],0],Et.size],Nt=new Float64Array(64);for(let Rt=0,It=Wt.length;Rt<It;Rt++){const zt=a.Util.applyTransform(Wt[Rt],Mt);Nt[Rt+0]=Ot&&(vt.left-zt[0])/Ot,Nt[Rt+4]=Dt&&(vt.top-zt[1])/Dt,Nt[Rt+8]=Ot&&(vt.right-zt[0])/Ot,Nt[Rt+12]=Dt&&(vt.bottom-zt[1])/Dt,Nt[Rt+16]=Dt&&(vt.left-zt[0])/-Dt,Nt[Rt+20]=Ot&&(vt.top-zt[1])/Ot,Nt[Rt+24]=Dt&&(vt.right-zt[0])/-Dt,Nt[Rt+28]=Ot&&(vt.bottom-zt[1])/Ot,Nt[Rt+32]=Ot&&(vt.left-zt[0])/-Ot,Nt[Rt+36]=Dt&&(vt.top-zt[1])/-Dt,Nt[Rt+40]=Ot&&(vt.right-zt[0])/-Ot,Nt[Rt+44]=Dt&&(vt.bottom-zt[1])/-Dt,Nt[Rt+48]=Dt&&(vt.left-zt[0])/Dt,Nt[Rt+52]=Ot&&(vt.top-zt[1])/-Ot,Nt[Rt+56]=Dt&&(vt.right-zt[0])/Dt,Nt[Rt+60]=Ot&&(vt.bottom-zt[1])/-Ot}const Lt=1+Math.min(Math.abs(Ot),Math.abs(Dt));lt.paddingLeft=at(Nt,32,16)/Lt,lt.paddingTop=at(Nt,48,16)/Lt,lt.paddingRight=at(Nt,0,16)/Lt,lt.paddingBottom=at(Nt,16,16)/Lt,_._textDivProperties.set($,lt)}}function h(_,j,ut){const ct=ut.map(function($,lt){return{x1:$.left,y1:$.top,x2:$.right,y2:$.bottom,index:lt,x1New:void 0,x2New:void 0}});rt(_,ct);const b=new Array(ut.length);for(const $ of ct){const lt=$.index;b[lt]={left:$.x1New,top:0,right:$.x2New,bottom:0}}ut.map(function($,lt){const vt=b[lt],Et=ct[lt];Et.x1=$.top,Et.y1=_-vt.right,Et.x2=$.bottom,Et.y2=_-vt.left,Et.index=lt,Et.x1New=void 0,Et.x2New=void 0}),rt(j,ct);for(const $ of ct){const lt=$.index;b[lt].top=$.x1New,b[lt].bottom=$.x2New}return b}function rt(_,j){j.sort(function(b,$){return b.x1-$.x1||b.index-$.index});const ct=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const b of j){let $=0;for(;$<ct.length&&ct[$].end<=b.y1;)$++;let lt=ct.length-1;for(;lt>=0&&ct[lt].start>=b.y2;)lt--;let vt,Et,Mt,Ot,Dt=-1/0;for(Mt=$;Mt<=lt;Mt++){vt=ct[Mt],Et=vt.boundary;let Lt;Et.x2>b.x1?Lt=Et.index>b.index?Et.x1New:b.x1:Et.x2New===void 0?Lt=(Et.x2+b.x1)/2:Lt=Et.x2New,Lt>Dt&&(Dt=Lt)}for(b.x1New=Dt,Mt=$;Mt<=lt;Mt++)vt=ct[Mt],Et=vt.boundary,Et.x2New===void 0?Et.x2>b.x1?Et.index>b.index&&(Et.x2New=Et.x2):Et.x2New=Dt:Et.x2New>Dt&&(Et.x2New=Math.max(Dt,Et.x2));const Wt=[];let Nt=null;for(Mt=$;Mt<=lt;Mt++){vt=ct[Mt],Et=vt.boundary;const Lt=Et.x2>b.x2?Et:b;Nt===Lt?Wt.at(-1).end=vt.end:(Wt.push({start:vt.start,end:vt.end,boundary:Lt}),Nt=Lt)}for(ct[$].start<b.y1&&(Wt[0].start=b.y1,Wt.unshift({start:ct[$].start,end:b.y1,boundary:ct[$].boundary})),b.y2<ct[lt].end&&(Wt.at(-1).end=b.y2,Wt.push({start:b.y2,end:ct[lt].end,boundary:ct[lt].boundary})),Mt=$;Mt<=lt;Mt++){if(vt=ct[Mt],Et=vt.boundary,Et.x2New!==void 0)continue;let Lt=!1;for(Ot=$-1;!Lt&&Ot>=0&&ct[Ot].start>=Et.y1;Ot--)Lt=ct[Ot].boundary===Et;for(Ot=lt+1;!Lt&&Ot<ct.length&&ct[Ot].end<=Et.y2;Ot++)Lt=ct[Ot].boundary===Et;for(Ot=0;!Lt&&Ot<Wt.length;Ot++)Lt=Wt[Ot].boundary===Et;Lt||(Et.x2New=Dt)}Array.prototype.splice.apply(ct,[$,lt-$+1,...Wt])}for(const b of ct){const $=b.boundary;$.x2New===void 0&&($.x2New=Math.max(_,$.x2))}}class g{constructor({textContent:j,textContentStream:ut,container:ct,viewport:b,textDivs:$,textContentItemsStr:lt,enhanceTextSelection:vt}){var Et;vt&&(0,c.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=j,this._textContentStream=ut,this._container=ct,this._document=ct.ownerDocument,this._viewport=b,this._textDivs=$||[],this._textContentItemsStr=lt||[],this._enhanceTextSelection=!!vt,this._fontInspectorEnabled=!!((Et=globalThis.FontInspector)!=null&&Et.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(j,ut){for(let ct=0,b=j.length;ct<b;ct++){if(j[ct].str===void 0){if(j[ct].type==="beginMarkedContentProps"||j[ct].type==="beginMarkedContent"){const $=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),j[ct].id!==null&&this._container.setAttribute("id",`${j[ct].id}`),$.append(this._container)}else j[ct].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(j[ct].str),ft(this,j[ct],ut,this._layoutTextCtx)}}_layoutText(j){const ut=this._textDivProperties.get(j);let ct="";if(ut.canvasWidth!==0&&ut.hasText){const{fontFamily:b}=j.style,{fontSize:$}=ut;($!==this._layoutTextLastFontSize||b!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${$*this._devicePixelRatio}px ${b}`,this._layoutTextLastFontSize=$,this._layoutTextLastFontFamily=b);const{width:lt}=this._layoutTextCtx.measureText(j.textContent);if(lt>0){const vt=this._devicePixelRatio*ut.canvasWidth/lt;this._enhanceTextSelection&&(ut.scale=vt),ct=`scaleX(${vt})`}}if(ut.angle!==0&&(ct=`rotate(${ut.angle}deg) ${ct}`),ct.length>0&&(this._enhanceTextSelection&&(ut.originalTransform=ct),j.style.transform=ct),ut.hasText&&this._container.append(j),ut.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(j=0){const ut=(0,a.createPromiseCapability)();let ct=Object.create(null);const b=this._document.createElement("canvas");if(b.height=b.width=f,this._layoutTextCtx=b.getContext("2d",{alpha:!1}),this._textContent){const $=this._textContent.items,lt=this._textContent.styles;this._processItems($,lt),ut.resolve()}else if(this._textContentStream){const $=()=>{this._reader.read().then(({value:lt,done:vt})=>{if(vt){ut.resolve();return}Object.assign(ct,lt.styles),this._processItems(lt.items,ct),$()},ut.reject)};this._reader=this._textContentStream.getReader(),$()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');ut.promise.then(()=>{ct=null,j?this._renderTimer=setTimeout(()=>{it(this),this._renderTimer=null},j):it(this)},this._capability.reject)}expandTextDivs(j=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(et(this),this._bounds=null);const ut=[],ct=[];for(let b=0,$=this._textDivs.length;b<$;b++){const lt=this._textDivs[b],vt=this._textDivProperties.get(lt);vt.hasText&&(j?(ut.length=0,ct.length=0,vt.originalTransform&&ut.push(vt.originalTransform),vt.paddingTop>0?(ct.push(`${vt.paddingTop}px`),ut.push(`translateY(${-vt.paddingTop}px)`)):ct.push(0),vt.paddingRight>0?ct.push(`${vt.paddingRight/vt.scale}px`):ct.push(0),vt.paddingBottom>0?ct.push(`${vt.paddingBottom}px`):ct.push(0),vt.paddingLeft>0?(ct.push(`${vt.paddingLeft/vt.scale}px`),ut.push(`translateX(${-vt.paddingLeft/vt.scale}px)`)):ct.push(0),lt.style.padding=ct.join(" "),ut.length&&(lt.style.transform=ut.join(" "))):(lt.style.padding=null,lt.style.transform=vt.originalTransform))}}}s.TextLayerRenderTask=g;function k(_){const j=new g({textContent:_.textContent,textContentStream:_.textContentStream,container:_.container,viewport:_.viewport,textDivs:_.textDivs,textContentItemsStr:_.textContentItemsStr,enhanceTextSelection:_.enhanceTextSelection});return j._render(_.timeout),j}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=o(8),c=o(1),d=o(3);let f=class{constructor(){(0,c.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=f;{let k=function($){let lt=[];const vt=[];for(const Et of $){if(Et.fn==="save"){lt.push({fnId:92,fn:"group",items:[]}),vt.push(lt),lt=lt.at(-1).items;continue}Et.fn==="restore"?lt=vt.pop():lt.push(Et)}return lt},_=function($){if(Number.isInteger($))return $.toString();const lt=$.toFixed(10);let vt=lt.length-1;if(lt[vt]!=="0")return lt;do vt--;while(lt[vt]==="0");return lt.substring(0,lt[vt]==="."?vt:vt+1)},j=function($){if($[4]===0&&$[5]===0){if($[1]===0&&$[2]===0)return $[0]===1&&$[3]===1?"":`scale(${_($[0])} ${_($[3])})`;if($[0]===$[3]&&$[1]===-$[2]){const lt=Math.acos($[0])*180/Math.PI;return`rotate(${_(lt)})`}}else if($[0]===1&&$[1]===0&&$[2]===0&&$[3]===1)return`translate(${_($[4])} ${_($[5])})`;return`matrix(${_($[0])} ${_($[1])} ${_($[2])} ${_($[3])} ${_($[4])} ${_($[5])})`};var st=k,nt=_,_e=j;const ht={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ft="http://www.w3.org/XML/1998/namespace",it="http://www.w3.org/1999/xlink",at=["butt","round","square"],et=["miter","round","bevel"],h=function($,lt="",vt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!vt)return URL.createObjectURL(new Blob([$],{type:lt}));const Et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Mt=`data:${lt};base64,`;for(let Ot=0,Dt=$.length;Ot<Dt;Ot+=3){const Wt=$[Ot]&255,Nt=$[Ot+1]&255,Lt=$[Ot+2]&255,Rt=Wt>>2,It=(Wt&3)<<4|Nt>>4,zt=Ot+1<Dt?(Nt&15)<<2|Lt>>6:64,Vt=Ot+2<Dt?Lt&63:64;Mt+=Et[Rt]+Et[It]+Et[zt]+Et[Vt]}return Mt},rt=function(){const $=new Uint8Array([137,80,78,71,13,10,26,10]),lt=12,vt=new Int32Array(256);for(let Lt=0;Lt<256;Lt++){let Rt=Lt;for(let It=0;It<8;It++)Rt&1?Rt=3988292384^Rt>>1&2147483647:Rt=Rt>>1&2147483647;vt[Lt]=Rt}function Et(Lt,Rt,It){let zt=-1;for(let Vt=Rt;Vt<It;Vt++){const wt=(zt^Lt[Vt])&255,dt=vt[wt];zt=zt>>>8^dt}return zt^-1}function Mt(Lt,Rt,It,zt){let Vt=zt;const wt=Rt.length;It[Vt]=wt>>24&255,It[Vt+1]=wt>>16&255,It[Vt+2]=wt>>8&255,It[Vt+3]=wt&255,Vt+=4,It[Vt]=Lt.charCodeAt(0)&255,It[Vt+1]=Lt.charCodeAt(1)&255,It[Vt+2]=Lt.charCodeAt(2)&255,It[Vt+3]=Lt.charCodeAt(3)&255,Vt+=4,It.set(Rt,Vt),Vt+=Rt.length;const dt=Et(It,zt+4,Vt);It[Vt]=dt>>24&255,It[Vt+1]=dt>>16&255,It[Vt+2]=dt>>8&255,It[Vt+3]=dt&255}function Ot(Lt,Rt,It){let zt=1,Vt=0;for(let wt=Rt;wt<It;++wt)zt=(zt+(Lt[wt]&255))%65521,Vt=(Vt+zt)%65521;return Vt<<16|zt}function Dt(Lt){if(!d.isNodeJS)return Wt(Lt);try{let Rt;parseInt(process.versions.node)>=8?Rt=Lt:Rt=Buffer.from(Lt);const It=require$$5.deflateSync(Rt,{level:9});return It instanceof Uint8Array?It:new Uint8Array(It)}catch(Rt){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Rt)}return Wt(Lt)}function Wt(Lt){let Rt=Lt.length;const It=65535,zt=Math.ceil(Rt/It),Vt=new Uint8Array(2+Rt+zt*5+4);let wt=0;Vt[wt++]=120,Vt[wt++]=156;let dt=0;for(;Rt>It;)Vt[wt++]=0,Vt[wt++]=255,Vt[wt++]=255,Vt[wt++]=0,Vt[wt++]=0,Vt.set(Lt.subarray(dt,dt+It),wt),wt+=It,dt+=It,Rt-=It;Vt[wt++]=1,Vt[wt++]=Rt&255,Vt[wt++]=Rt>>8&255,Vt[wt++]=~Rt&65535&255,Vt[wt++]=(~Rt&65535)>>8&255,Vt.set(Lt.subarray(dt),wt),wt+=Lt.length-dt;const ot=Ot(Lt,0,Lt.length);return Vt[wt++]=ot>>24&255,Vt[wt++]=ot>>16&255,Vt[wt++]=ot>>8&255,Vt[wt++]=ot&255,Vt}function Nt(Lt,Rt,It,zt){const Vt=Lt.width,wt=Lt.height;let dt,ot,bt;const Pt=Lt.data;switch(Rt){case c.ImageKind.GRAYSCALE_1BPP:ot=0,dt=1,bt=Vt+7>>3;break;case c.ImageKind.RGB_24BPP:ot=2,dt=8,bt=Vt*3;break;case c.ImageKind.RGBA_32BPP:ot=6,dt=8,bt=Vt*4;break;default:throw new Error("invalid format")}const Tt=new Uint8Array((1+bt)*wt);let Ct=0,tt=0;for(let St=0;St<wt;++St)Tt[Ct++]=0,Tt.set(Pt.subarray(tt,tt+bt),Ct),tt+=bt,Ct+=bt;if(Rt===c.ImageKind.GRAYSCALE_1BPP&&zt){Ct=0;for(let St=0;St<wt;St++){Ct++;for(let gt=0;gt<bt;gt++)Tt[Ct++]^=255}}const pt=new Uint8Array([Vt>>24&255,Vt>>16&255,Vt>>8&255,Vt&255,wt>>24&255,wt>>16&255,wt>>8&255,wt&255,dt,ot,0,0,0]),yt=Dt(Tt),mt=$.length+lt*3+pt.length+yt.length,_t=new Uint8Array(mt);let kt=0;return _t.set($,kt),kt+=$.length,Mt("IHDR",pt,_t,kt),kt+=lt+pt.length,Mt("IDATA",yt,_t,kt),kt+=lt+yt.length,Mt("IEND",new Uint8Array(0),_t,kt),h(_t,"image/png",It)}return function(Rt,It,zt){const Vt=Rt.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:Rt.kind;return Nt(Rt,Vt,It,zt)}}();class g{constructor(){this.fontSizeScale=1,this.fontWeight=ht.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ht.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(lt,vt){this.x=lt,this.y=vt}}let ut=0,ct=0,b=0;s.SVGGraphics=f=class{constructor($,lt,vt=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new g,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=$,this.objs=lt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!vt,this._operatorIdMapping=[];for(const Et in c.OPS)this._operatorIdMapping[c.OPS[Et]]=Et}save(){this.transformStack.push(this.transformMatrix);const $=this.current;this.extraStack.push($),this.current=$.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group($){this.save(),this.executeOpTree($),this.restore()}loadDependencies($){const lt=$.fnArray,vt=$.argsArray;for(let Et=0,Mt=lt.length;Et<Mt;Et++)if(lt[Et]===c.OPS.dependency)for(const Ot of vt[Et]){const Dt=Ot.startsWith("g_")?this.commonObjs:this.objs,Wt=new Promise(Nt=>{Dt.get(Ot,Nt)});this.current.dependencies.push(Wt)}return Promise.all(this.current.dependencies)}transform($,lt,vt,Et,Mt,Ot){const Dt=[$,lt,vt,Et,Mt,Ot];this.transformMatrix=c.Util.transform(this.transformMatrix,Dt),this.tgrp=null}getSVG($,lt){this.viewport=lt;const vt=this._initialize(lt);return this.loadDependencies($).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList($)),vt))}convertOpList($){const lt=this._operatorIdMapping,vt=$.argsArray,Et=$.fnArray,Mt=[];for(let Ot=0,Dt=Et.length;Ot<Dt;Ot++){const Wt=Et[Ot];Mt.push({fnId:Wt,fn:lt[Wt],args:vt[Ot]})}return k(Mt)}executeOpTree($){for(const lt of $){const vt=lt.fn,Et=lt.fnId,Mt=lt.args;switch(Et|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(Mt);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(Mt[0],Mt[1]);break;case c.OPS.setFont:this.setFont(Mt);break;case c.OPS.showText:this.showText(Mt[0]);break;case c.OPS.showSpacedText:this.showText(Mt[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(Mt[0],Mt[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(Mt[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(Mt[0]);break;case c.OPS.setHScale:this.setHScale(Mt[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Mt[5]);break;case c.OPS.setTextRise:this.setTextRise(Mt[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(Mt[0]);break;case c.OPS.setLineWidth:this.setLineWidth(Mt[0]);break;case c.OPS.setLineJoin:this.setLineJoin(Mt[0]);break;case c.OPS.setLineCap:this.setLineCap(Mt[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(Mt[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(Mt[0],Mt[1],Mt[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Mt[0],Mt[1],Mt[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(Mt);break;case c.OPS.setFillColorN:this.setFillColorN(Mt);break;case c.OPS.shadingFill:this.shadingFill(Mt[0]);break;case c.OPS.setDash:this.setDash(Mt[0],Mt[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(Mt[0]);break;case c.OPS.setFlatness:this.setFlatness(Mt[0]);break;case c.OPS.setGState:this.setGState(Mt[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(Mt[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Mt[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Mt[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Mt[0],Mt[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(Mt[0],Mt[1],Mt[2],Mt[3],Mt[4],Mt[5]);break;case c.OPS.constructPath:this.constructPath(Mt[0],Mt[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(lt.items);break;default:(0,c.warn)(`Unimplemented operator ${vt}`);break}}}setWordSpacing($){this.current.wordSpacing=$}setCharSpacing($){this.current.charSpacing=$}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix($,lt,vt,Et,Mt,Ot){const Dt=this.current;Dt.textMatrix=Dt.lineMatrix=[$,lt,vt,Et,Mt,Ot],Dt.textMatrixScale=Math.hypot($,lt),Dt.x=Dt.lineX=0,Dt.y=Dt.lineY=0,Dt.xcoords=[],Dt.ycoords=[],Dt.tspan=this.svgFactory.createElement("svg:tspan"),Dt.tspan.setAttributeNS(null,"font-family",Dt.fontFamily),Dt.tspan.setAttributeNS(null,"font-size",`${_(Dt.fontSize)}px`),Dt.tspan.setAttributeNS(null,"y",_(-Dt.y)),Dt.txtElement=this.svgFactory.createElement("svg:text"),Dt.txtElement.append(Dt.tspan)}beginText(){const $=this.current;$.x=$.lineX=0,$.y=$.lineY=0,$.textMatrix=c.IDENTITY_MATRIX,$.lineMatrix=c.IDENTITY_MATRIX,$.textMatrixScale=1,$.tspan=this.svgFactory.createElement("svg:tspan"),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtgrp=this.svgFactory.createElement("svg:g"),$.xcoords=[],$.ycoords=[]}moveText($,lt){const vt=this.current;vt.x=vt.lineX+=$,vt.y=vt.lineY+=lt,vt.xcoords=[],vt.ycoords=[],vt.tspan=this.svgFactory.createElement("svg:tspan"),vt.tspan.setAttributeNS(null,"font-family",vt.fontFamily),vt.tspan.setAttributeNS(null,"font-size",`${_(vt.fontSize)}px`),vt.tspan.setAttributeNS(null,"y",_(-vt.y))}showText($){const lt=this.current,vt=lt.font,Et=lt.fontSize;if(Et===0)return;const Mt=lt.fontSizeScale,Ot=lt.charSpacing,Dt=lt.wordSpacing,Wt=lt.fontDirection,Nt=lt.textHScale*Wt,Lt=vt.vertical,Rt=Lt?1:-1,It=vt.defaultVMetrics,zt=Et*lt.fontMatrix[0];let Vt=0;for(const ot of $){if(ot===null){Vt+=Wt*Dt;continue}else if(typeof ot=="number"){Vt+=Rt*ot*Et/1e3;continue}const bt=(ot.isSpace?Dt:0)+Ot,Pt=ot.fontChar;let Tt,Ct,tt=ot.width;if(Lt){let yt;const mt=ot.vmetric||It;yt=ot.vmetric?mt[1]:tt*.5,yt=-yt*zt;const _t=mt[2]*zt;tt=mt?-mt[0]:tt,Tt=yt/Mt,Ct=(Vt+_t)/Mt}else Tt=Vt/Mt,Ct=0;(ot.isInFont||vt.missingFile)&&(lt.xcoords.push(lt.x+Tt),Lt&&lt.ycoords.push(-lt.y+Ct),lt.tspan.textContent+=Pt);let pt;Lt?pt=tt*zt-bt*Wt:pt=tt*zt+bt*Wt,Vt+=pt}lt.tspan.setAttributeNS(null,"x",lt.xcoords.map(_).join(" ")),Lt?lt.tspan.setAttributeNS(null,"y",lt.ycoords.map(_).join(" ")):lt.tspan.setAttributeNS(null,"y",_(-lt.y)),Lt?lt.y-=Vt:lt.x+=Vt*Nt,lt.tspan.setAttributeNS(null,"font-family",lt.fontFamily),lt.tspan.setAttributeNS(null,"font-size",`${_(lt.fontSize)}px`),lt.fontStyle!==ht.fontStyle&&lt.tspan.setAttributeNS(null,"font-style",lt.fontStyle),lt.fontWeight!==ht.fontWeight&&lt.tspan.setAttributeNS(null,"font-weight",lt.fontWeight);const wt=lt.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(wt===c.TextRenderingMode.FILL||wt===c.TextRenderingMode.FILL_STROKE?(lt.fillColor!==ht.fillColor&&lt.tspan.setAttributeNS(null,"fill",lt.fillColor),lt.fillAlpha<1&&lt.tspan.setAttributeNS(null,"fill-opacity",lt.fillAlpha)):lt.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?lt.tspan.setAttributeNS(null,"fill","transparent"):lt.tspan.setAttributeNS(null,"fill","none"),wt===c.TextRenderingMode.STROKE||wt===c.TextRenderingMode.FILL_STROKE){const ot=1/(lt.textMatrixScale||1);this._setStrokeAttributes(lt.tspan,ot)}let dt=lt.textMatrix;lt.textRise!==0&&(dt=dt.slice(),dt[5]+=lt.textRise),lt.txtElement.setAttributeNS(null,"transform",`${j(dt)} scale(${_(Nt)}, -1)`),lt.txtElement.setAttributeNS(ft,"xml:space","preserve"),lt.txtElement.append(lt.tspan),lt.txtgrp.append(lt.txtElement),this._ensureTransformGroup().append(lt.txtElement)}setLeadingMoveText($,lt){this.setLeading(-lt),this.moveText($,lt)}addFontStyle($){if(!$.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const lt=h($.data,$.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${$.loadedName}"; src: url(${lt}); }
`}setFont($){const lt=this.current,vt=this.commonObjs.get($[0]);let Et=$[1];lt.font=vt,this.embedFonts&&!vt.missingFile&&!this.embeddedFonts[vt.loadedName]&&(this.addFontStyle(vt),this.embeddedFonts[vt.loadedName]=vt),lt.fontMatrix=vt.fontMatrix||c.FONT_IDENTITY_MATRIX;let Mt="normal";vt.black?Mt="900":vt.bold&&(Mt="bold");const Ot=vt.italic?"italic":"normal";Et<0?(Et=-Et,lt.fontDirection=-1):lt.fontDirection=1,lt.fontSize=Et,lt.fontFamily=vt.loadedName,lt.fontWeight=Mt,lt.fontStyle=Ot,lt.tspan=this.svgFactory.createElement("svg:tspan"),lt.tspan.setAttributeNS(null,"y",_(-lt.y)),lt.xcoords=[],lt.ycoords=[]}endText(){var lt;const $=this.current;$.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&((lt=$.txtElement)!=null&&lt.hasChildNodes())&&($.element=$.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth($){$>0&&(this.current.lineWidth=$)}setLineCap($){this.current.lineCap=at[$]}setLineJoin($){this.current.lineJoin=et[$]}setMiterLimit($){this.current.miterLimit=$}setStrokeAlpha($){this.current.strokeAlpha=$}setStrokeRGBColor($,lt,vt){this.current.strokeColor=c.Util.makeHexColor($,lt,vt)}setFillAlpha($){this.current.fillAlpha=$}setFillRGBColor($,lt,vt){this.current.fillColor=c.Util.makeHexColor($,lt,vt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN($){this.current.strokeColor=this._makeColorN_Pattern($)}setFillColorN($){this.current.fillColor=this._makeColorN_Pattern($)}shadingFill($){const lt=this.viewport.width,vt=this.viewport.height,Et=c.Util.inverseTransform(this.transformMatrix),Mt=c.Util.applyTransform([0,0],Et),Ot=c.Util.applyTransform([0,vt],Et),Dt=c.Util.applyTransform([lt,0],Et),Wt=c.Util.applyTransform([lt,vt],Et),Nt=Math.min(Mt[0],Ot[0],Dt[0],Wt[0]),Lt=Math.min(Mt[1],Ot[1],Dt[1],Wt[1]),Rt=Math.max(Mt[0],Ot[0],Dt[0],Wt[0]),It=Math.max(Mt[1],Ot[1],Dt[1],Wt[1]),zt=this.svgFactory.createElement("svg:rect");zt.setAttributeNS(null,"x",Nt),zt.setAttributeNS(null,"y",Lt),zt.setAttributeNS(null,"width",Rt-Nt),zt.setAttributeNS(null,"height",It-Lt),zt.setAttributeNS(null,"fill",this._makeShadingPattern($)),this.current.fillAlpha<1&&zt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(zt)}_makeColorN_Pattern($){return $[0]==="TilingPattern"?this._makeTilingPattern($):this._makeShadingPattern($)}_makeTilingPattern($){const lt=$[1],vt=$[2],Et=$[3]||c.IDENTITY_MATRIX,[Mt,Ot,Dt,Wt]=$[4],Nt=$[5],Lt=$[6],Rt=$[7],It=`shading${b++}`,[zt,Vt,wt,dt]=c.Util.normalizeRect([...c.Util.applyTransform([Mt,Ot],Et),...c.Util.applyTransform([Dt,Wt],Et)]),[ot,bt]=c.Util.singularValueDecompose2dScale(Et),Pt=Nt*ot,Tt=Lt*bt,Ct=this.svgFactory.createElement("svg:pattern");Ct.setAttributeNS(null,"id",It),Ct.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"width",Pt),Ct.setAttributeNS(null,"height",Tt),Ct.setAttributeNS(null,"x",`${zt}`),Ct.setAttributeNS(null,"y",`${Vt}`);const tt=this.svg,pt=this.transformMatrix,yt=this.current.fillColor,mt=this.current.strokeColor,_t=this.svgFactory.create(wt-zt,dt-Vt);if(this.svg=_t,this.transformMatrix=Et,Rt===2){const kt=c.Util.makeHexColor(...lt);this.current.fillColor=kt,this.current.strokeColor=kt}return this.executeOpTree(this.convertOpList(vt)),this.svg=tt,this.transformMatrix=pt,this.current.fillColor=yt,this.current.strokeColor=mt,Ct.append(_t.childNodes[0]),this.defs.append(Ct),`url(#${It})`}_makeShadingPattern($){switch(typeof $=="string"&&($=this.objs.get($)),$[0]){case"RadialAxial":const lt=`shading${b++}`,vt=$[3];let Et;switch($[1]){case"axial":const Mt=$[4],Ot=$[5];Et=this.svgFactory.createElement("svg:linearGradient"),Et.setAttributeNS(null,"id",lt),Et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Et.setAttributeNS(null,"x1",Mt[0]),Et.setAttributeNS(null,"y1",Mt[1]),Et.setAttributeNS(null,"x2",Ot[0]),Et.setAttributeNS(null,"y2",Ot[1]);break;case"radial":const Dt=$[4],Wt=$[5],Nt=$[6],Lt=$[7];Et=this.svgFactory.createElement("svg:radialGradient"),Et.setAttributeNS(null,"id",lt),Et.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Et.setAttributeNS(null,"cx",Wt[0]),Et.setAttributeNS(null,"cy",Wt[1]),Et.setAttributeNS(null,"r",Lt),Et.setAttributeNS(null,"fx",Dt[0]),Et.setAttributeNS(null,"fy",Dt[1]),Et.setAttributeNS(null,"fr",Nt);break;default:throw new Error(`Unknown RadialAxial type: ${$[1]}`)}for(const Mt of vt){const Ot=this.svgFactory.createElement("svg:stop");Ot.setAttributeNS(null,"offset",Mt[0]),Ot.setAttributeNS(null,"stop-color",Mt[1]),Et.append(Ot)}return this.defs.append(Et),`url(#${lt})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${$[0]}`)}}setDash($,lt){this.current.dashArray=$,this.current.dashPhase=lt}constructPath($,lt){const vt=this.current;let Et=vt.x,Mt=vt.y,Ot=[],Dt=0;for(const Wt of $)switch(Wt|0){case c.OPS.rectangle:Et=lt[Dt++],Mt=lt[Dt++];const Nt=lt[Dt++],Lt=lt[Dt++],Rt=Et+Nt,It=Mt+Lt;Ot.push("M",_(Et),_(Mt),"L",_(Rt),_(Mt),"L",_(Rt),_(It),"L",_(Et),_(It),"Z");break;case c.OPS.moveTo:Et=lt[Dt++],Mt=lt[Dt++],Ot.push("M",_(Et),_(Mt));break;case c.OPS.lineTo:Et=lt[Dt++],Mt=lt[Dt++],Ot.push("L",_(Et),_(Mt));break;case c.OPS.curveTo:Et=lt[Dt+4],Mt=lt[Dt+5],Ot.push("C",_(lt[Dt]),_(lt[Dt+1]),_(lt[Dt+2]),_(lt[Dt+3]),_(Et),_(Mt)),Dt+=6;break;case c.OPS.curveTo2:Ot.push("C",_(Et),_(Mt),_(lt[Dt]),_(lt[Dt+1]),_(lt[Dt+2]),_(lt[Dt+3])),Et=lt[Dt+2],Mt=lt[Dt+3],Dt+=4;break;case c.OPS.curveTo3:Et=lt[Dt+2],Mt=lt[Dt+3],Ot.push("C",_(lt[Dt]),_(lt[Dt+1]),_(Et),_(Mt),_(Et),_(Mt)),Dt+=4;break;case c.OPS.closePath:Ot.push("Z");break}Ot=Ot.join(" "),vt.path&&$.length>0&&$[0]!==c.OPS.rectangle&&$[0]!==c.OPS.moveTo?Ot=vt.path.getAttributeNS(null,"d")+Ot:(vt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(vt.path)),vt.path.setAttributeNS(null,"d",Ot),vt.path.setAttributeNS(null,"fill","none"),vt.element=vt.path,vt.setCurrentPoint(Et,Mt)}endPath(){const $=this.current;if($.path=null,!this.pendingClip)return;if(!$.element){this.pendingClip=null;return}const lt=`clippath${ut++}`,vt=this.svgFactory.createElement("svg:clipPath");vt.setAttributeNS(null,"id",lt),vt.setAttributeNS(null,"transform",j(this.transformMatrix));const Et=$.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Et.setAttributeNS(null,"clip-rule","evenodd"):Et.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,vt.append(Et),this.defs.append(vt),$.activeClipUrl){$.clipGroup=null;for(const Mt of this.extraStack)Mt.clipGroup=null;vt.setAttributeNS(null,"clip-path",$.activeClipUrl)}$.activeClipUrl=`url(#${lt})`,this.tgrp=null}clip($){this.pendingClip=$}closePath(){const $=this.current;if($.path){const lt=`${$.path.getAttributeNS(null,"d")}Z`;$.path.setAttributeNS(null,"d",lt)}}setLeading($){this.current.leading=-$}setTextRise($){this.current.textRise=$}setTextRenderingMode($){this.current.textRenderingMode=$}setHScale($){this.current.textHScale=$/100}setRenderingIntent($){}setFlatness($){}setGState($){for(const[lt,vt]of $)switch(lt){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt);break;case"CA":this.setStrokeAlpha(vt);break;case"ca":this.setFillAlpha(vt);break;default:(0,c.warn)(`Unimplemented graphic state operator ${lt}`);break}}fill(){const $=this.current;$.element&&($.element.setAttributeNS(null,"fill",$.fillColor),$.element.setAttributeNS(null,"fill-opacity",$.fillAlpha),this.endPath())}stroke(){const $=this.current;$.element&&(this._setStrokeAttributes($.element),$.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes($,lt=1){const vt=this.current;let Et=vt.dashArray;lt!==1&&Et.length>0&&(Et=Et.map(function(Mt){return lt*Mt})),$.setAttributeNS(null,"stroke",vt.strokeColor),$.setAttributeNS(null,"stroke-opacity",vt.strokeAlpha),$.setAttributeNS(null,"stroke-miterlimit",_(vt.miterLimit)),$.setAttributeNS(null,"stroke-linecap",vt.lineCap),$.setAttributeNS(null,"stroke-linejoin",vt.lineJoin),$.setAttributeNS(null,"stroke-width",_(lt*vt.lineWidth)+"px"),$.setAttributeNS(null,"stroke-dasharray",Et.map(_).join(" ")),$.setAttributeNS(null,"stroke-dashoffset",_(lt*vt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const $=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y","0"),$.setAttributeNS(null,"width","1px"),$.setAttributeNS(null,"height","1px"),$.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append($)}paintImageXObject($){const lt=$.startsWith("g_")?this.commonObjs.get($):this.objs.get($);if(!lt){(0,c.warn)(`Dependent image with object ID ${$} is not ready yet`);return}this.paintInlineImageXObject(lt)}paintInlineImageXObject($,lt){const vt=$.width,Et=$.height,Mt=rt($,this.forceDataSchema,!!lt),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x","0"),Ot.setAttributeNS(null,"y","0"),Ot.setAttributeNS(null,"width",_(vt)),Ot.setAttributeNS(null,"height",_(Et)),this.current.element=Ot,this.clip("nonzero");const Dt=this.svgFactory.createElement("svg:image");Dt.setAttributeNS(it,"xlink:href",Mt),Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y",_(-Et)),Dt.setAttributeNS(null,"width",_(vt)+"px"),Dt.setAttributeNS(null,"height",_(Et)+"px"),Dt.setAttributeNS(null,"transform",`scale(${_(1/vt)} ${_(-1/Et)})`),lt?lt.append(Dt):this._ensureTransformGroup().append(Dt)}paintImageMaskXObject($){const lt=this.current,vt=$.width,Et=$.height,Mt=lt.fillColor;lt.maskId=`mask${ct++}`;const Ot=this.svgFactory.createElement("svg:mask");Ot.setAttributeNS(null,"id",lt.maskId);const Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y","0"),Dt.setAttributeNS(null,"width",_(vt)),Dt.setAttributeNS(null,"height",_(Et)),Dt.setAttributeNS(null,"fill",Mt),Dt.setAttributeNS(null,"mask",`url(#${lt.maskId})`),this.defs.append(Ot),this._ensureTransformGroup().append(Dt),this.paintInlineImageXObject($,Ot)}paintFormXObjectBegin($,lt){if(Array.isArray($)&&$.length===6&&this.transform($[0],$[1],$[2],$[3],$[4],$[5]),lt){const vt=lt[2]-lt[0],Et=lt[3]-lt[1],Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x",lt[0]),Mt.setAttributeNS(null,"y",lt[1]),Mt.setAttributeNS(null,"width",_(vt)),Mt.setAttributeNS(null,"height",_(Et)),this.current.element=Mt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize($){const lt=this.svgFactory.create($.width,$.height),vt=this.svgFactory.createElement("svg:defs");lt.append(vt),this.defs=vt;const Et=this.svgFactory.createElement("svg:g");return Et.setAttributeNS(null,"transform",j($.transform)),lt.append(Et),this.svg=Et,lt}_ensureClipGroup(){if(!this.current.clipGroup){const $=this.svgFactory.createElement("svg:g");$.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append($),this.current.clipGroup=$}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",j(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=o(1),c=o(33);const d=require$$5,f=require$$5,st=require$$5,nt=require$$5,_e=/^file:\/\/\/[a-zA-Z]:\//;function ht(_){const j=nt.parse(_);return j.protocol==="file:"||j.host?j:/^[a-z]:[/\\]/i.test(_)?nt.parse(`file:///${_}`):(j.host||(j.protocol="file:"),j)}class ft{constructor(j){this.source=j,this.url=ht(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new h(this),this._fullRequestReader}getRangeReader(j,ut){if(ut<=this._progressiveDataLength)return null;const ct=this.isFsUrl?new k(this,j,ut):new rt(this,j,ut);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(j)}}s.PDFNodeStream=ft;class it{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const ut=j.source;this._contentLength=ut.length,this._loaded=0,this._filename=null,this._disableRange=ut.disableRange||!1,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=j.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",ut=>{this._error(ut)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class at{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const ut=j.source;this._isStreamingSupported=!ut.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=j.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",ut=>{this._error(ut)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function et(_,j){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:j}}class h extends it{constructor(j){super(j);const ut=ct=>{if(ct.statusCode===404){const vt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=vt,this._headersCapability.reject(vt);return}this._headersCapability.resolve(),this._setReadableStream(ct);const b=vt=>this._readableStream.headers[vt.toLowerCase()],{allowRangeRequests:$,suggestedLength:lt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=$,this._contentLength=lt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(b)};this._request=null,this._url.protocol==="http:"?this._request=f.request(et(this._url,j.httpHeaders),ut):this._request=st.request(et(this._url,j.httpHeaders),ut),this._request.on("error",ct=>{this._storedError=ct,this._headersCapability.reject(ct)}),this._request.end()}}class rt extends at{constructor(j,ut,ct){super(j),this._httpHeaders={};for(const $ in j.httpHeaders){const lt=j.httpHeaders[$];typeof lt>"u"||(this._httpHeaders[$]=lt)}this._httpHeaders.Range=`bytes=${ut}-${ct-1}`;const b=$=>{if($.statusCode===404){const lt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=lt;return}this._setReadableStream($)};this._request=null,this._url.protocol==="http:"?this._request=f.request(et(this._url,this._httpHeaders),b):this._request=st.request(et(this._url,this._httpHeaders),b),this._request.on("error",$=>{this._storedError=$}),this._request.end()}}class g extends it{constructor(j){super(j);let ut=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(ut=ut.replace(/^\//,"")),d.lstat(ut,(ct,b)=>{if(ct){ct.code==="ENOENT"&&(ct=new a.MissingPDFException(`Missing PDF "${ut}".`)),this._storedError=ct,this._headersCapability.reject(ct);return}this._contentLength=b.size,this._setReadableStream(d.createReadStream(ut)),this._headersCapability.resolve()})}}class k extends at{constructor(j,ut,ct){super(j);let b=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(b=b.replace(/^\//,"")),this._setReadableStream(d.createReadStream(b,{start:ut,end:ct-1}))}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=nt,s.extractFilenameFromHeader=st,s.validateRangeRequestCapabilities=f,s.validateResponseStatus=_e;var a=o(1),c=o(34),d=o(8);function f({getResponseHeader:ht,isHttp:ft,rangeChunkSize:it,disableRange:at}){const et={allowRangeRequests:!1,suggestedLength:void 0},h=parseInt(ht("Content-Length"),10);return!Number.isInteger(h)||(et.suggestedLength=h,h<=2*it)||at||!ft||ht("Accept-Ranges")!=="bytes"||(ht("Content-Encoding")||"identity")!=="identity"||(et.allowRangeRequests=!0),et}function st(ht){const ft=ht("Content-Disposition");if(ft){let it=(0,c.getFilenameFromContentDispositionHeader)(ft);if(it.includes("%"))try{it=decodeURIComponent(it)}catch{}if((0,d.isPdfFile)(it))return it}return null}function nt(ht,ft){return ht===404||ht===0&&ft.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+ft+'".'):new a.UnexpectedResponseException(`Unexpected server response (${ht}) while retrieving PDF "${ft}".`,ht)}function _e(ht){return ht===200||ht===206}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=c;var a=o(1);function c(d){let f=!0,st=nt("filename\\*","i").exec(d);if(st){st=st[1];let h=it(st);return h=unescape(h),h=at(h),h=et(h),ht(h)}if(st=ft(d),st){const h=et(st);return ht(h)}if(st=nt("filename","i").exec(d),st){st=st[1];let h=it(st);return h=et(h),ht(h)}function nt(h,rt){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',rt)}function _e(h,rt){if(h){if(!/^[\x00-\xFF]+$/.test(rt))return rt;try{const g=new TextDecoder(h,{fatal:!0}),k=(0,a.stringToBytes)(rt);rt=g.decode(k),f=!1}catch{}}return rt}function ht(h){return f&&/[\x80-\xff]/.test(h)&&(h=_e("utf-8",h),f&&(h=_e("iso-8859-1",h))),h}function ft(h){const rt=[];let g;const k=nt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=k.exec(h))!==null;){let[,j,ut,ct]=g;if(j=parseInt(j,10),j in rt){if(j===0)break;continue}rt[j]=[ut,ct]}const _=[];for(let j=0;j<rt.length&&j in rt;++j){let[ut,ct]=rt[j];ct=it(ct),ut&&(ct=unescape(ct),j===0&&(ct=at(ct))),_.push(ct)}return _.join("")}function it(h){if(h.startsWith('"')){const rt=h.slice(1).split('\\"');for(let g=0;g<rt.length;++g){const k=rt[g].indexOf('"');k!==-1&&(rt[g]=rt[g].slice(0,k),rt.length=g+1),rt[g]=rt[g].replace(/\\(.)/g,"$1")}h=rt.join('"')}return h}function at(h){const rt=h.indexOf("'");if(rt===-1)return h;const g=h.slice(0,rt),_=h.slice(rt+1).replace(/^[^']*'/,"");return _e(g,_)}function et(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(rt,g,k,_){if(k==="q"||k==="Q")return _=_.replace(/_/g," "),_=_.replace(/=([0-9a-fA-F]{2})/g,function(j,ut){return String.fromCharCode(parseInt(ut,16))}),_e(g,_);try{_=atob(_)}catch{}return _e(g,_)})}return""}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=o(1),c=o(33);const d=200,f=206;function st(it){const at=it.response;return typeof at!="string"?at:(0,a.stringToBytes)(at).buffer}class nt{constructor(at,et={}){this.url=at,this.isHttp=/^https?:/i.test(at),this.httpHeaders=this.isHttp&&et.httpHeaders||Object.create(null),this.withCredentials=et.withCredentials||!1,this.getXhr=et.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(at,et,h){const rt={begin:at,end:et};for(const g in h)rt[g]=h[g];return this.request(rt)}requestFull(at){return this.request(at)}request(at){const et=this.getXhr(),h=this.currXhrId++,rt=this.pendingRequests[h]={xhr:et};et.open("GET",this.url),et.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const k=this.httpHeaders[g];typeof k>"u"||et.setRequestHeader(g,k)}return this.isHttp&&"begin"in at&&"end"in at?(et.setRequestHeader("Range",`bytes=${at.begin}-${at.end-1}`),rt.expectedStatus=f):rt.expectedStatus=d,et.responseType="arraybuffer",at.onError&&(et.onerror=function(g){at.onError(et.status)}),et.onreadystatechange=this.onStateChange.bind(this,h),et.onprogress=this.onProgress.bind(this,h),rt.onHeadersReceived=at.onHeadersReceived,rt.onDone=at.onDone,rt.onError=at.onError,rt.onProgress=at.onProgress,et.send(null),h}onProgress(at,et){var rt;const h=this.pendingRequests[at];h&&((rt=h.onProgress)==null||rt.call(h,et))}onStateChange(at,et){var j,ut,ct;const h=this.pendingRequests[at];if(!h)return;const rt=h.xhr;if(rt.readyState>=2&&h.onHeadersReceived&&(h.onHeadersReceived(),delete h.onHeadersReceived),rt.readyState!==4||!(at in this.pendingRequests))return;if(delete this.pendingRequests[at],rt.status===0&&this.isHttp){(j=h.onError)==null||j.call(h,rt.status);return}const g=rt.status||d;if(!(g===d&&h.expectedStatus===f)&&g!==h.expectedStatus){(ut=h.onError)==null||ut.call(h,rt.status);return}const _=st(rt);if(g===f){const b=rt.getResponseHeader("Content-Range"),$=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);h.onDone({begin:parseInt($[1],10),chunk:_})}else _?h.onDone({begin:0,chunk:_}):(ct=h.onError)==null||ct.call(h,rt.status)}getRequestXhr(at){return this.pendingRequests[at].xhr}isPendingRequest(at){return at in this.pendingRequests}abortRequest(at){const et=this.pendingRequests[at].xhr;delete this.pendingRequests[at],et.abort()}}class _e{constructor(at){this._source=at,this._manager=new nt(at.url,{httpHeaders:at.httpHeaders,withCredentials:at.withCredentials}),this._rangeChunkSize=at.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(at){const et=this._rangeRequestReaders.indexOf(at);et>=0&&this._rangeRequestReaders.splice(et,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ht(this._manager,this._source),this._fullRequestReader}getRangeReader(at,et){const h=new ft(this._manager,at,et);return h.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(h),h}cancelAllRequests(at){var et;(et=this._fullRequestReader)==null||et.cancel(at);for(const h of this._rangeRequestReaders.slice(0))h.cancel(at)}}s.PDFNetworkStream=_e;class ht{constructor(at,et){this._manager=at;const h={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=et.url,this._fullRequestId=at.requestFull(h),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=et.disableRange||!1,this._contentLength=et.length,this._rangeChunkSize=et.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const at=this._fullRequestId,et=this._manager.getRequestXhr(at),h=k=>et.getResponseHeader(k),{allowRangeRequests:rt,suggestedLength:g}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});rt&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(h),this._isRangeSupported&&this._manager.abortRequest(at),this._headersReceivedCapability.resolve()}_onDone(at){if(at&&(this._requests.length>0?this._requests.shift().resolve({value:at.chunk,done:!1}):this._cachedChunks.push(at.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(at){this._storedError=(0,c.createResponseStatusError)(at,this._url),this._headersReceivedCapability.reject(this._storedError);for(const et of this._requests)et.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(at){var et;(et=this.onProgress)==null||et.call(this,{loaded:at.loaded,total:at.lengthComputable?at.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const at=(0,a.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0,this._headersReceivedCapability.reject(at);for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ft{constructor(at,et,h){this._manager=at;const rt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=at.url,this._requestId=at.requestRange(et,h,rt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var at;(at=this.onClosed)==null||at.call(this,this)}_onDone(at){const et=at.chunk;this._requests.length>0?this._requests.shift().resolve({value:et,done:!1}):this._queuedChunk=et,this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(at){this._storedError=(0,c.createResponseStatusError)(at,this._url);for(const et of this._requests)et.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(at){var et;this.isStreamingSupported||(et=this.onProgress)==null||et.call(this,{loaded:at.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const et=this._queuedChunk;return this._queuedChunk=null,{value:et,done:!1}}if(this._done)return{value:void 0,done:!0};const at=(0,a.createPromiseCapability)();return this._requests.push(at),at.promise}cancel(at){this._done=!0;for(const et of this._requests)et.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=o(1),c=o(33);function d(ht,ft,it){return{method:"GET",headers:ht,signal:it.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function f(ht){const ft=new Headers;for(const it in ht){const at=ht[it];typeof at>"u"||ft.append(it,at)}return ft}class st{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nt(this),this._fullRequestReader}getRangeReader(ft,it){if(it<=this._progressiveDataLength)return null;const at=new _e(this,ft,it);return this._rangeRequestReaders.push(at),at}cancelAllRequests(ft){this._fullRequestReader&&this._fullRequestReader.cancel(ft);for(const it of this._rangeRequestReaders.slice(0))it.cancel(ft)}}s.PDFFetchStream=st;class nt{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const it=ft.source;this._withCredentials=it.withCredentials||!1,this._contentLength=it.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange,this._headers=f(this._stream.httpHeaders);const at=it.url;fetch(at,d(this._headers,this._withCredentials,this._abortController)).then(et=>{if(!(0,c.validateResponseStatus)(et.status))throw(0,c.createResponseStatusError)(et.status,at);this._reader=et.body.getReader(),this._headersCapability.resolve();const h=k=>et.headers.get(k),{allowRangeRequests:rt,suggestedLength:g}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=rt,this._contentLength=g||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ft,done:it}=await this._reader.read();return it?{value:ft,done:it}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}class _e{constructor(ft,it,at){this._stream=ft,this._reader=null,this._loaded=0;const et=ft.source;this._withCredentials=et.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!et.disableStream,this._abortController=new AbortController,this._headers=f(this._stream.httpHeaders),this._headers.append("Range",`bytes=${it}-${at-1}`);const h=et.url;fetch(h,d(this._headers,this._withCredentials,this._abortController)).then(rt=>{if(!(0,c.validateResponseStatus)(rt.status))throw(0,c.createResponseStatusError)(rt.status,h);this._readCapability.resolve(),this._reader=rt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ft,done:it}=await this._reader.read();return it?{value:ft,done:it}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var s=__webpack_module_cache__[i];if(s!==void 0)return s.exports;var o=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](o,o.exports,__w_pdfjs_require__),o.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return o.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return o.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return o.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return ft.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return o.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return o.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return _e.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return o.version}});var s=__w_pdfjs_require__(1),o=__w_pdfjs_require__(4),a=__w_pdfjs_require__(8),c=__w_pdfjs_require__(22),d=__w_pdfjs_require__(7),f=__w_pdfjs_require__(27),st=__w_pdfjs_require__(15),nt=__w_pdfjs_require__(3),_e=__w_pdfjs_require__(30),ht=__w_pdfjs_require__(31),ft=__w_pdfjs_require__(29);if(nt.isNodeJS){const{PDFNodeStream:it}=__w_pdfjs_require__(32);(0,o.setPDFNetworkStreamFactory)(at=>new it(at))}else{const{PDFNetworkStream:it}=__w_pdfjs_require__(35),{PDFFetchStream:at}=__w_pdfjs_require__(36);(0,o.setPDFNetworkStreamFactory)(et=>(0,a.isValidFetchUrl)(et.url)?new at(et):new it(et))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;function PdfViewer({src:i}){const s=reactExports.useRef(null),o=reactExports.useRef(null),[a,c]=reactExports.useState(null),[d,f]=reactExports.useState(1),[st,nt]=reactExports.useState(0),[_e,ht]=reactExports.useState(1),[ft,it]=reactExports.useState(!0),at=reactExports.useRef(!1),et=reactExports.useRef(null);reactExports.useEffect(()=>{try{pdfExports.GlobalWorkerOptions.workerSrc="/pdfjs/build/pdf.worker.js",console.log("pdf worker set to /pdfjs/build/pdf.worker.js")}catch(j){console.warn(j)}},[]),reactExports.useEffect(()=>{if(!i)return;const j=encodeURI(decodeURI(i)),ut=pdfExports.getDocument(j);return at.current=!1,ut.promise.then(ct=>{if(at.current){try{ct.destroy&&ct.destroy()}catch{}return}et.current=ct,c(ct),nt(ct.numPages),f(1)}).catch(ct=>{console.error("Failed to load PDF",ct)}),()=>{at.current=!0}},[i]),reactExports.useEffect(()=>{if(!a)return;let j=null,ut=[];const ct={current:0};async function b(){const Et=s.current;if(!Et)return;ut.forEach(Dt=>{try{Dt.cancel&&Dt.cancel()}catch{}}),ut=[],ct.current+=1;const Mt=ct.current;Et.innerHTML="";const Ot=Et.clientWidth||800;for(let Dt=1;Dt<=a.numPages&&!(at.current||Mt!==ct.current);Dt++)try{const Wt=await a.getPage(Dt);if(at.current||Mt!==ct.current)break;const Nt=Wt.getViewport({scale:1}),Lt=ft?Ot/Nt.width*(_e||1):_e||1,Rt=Wt.getViewport({scale:Lt}),It=window.devicePixelRatio||1,zt=document.createElement("canvas");zt.style.display="block",zt.style.marginBottom="12px",zt.style.width=Math.round(Rt.width)+"px",zt.style.height=Math.round(Rt.height)+"px",zt.width=Math.round(Rt.width*It),zt.height=Math.round(Rt.height*It);const Vt=zt.getContext("2d");Vt.setTransform(It,0,0,It,0,0),Et.appendChild(zt);const wt=Wt.render({canvasContext:Vt,viewport:Rt});ut.push(wt),await wt.promise}catch(Wt){Wt&&Wt.name!=="RenderingCancelledException"&&console.error("page render error",Wt)}}let $=null,lt=null;function vt(){$&&clearTimeout($),$=setTimeout(()=>{b(),$=null},120)}return b(),typeof ResizeObserver<"u"&&(j=new ResizeObserver(()=>{const Et=s.current;if(!Et||at.current)return;const Mt=Et.clientWidth;lt===null&&(lt=Mt),Mt!==lt&&(lt=Mt,vt())}),j.observe(s.current)),()=>{j&&j.disconnect(),ut.forEach(Et=>{try{Et.cancel&&Et.cancel()}catch{}}),ut=[]}},[a,d,_e,ft]);function h(){it(j=>!j)}function rt(){f(j=>{const ut=Math.max(1,j-1),ct=s.current;return ct&&ct.children[ut-1]&&ct.children[ut-1].scrollIntoView({behavior:"smooth",block:"start"}),ut})}function g(){f(j=>{const ut=Math.min(st,j+1),ct=s.current;return ct&&ct.children[ut-1]&&ct.children[ut-1].scrollIntoView({behavior:"smooth",block:"start"}),ut})}function k(){it(!1),ht(j=>Math.min(3,+(j+.25).toFixed(2)))}function _(){it(!1),ht(j=>Math.max(.25,+(j-.25).toFixed(2)))}return React$1.createElement("div",{className:"pdf-viewer",style:{height:"100%",display:"flex",flexDirection:"column"}},React$1.createElement("div",{className:"pdf-toolbar",style:{display:"flex",alignItems:"center",gap:8,padding:8,borderBottom:"1px solid #eee"}},React$1.createElement("button",{onClick:rt,disabled:d<=1},"Prev"),React$1.createElement("button",{onClick:g,disabled:d>=st},"Next"),React$1.createElement("div",{style:{width:8}}),React$1.createElement("button",{onClick:_},"-"),React$1.createElement("button",{onClick:k},"+"),React$1.createElement("button",{onClick:h,style:{marginLeft:8}},ft?"Fit Width":"Fixed"),React$1.createElement("div",{style:{flex:1}}),React$1.createElement("span",null,"Page ",d," / ",st),React$1.createElement("a",{style:{marginLeft:12},href:i,target:"_blank",rel:"noreferrer"},"Open in new tab"),React$1.createElement("a",{style:{marginLeft:8},href:i,download:!0},"Download")),React$1.createElement("div",{ref:s,style:{flex:1,overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",padding:12}},React$1.createElement("canvas",{ref:o,style:{background:"#eee",boxShadow:"0 0 0 1px rgba(0,0,0,0.06)"}})))}const profile={name:"Ninshid P H",title:"Senior Software Consultant",subtitle:"Project Lead, Evaluation, Execution",summary:["I bring a wealth of experience in crafting innovative, high-impact software solutions that drive measurable business outcomes. Skilled in guiding complex projects from concept to deployment, I leverage expertise across both backend and frontend technologies to build robust, scalable applications tailored to client needs.","My approach centers on aligning technical requirements with strategic objectives, ensuring every solution not only addresses immediate goals but also positions clients for long-term success. I thrive on solving challenging problems, optimizing performance, and elevating user experiences. With a strong emphasis on collaboration, clear communication, and agile practices, I enable teams to deliver quality software on time and under pressure.","Throughout my career, I have embraced emerging technologies and industry best practices to stay ahead in a rapidly evolving landscape. My commitment to continuous growth allows me to consistently add valuewhether by improving code quality, enhancing system efficiency, or mentoring the next generation of developers. Passionate about turning ideas into impactful applications, I am driven to create solutions that leave a lasting mark."],photo:"/assets/profile.png"},experience=[{company:"Coforge",role:"Senior Software Engineer",period:"2023 - Present",details:"Worked on enterprise-grade solutions."},{company:"Hidden Brains",role:"Technical Lead",period:"2021 - 2023",details:"Led web and cloud projects."},{company:"Harris Financial",role:"Senior Developer",period:"2018 - 2021",details:"Built financial systems."},{company:"Qatar Airways",role:"Software Engineer",period:"2015 - 2018",details:"Worked on reservation and operations systems."}],skills=["ASP.Net Core","React","Angular","SQL Server","Azure","GitHub Copilot","TypeScript","HTML/CSS","REST APIs"],projects=[{name:"Commodity Price Risk Management",desc:"End-to-end CP Risk system with market data ingestion and analytics."},{name:"QRISP",desc:"Quality and regulatory information system."},{name:"IGWorkbook",desc:"Interactive workbook for financial analysts."},{name:"ZealogicsHR",desc:"HR management platform."}],contact={phone:"+91-XXXXXXXXXX",email:"ninshid@example.com",linkedin:"https://www.linkedin.com/in/ninshid-p-h-73253029",blog:"https://ninshid.example.com"},content={profile,experience,skills,projects,contact};function LinkedInWindow({profileUrl:i}){const s=reactExports.useMemo(()=>{if(!i)return"";try{const _e=new URL(i).pathname.split("/").filter(Boolean);return _e[_e.length-1]||""}catch{const _e=(i||"").split("/").filter(Boolean);return _e[_e.length-1]||""}},[i]),o=content&&content.profile&&content.profile.name?content.profile.name:"",a=content&&content.profile&&content.profile.title?content.profile.title:"",c=s?`/linkedin-badge.html?vanity=${encodeURIComponent(s)}&name=${encodeURIComponent(o)}&title=${encodeURIComponent(a)}`:"/linkedin-badge.html",d=reactExports.useRef(null),[f,st]=reactExports.useState(160);return reactExports.useEffect(()=>{function nt(_e){try{const ht=_e.data||{};ht&&ht.type==="linkedin-badge-height"&&typeof ht.height=="number"&&_e.origin===window.location.origin&&st(ht.height)}catch{}}return window.addEventListener("message",nt),()=>window.removeEventListener("message",nt)},[]),React$1.createElement("div",{style:{padding:8}},React$1.createElement("iframe",{ref:d,title:"LinkedIn profile badge",src:c,style:{width:"100%",height:f,border:"none",background:"transparent"},sandbox:"allow-scripts allow-popups allow-same-origin",scrolling:"no"}))}const PADDLE_HEIGHT=80,PADDLE_WIDTH=10,BALL_SIZE=10,WINNING_SCORE=10;function playBeep(i=440,s=.05){try{const o=new(window.AudioContext||window.webkitAudioContext),a=o.createOscillator(),c=o.createGain();a.type="sine",a.frequency.value=i,c.gain.value=.05,a.connect(c),c.connect(o.destination),a.start(),setTimeout(()=>{a.stop(),o.close()},s*1e3)}catch{}}function PongGame({width:i=600,height:s=360}){const o=reactExports.useRef(null),a=reactExports.useRef(null),c=reactExports.useRef({ball:{x:i/2,y:s/2,vx:4,vy:2},leftY:s/2-PADDLE_HEIGHT/2,rightY:s/2-PADDLE_HEIGHT/2,leftScore:0,rightScore:0,running:!0,keys:{}}),[d,f]=reactExports.useState({l:0,r:0}),[st,nt]=reactExports.useState(!1);function _e(ft){const it=c.current;it.ball.x=i/2,it.ball.y=s/2;const at=4,et=ft==="left"?-1:1;it.ball.vx=at*et*(Math.random()*.4+.8),it.ball.vy=Math.random()*2.2-1.1}function ht(){const ft=c.current;ft.leftY=s/2-PADDLE_HEIGHT/2,ft.rightY=s/2-PADDLE_HEIGHT/2,ft.leftScore=0,ft.rightScore=0,ft.running=!0,f({l:0,r:0}),nt(!1),_e(Math.random()>.5?"left":"right")}return reactExports.useEffect(()=>{const ft=c.current;_e(Math.random()>.5?"left":"right");function it(et){ft.keys[et.key]=et.type==="keydown"}window.addEventListener("keydown",it),window.addEventListener("keyup",it);function at(){ht()}return window.addEventListener("pong-restart",at),()=>{window.removeEventListener("keydown",it),window.removeEventListener("keyup",it),window.removeEventListener("pong-restart",at)}},[]),reactExports.useEffect(()=>{const ft=o.current;if(!ft)return;ft.width=i,ft.height=s;const it=ft.getContext("2d");function at(){const h=c.current;it.fillStyle="#cfe9ff",it.fillRect(0,0,i,s),it.fillStyle="#b0d4ff";for(let rt=0;rt<s;rt+=20)it.fillRect(i/2-1,rt+5,2,10);it.fillStyle="#012a4a",it.fillRect(8,h.leftY,PADDLE_WIDTH,PADDLE_HEIGHT),it.fillRect(i-8-PADDLE_WIDTH,h.rightY,PADDLE_WIDTH,PADDLE_HEIGHT),it.fillStyle="#072034",it.fillRect(h.ball.x-BALL_SIZE/2,h.ball.y-BALL_SIZE/2,BALL_SIZE,BALL_SIZE),it.fillStyle="#012a4a",it.font="20px Segoe UI, Arial",it.fillText(h.leftScore,i/2-40,30),it.fillText(h.rightScore,i/2+24,30),st&&(it.fillStyle="rgba(0,0,0,0.6)",it.fillRect(0,0,i,s),it.fillStyle="#fff",it.font="28px Segoe UI",it.fillText("Game Over",i/2-70,s/2-10),it.font="16px Segoe UI",it.fillText("Press Restart to play again",i/2-120,s/2+20))}function et(){const h=c.current;if(!h.running){a.current=requestAnimationFrame(et),at();return}if((h.keys.w||h.keys.W)&&(h.leftY-=6),(h.keys.s||h.keys.S)&&(h.leftY+=6),h.keys.ArrowUp&&(h.rightY-=6),h.keys.ArrowDown&&(h.rightY+=6),h.leftY=Math.max(0,Math.min(s-PADDLE_HEIGHT,h.leftY)),h.rightY=Math.max(0,Math.min(s-PADDLE_HEIGHT,h.rightY)),h.ball.x+=h.ball.vx,h.ball.y+=h.ball.vy,(h.ball.y-BALL_SIZE/2<=0||h.ball.y+BALL_SIZE/2>=s)&&(h.ball.vy*=-1,playBeep(800,.03)),h.ball.x-BALL_SIZE/2<=8+PADDLE_WIDTH&&h.ball.y>=h.leftY&&h.ball.y<=h.leftY+PADDLE_HEIGHT){h.ball.vx=Math.abs(h.ball.vx)*1.03;const rt=(h.ball.y-(h.leftY+PADDLE_HEIGHT/2))/(PADDLE_HEIGHT/2);h.ball.vy=rt*5,playBeep(600,.03)}if(h.ball.x+BALL_SIZE/2>=i-8-PADDLE_WIDTH&&h.ball.y>=h.rightY&&h.ball.y<=h.rightY+PADDLE_HEIGHT){h.ball.vx=-Math.abs(h.ball.vx)*1.03;const rt=(h.ball.y-(h.rightY+PADDLE_HEIGHT/2))/(PADDLE_HEIGHT/2);h.ball.vy=rt*5,playBeep(600,.03)}h.ball.x<0&&(h.rightScore+=1,f({l:h.leftScore,r:h.rightScore}),playBeep(240,.12),h.rightScore>=WINNING_SCORE?(nt(!0),h.running=!1):_e("left")),h.ball.x>i&&(h.leftScore+=1,f({l:h.leftScore,r:h.rightScore}),playBeep(240,.12),h.leftScore>=WINNING_SCORE?(nt(!0),h.running=!1):_e("right")),at(),a.current=requestAnimationFrame(et)}return a.current=requestAnimationFrame(et),()=>{cancelAnimationFrame(a.current)}},[st]),React$1.createElement("div",{className:"pong-wrap",style:{width:i,height:s}},React$1.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8}},React$1.createElement("div",{style:{fontWeight:700}},"XP Pong"),React$1.createElement("div",{style:{fontSize:14}},"W/S  Left | /  Right"),React$1.createElement("div",{style:{fontWeight:700}},d.l," : ",d.r)),React$1.createElement("canvas",{ref:o,style:{display:"block",background:"#cfe9ff",border:"2px solid #bcdcff",borderRadius:6}}),React$1.createElement("div",{style:{marginTop:8,display:"flex",gap:8}},React$1.createElement("button",{onClick:()=>{ht()},style:{padding:"6px 10px",background:"#0b63b3",color:"#fff",border:"none",borderRadius:4}},"Restart"),React$1.createElement("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("pong-restart"))},style:{padding:"6px 10px"}},"Signal Restart")))}const QUESTIONS=[{category:"Ninshid Skills",question:"Which frontend library does Ninshid primarily use for building interactive UI?",options:["Angular","Vue","React",".NET WinForms"],answer:2},{category:"Ninshid Projects",question:"Which project deals with Commodity Price Risk Management?",options:["QRISP","IGWorkbook","ZealogicsHR","Commodity Price Risk Management"],answer:3},{category:"Dev Tools",question:"Which AI assistant is mentioned in Ninshids skillset?",options:["GitHub Copilot","Siri","Cortana","Alexa"],answer:0},{category:"Cloud & Backend",question:"Which cloud platform is listed among Ninshids skills?",options:["AWS","Azure","GCP","Heroku"],answer:1},{category:"Windows XP Trivia",question:"In which year was Windows XP originally released?",options:["1998","2001","2004","2007"],answer:1},{category:"Windows XP Trivia",question:"What is the name of the default Windows XP wallpaper?",options:["Bliss","Horizon","Meadow","Greenhill"],answer:0},{category:"Ninshid Projects",question:"Which project name suggests HR functionality?",options:["QRISP","IGWorkbook","ZealogicsHR","Commodity Price Risk Management"],answer:2}];function Quiz(){const[i,s]=reactExports.useState(0),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(0),[f,st]=reactExports.useState(!1),[nt,_e]=reactExports.useState([]);reactExports.useEffect(()=>{const at=QUESTIONS.slice();for(let et=at.length-1;et>0;et--){const h=Math.floor(Math.random()*(et+1));[at[et],at[h]]=[at[h],at[et]]}_e(at)},[]),reactExports.useEffect(()=>{a(null)},[i]);function ht(){if(o==null)return;nt[i].answer===o&&d(h=>h+1);const et=i+1;et>=nt.length?st(!0):s(et)}function ft(){s(0),d(0),st(!1),a(null);const at=QUESTIONS.slice();for(let et=at.length-1;et>0;et--){const h=Math.floor(Math.random()*(et+1));[at[et],at[h]]=[at[h],at[et]]}_e(at)}if(!nt.length)return React$1.createElement("div",null,"Loading...");if(f)return React$1.createElement("div",{className:"quiz-end",style:{textAlign:"center"}},React$1.createElement("h3",null,"Quiz Complete"),React$1.createElement("div",{style:{fontSize:18,fontWeight:700}},c," / ",nt.length),React$1.createElement("div",{style:{marginTop:12}},React$1.createElement("button",{className:"xp-btn primary",onClick:ft},"Restart")));const it=nt[i];return React$1.createElement("div",{className:"quiz-root"},React$1.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8}},React$1.createElement("div",{style:{fontWeight:700}},it.category),React$1.createElement("div",{style:{fontSize:13}},"Question ",i+1," / ",nt.length)),React$1.createElement("div",{className:"quiz-question",style:{marginBottom:12}},it.question),React$1.createElement("div",{className:"quiz-choices",role:"list"},it.options.map((at,et)=>React$1.createElement("div",{key:et,className:`quiz-choice ${o===et?"selected":""}`,onClick:()=>a(et),role:"listitem"},React$1.createElement("div",{className:"choice-letter"},String.fromCharCode(65+et)),React$1.createElement("div",{className:"choice-text"},at)))),React$1.createElement("div",{style:{marginTop:12,display:"flex",gap:8,justifyContent:"flex-end"}},React$1.createElement("button",{className:"xp-btn",onClick:()=>{a(null),i>0&&s(i-1)},disabled:i===0},"Back"),React$1.createElement("button",{className:"xp-btn",onClick:()=>{st(!0)},style:{marginRight:"auto"}},"Quit"),React$1.createElement("button",{className:"xp-btn primary",onClick:ht,disabled:o==null},"Next")))}function XPDialog({children:i}){return React$1.createElement("div",{className:"xp-dialog",style:{width:"100%",height:"100%"}},React$1.createElement("div",{className:"xp-dialog-body",style:{padding:8}},i))}function Header({title:i,onClose:s,onMinimize:o,onMaximize:a,onMouseDown:c,onRestart:d}){const[f,st]=React$1.useState(!1);return React$1.createElement("div",{className:"xp-window-header",onMouseDown:c},React$1.createElement("div",{style:{display:"flex",alignItems:"center",gap:8}},React$1.createElement("div",{style:{position:"relative"}},React$1.createElement("button",{className:"menu-btn",onClick:nt=>{nt.stopPropagation(),st(_e=>!_e)},title:"Menu"},""),f?React$1.createElement("div",{className:"menu-dropdown",onClick:nt=>nt.stopPropagation()},i==="XP Pong"?React$1.createElement("div",{className:"menu-item",onClick:()=>{window.dispatchEvent(new CustomEvent("pong-restart")),st(!1)}},"Restart"):null):null),React$1.createElement("div",{className:"title"},i)),React$1.createElement("div",{className:"controls"},React$1.createElement("button",{className:"min",onClick:o,title:"Minimize"},"_"),React$1.createElement("button",{className:"max",onClick:a,title:"Maximize"},""),React$1.createElement("button",{className:"close",onClick:s,title:"Close"},"")))}function WindowCmp({win:i,content:s,onFocus:o,onClose:a,onMinimize:c,onUpdate:d}){const f=reactExports.useRef(),[st,nt]=reactExports.useState({pos:i.position,size:i.size,maximized:!1}),[_e,ht]=reactExports.useState(!1),[ft,it]=reactExports.useState(!1),[at,et]=reactExports.useState(!1);if(reactExports.useEffect(()=>{nt({pos:i.position,size:i.size,maximized:!1})},[i.position.x,i.position.y,i.size.w,i.size.h]),reactExports.useEffect(()=>{const b=setTimeout(()=>ht(!0),10);return()=>clearTimeout(b)},[]),i.minimized)return null;function h(b){b.preventDefault(),o();const $=b.clientX,lt=b.clientY,vt={...st.pos};function Et(Ot){const Dt=vt.x+(Ot.clientX-$),Wt=vt.y+(Ot.clientY-lt);nt(Nt=>({...Nt,pos:{x:Math.max(0,Dt),y:Math.max(0,Wt)}})),d({position:{x:Math.max(0,Dt),y:Math.max(0,Wt)}})}function Mt(){window.removeEventListener("mousemove",Et),window.removeEventListener("mouseup",Mt)}window.addEventListener("mousemove",Et),window.addEventListener("mouseup",Mt)}function rt(b){b.preventDefault(),o();const $=b.clientX,lt=b.clientY,vt={...st.size};function Et(Ot){const Dt=Math.max(300,vt.w+(Ot.clientX-$)),Wt=Math.max(200,vt.h+(Ot.clientY-lt));nt(Nt=>({...Nt,size:{w:Dt,h:Wt}})),d({size:{w:Dt,h:Wt}})}function Mt(){window.removeEventListener("mousemove",Et),window.removeEventListener("mouseup",Mt)}window.addEventListener("mousemove",Et),window.addEventListener("mouseup",Mt)}function g(){if(st.maximized)nt(b=>({...b,maximized:!1,pos:i.position,size:i.size})),d({position:i.position,size:i.size});else{const b=window.innerWidth,$=window.innerHeight-40;nt(lt=>({...lt,maximized:!0,pos:{x:0,y:0},size:{w:b,h:$}})),d({position:{x:0,y:0},size:{w:b,h:$}})}}function k(){it(!0)}function _(){et(!0)}function j(b){ft?(a&&a(),it(!1)):at&&(c&&c(),et(!1))}const ut=["xp-window"];_e&&ut.push("opening"),ft&&ut.push("closing"),at&&ut.push("minimizing"),st.maximized&&ut.push("max");const ct=st.maximized?{left:0,top:0,width:"100vw",height:"calc(100vh - 40px)",zIndex:i.z}:{left:st.pos.x,top:st.pos.y,width:st.size.w,height:st.size.h,zIndex:i.z};return React$1.createElement("div",{className:ut.join(" "),style:ct,ref:f,onMouseDown:o,onAnimationEnd:j},React$1.createElement(Header,{title:i.title,onClose:k,onMinimize:_,onMaximize:g,onMouseDown:h}),React$1.createElement("div",{className:"xp-window-body"},i.title==="About Me"&&React$1.createElement("div",{className:"about"},React$1.createElement("img",{src:s.profile.photo,alt:"profile",className:"profile"}),React$1.createElement("div",{className:"about-text"},React$1.createElement("div",{className:"about-card"},React$1.createElement("div",{className:"about-badge"},"MY STORY"),React$1.createElement("h2",{className:"about-hero"},s.profile.name),React$1.createElement("div",{className:"about-meta"},React$1.createElement("h4",null,s.profile.title),s.profile.subtitle?React$1.createElement(React$1.Fragment,null,React$1.createElement("span",{className:"about-divider","aria-hidden":!0}),React$1.createElement("div",{className:"about-subtitle"},s.profile.subtitle)):null),React$1.createElement("div",{className:"about-copy"},Array.isArray(s.profile.summary)?s.profile.summary.map((b,$)=>React$1.createElement("p",{key:$},b)):React$1.createElement("p",null,s.profile.summary)),React$1.createElement("a",{className:"about-cta",href:"/assets/NINSHID CV.pdf",target:"_blank",rel:"noopener noreferrer"},"Swipe to know more ")))),i.title==="Resume"&&React$1.createElement("div",{className:"resume"},React$1.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},React$1.createElement("div",{style:{paddingBottom:8}}),React$1.createElement("div",{style:{flex:1,overflow:"auto"}},React$1.createElement(PdfViewer,{src:"/assets/NINSHID CV.pdf"})))),i.title==="Experience"&&React$1.createElement("div",{className:"experience"},s.experience.map((b,$)=>React$1.createElement("div",{key:$,className:"exp-item"},React$1.createElement("strong",null,b.role),"  ",b.company," ",React$1.createElement("span",{className:"period"},b.period),React$1.createElement("div",{className:"details"},b.details)))),i.title==="Skills"&&React$1.createElement("div",{className:"skills"},s.skills.map((b,$)=>React$1.createElement("span",{key:$,className:"skill"},b))),i.title==="Projects"&&React$1.createElement("div",{className:"projects"},s.projects.map((b,$)=>React$1.createElement("div",{key:$,className:"project"},React$1.createElement("strong",null,b.name),React$1.createElement("div",null,b.desc)))),i.title==="Contact"&&React$1.createElement("div",{className:"contact"},React$1.createElement("div",null,"Phone: ",React$1.createElement("a",{href:`tel:${s.contact.phone}`},s.contact.phone)),React$1.createElement("div",null,"Email: ",React$1.createElement("a",{href:`mailto:${s.contact.email}`},s.contact.email)),React$1.createElement("div",null,"LinkedIn: ",React$1.createElement("a",{href:s.contact.linkedin,target:"_blank",rel:"noreferrer"},"Profile")),React$1.createElement("div",null,"Blog: ",React$1.createElement("a",{href:s.contact.blog,target:"_blank",rel:"noreferrer"},"Blog"))),i.title==="LinkedIn"&&React$1.createElement(LinkedInWindow,{profileUrl:s.contact.linkedin}),i.title==="XP Pong"&&React$1.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},React$1.createElement(PongGame,{width:Math.max(420,st.size.w-40),height:Math.max(260,st.size.h-120)})),i.title==="Trivia Quiz"&&React$1.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"}},React$1.createElement("div",{style:{padding:8}},React$1.createElement("div",{style:{fontWeight:700,marginBottom:8}},"Trivia Quiz"),React$1.createElement("div",{style:{fontSize:13,color:"#334"}},"Test your knowledge about Ninshid and Windows XP.")),React$1.createElement("div",{style:{flex:1,overflow:"auto",padding:12}},React$1.createElement("div",{style:{maxWidth:720,margin:"0 auto"}},React$1.createElement(XPDialog,null,React$1.createElement(Quiz,null)))))),React$1.createElement("div",{className:"resize-handle",onMouseDown:rt}))}function StartMenu(){return null}function Desktop({content:i,windows:s,onOpen:o,onFocus:a,onUpdate:c,onClose:d,onMinimize:f}){const st=[{id:"xp-pong",label:"XP Pong",icon:React$1.createElement("svg",{width:"56",height:"56",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",fill:"#0b63b3"}),React$1.createElement("circle",{cx:"8",cy:"12",r:"2.2",fill:"#fff"}),React$1.createElement("rect",{x:"14",y:"9",width:"4",height:"6",rx:"1",fill:"#fff"})),action:()=>o("XP Pong")},{id:"trivia-quiz",label:"Trivia Quiz",icon:React$1.createElement("svg",{width:"56",height:"56",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",fill:"#37a234"}),React$1.createElement("text",{x:"50%",y:"55%",textAnchor:"middle",fontSize:"10",fontFamily:"Segoe UI, Arial",fill:"#fff"},"TQ")),action:()=>o("Trivia Quiz")},{id:"resume",label:"My Resume",icon:React$1.createElement("svg",{width:"56",height:"56",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"3",fill:"#E33"}),React$1.createElement("text",{x:"50%",y:"55%",textAnchor:"middle",fontSize:"10",fontFamily:"Segoe UI, Arial",fill:"#fff"},"PDF")),action:()=>o("Resume")},{id:"projects",label:"Projects",icon:"",action:()=>o("Projects")},{id:"linkedin",label:"LinkedIn",icon:React$1.createElement("svg",{width:"56",height:"56",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("rect",{x:"2",y:"2",width:"20",height:"20",rx:"4",fill:"#0077B5"}),React$1.createElement("text",{x:"50%",y:"62%",textAnchor:"middle",fontSize:"10",fontFamily:"Segoe UI, Arial",fontWeight:"700",fill:"#fff"},"in")),action:()=>o("LinkedIn")},{id:"blog",label:"Blog",icon:"",action:()=>window.open(i.contact.blog,"_blank")},{id:"profile",label:i.profile.name,icon:React$1.createElement("img",{src:i.profile.photo,alt:"profile"}),action:()=>o("About Me")}],[nt,_e]=reactExports.useState({});reactExports.useEffect(()=>{const it=localStorage.getItem("desktopPositions");if(it)try{_e(JSON.parse(it))}catch{}else{const at={};st.forEach((k,_)=>{const j=_%6,ut=Math.floor(_/6);at[k.id]={x:28+j*110,y:20+ut*110}}),_e(at)}},[]);const ht=reactExports.useCallback(it=>{_e(it);try{localStorage.setItem("desktopPositions",JSON.stringify(it))}catch{}},[]);function ft(it,at){const et={...nt,[it]:{x:Math.max(8,Math.min(at.x,window.innerWidth-80)),y:Math.max(8,Math.min(at.y,window.innerHeight-120))}};ht(et)}return React$1.createElement("div",{className:"desktop",style:{backgroundImage:"url(/assets/wallpaper.jpeg)"}},React$1.createElement("div",{className:"icons",role:"list"},st.map(it=>React$1.createElement(Icon,{key:it.id,id:it.id,label:it.label,icon:it.icon,pos:nt[it.id]||{x:0,y:0},onDoubleClick:it.action,onMoveEnd:ft}))),s.map(it=>React$1.createElement(WindowCmp,{key:it.id,win:it,content:i,onFocus:()=>a(it.id),onClose:()=>d(it.id),onMinimize:()=>f(it.id),onUpdate:at=>c(it.id,at)})),React$1.createElement(StartMenu,null))}function StartButton({onClick:i}){return React$1.createElement("button",{className:"start-button",onClick:i,"aria-label":"Start menu"},React$1.createElement("span",{className:"start-flag","aria-hidden":!0,dangerouslySetInnerHTML:{__html:`
        <svg width="18" height="14" viewBox="0 0 18 14" xmlns="http://www.w3.org/2000/svg">
          <g fill="none" fill-rule="evenodd">
            <rect fill="#FF0000" x="0" y="0" width="8" height="6" rx="0"/>
            <rect fill="#00A200" x="0" y="6" width="8" height="8" rx="0"/>
            <rect fill="#00A2FF" x="8" y="0" width="10" height="6" rx="0"/>
            <rect fill="#FFD200" x="8" y="6" width="10" height="8" rx="0"/>
          </g>
        </svg>
      `}}),React$1.createElement("span",{className:"start-text"},"start"))}function Tray(){const[i,s]=reactExports.useState(new Date);return reactExports.useEffect(()=>{const o=setInterval(()=>s(new Date),1e3);return()=>clearInterval(o)},[]),React$1.createElement("div",{className:"tray-box",role:"status","aria-live":"polite"},React$1.createElement("div",{className:"tray-icon",title:"Volume"},""),React$1.createElement("div",{className:"tray-icon",title:"Network"},""),React$1.createElement("div",{className:"clock"},i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))}function Taskbar({windows:i,onOpen:s,onRestore:o,onFocus:a}){const[c,d]=reactExports.useState(!1);return React$1.createElement("div",{className:"taskbar"},React$1.createElement("div",{className:"left"},React$1.createElement(StartButton,{onClick:()=>d(f=>!f)}),c&&React$1.createElement("div",{className:"start-menu"},React$1.createElement("div",{onClick:()=>{s("About Me"),d(!1)}},"About Me"),React$1.createElement("div",{onClick:()=>{s("Experience"),d(!1)}},"Experience"),React$1.createElement("div",{onClick:()=>{s("Skills"),d(!1)}},"Skills"),React$1.createElement("div",{onClick:()=>{s("Projects"),d(!1)}},"Projects"),React$1.createElement("div",{onClick:()=>{s("Contact"),d(!1)}},"Contact"))),React$1.createElement("div",{className:"center"},i.map(f=>React$1.createElement("button",{key:f.id,className:`task-button ${f.minimized?"min":""}`,onClick:()=>f.minimized?o(f.id):a(f.id)},f.title))),React$1.createElement("div",{className:"right"},React$1.createElement(Tray,null)))}function Splash({duration:i=3e3,onFinish:s,durationMultiplier:o=1.5}){const[a,c]=reactExports.useState(0),d=["/assets/microsoft-windows-xp-logo.png","/assets/winxp-logo-v2.png","/assets/winxp-logo.png","/assets/winxp-boot.png","/assets/logo.svg"],[f,st]=reactExports.useState(0),[nt,_e]=reactExports.useState(!0),[ht,ft]=reactExports.useState("Starting..."),it=reactExports.useRef(!0);return reactExports.useEffect(()=>{it.current=!0;const at=Math.max(.5,o),et=[{label:"Initializing hardware",from:0,to:12,dur:600*at},{label:"Loading drivers",from:12,to:48,dur:900*at},{label:"Starting services",from:48,to:76,dur:800*at},{label:"Applying settings",from:76,to:92,dur:500*at},{label:"Finalizing",from:92,to:100,dur:300*at}];let h=!1,rt=null;async function g(){for(const _ of et){if(!it.current||h)break;ft(_.label);const j=performance.now(),ut=_.from,ct=_.to-_.from;for(;;){const b=performance.now(),$=Math.min(1,(b-j)/_.dur),vt=Math.round(ut+ct*$);if(it.current&&!h&&c(vt),$>=1)break;if(Math.random()<.018&&it.current&&!h){const Et=Math.min(_.to,vt+Math.round(Math.random()*3));c(Et)}await new Promise(Et=>rt=requestAnimationFrame(Et))}await new Promise(b=>setTimeout(b,(80+Math.random()*120)*at))}!h&&it.current&&(c(100),ft("Welcome"),setTimeout(()=>{it.current&&!h&&s&&s()},260*at))}g();function k(){h=!0,it.current=!1,rt&&cancelAnimationFrame(rt)}return window.addEventListener("keydown",k,{once:!0}),()=>{k(),window.removeEventListener("keydown",k)}},[s]),React$1.createElement("div",{className:"xp-splash",onClick:()=>s&&s()},React$1.createElement("div",{className:"xp-splash-inner"},React$1.createElement("div",{className:"xp-logo-wrap"},nt?React$1.createElement("img",{src:d[f],alt:"Windows XP",onError:()=>{f+1<d.length?st(at=>at+1):_e(!1)}}):React$1.createElement("div",{style:{textAlign:"center"}},React$1.createElement("div",{style:{fontSize:42,fontWeight:700}},"Microsoft"),React$1.createElement("div",{style:{fontSize:64,fontWeight:800,letterSpacing:4}},"Windows",React$1.createElement("span",{style:{color:"#ff8b00"}},"xp")))),React$1.createElement("div",{className:"xp-dots","aria-hidden":!0},React$1.createElement("div",{className:"xp-dots-track"},React$1.createElement("div",{className:"xp-dots-inner"},[0,1,2].map(at=>React$1.createElement("span",{key:at,className:"xp-dot"}))))),React$1.createElement("div",{className:"xp-status"},ht)))}function App(){console.log("App mount");const[i,s]=reactExports.useState(!0),[o,a]=reactExports.useState([]),[c,d]=reactExports.useState(10);reactExports.useEffect(()=>{},[]),reactExports.useEffect(()=>{},[]);function f(it){const at=Date.now(),et=it;d(h=>{const rt=h+1,g={id:at,title:et,type:it,minimized:!1,z:rt,position:{x:80+o.length*20%300,y:80+o.length*10%200},size:{w:640,h:360}};return a(k=>[...k,g]),rt})}function st(it){a(at=>at.filter(et=>et.id!==it))}function nt(it){a(at=>at.map(et=>et.id===it?{...et,minimized:!0}:et))}function _e(it){d(at=>{const et=at+1;return a(h=>h.map(rt=>rt.id===it?{...rt,minimized:!1,z:et}:rt)),et})}function ht(it){d(at=>{const et=at+1;return a(h=>h.map(rt=>rt.id===it?{...rt,z:et}:rt)),et})}function ft(it,at){a(et=>et.map(h=>h.id===it?{...h,...at}:h))}return React$1.createElement("div",{className:"xp-root"},i?React$1.createElement(React$1.Suspense,{fallback:null},React$1.createElement("div",{style:{position:"absolute",inset:0,zIndex:9999}},React$1.createElement(Splash,{durationMultiplier:1.8,onFinish:()=>s(!1)}))):null,React$1.createElement(Desktop,{content,windows:o,onOpen:f,onFocus:ht,onUpdate:ft,onClose:st,onMinimize:nt}),React$1.createElement(Taskbar,{windows:o,onOpen:f,onRestore:_e,onFocus:ht}))}class ErrorBoundary extends React$1.Component{constructor(s){super(s),this.state={error:null,info:null}}componentDidCatch(s,o){console.error("Captured error in ErrorBoundary",s,o),this.setState({error:s,info:o})}render(){return this.state.error?React$1.createElement("div",{style:{padding:20,fontFamily:"Arial,Helvetica,sans-serif"}},React$1.createElement("h2",null,"Something went wrong"),React$1.createElement("pre",{style:{whiteSpace:"pre-wrap",background:"#f8d7da",color:"#721c24",padding:12,borderRadius:6}},this.state.error&&this.state.error.toString()),React$1.createElement("details",{style:{marginTop:10}},React$1.createElement("summary",null,"Stack / info"),React$1.createElement("pre",{style:{whiteSpace:"pre-wrap"}},this.state.info&&this.state.info.componentStack))):this.props.children}}createRoot(document.getElementById("root")).render(React$1.createElement(React$1.StrictMode,null,React$1.createElement(ErrorBoundary,null,React$1.createElement(App,null))));
